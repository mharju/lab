shadow$provide[48]=function(mc,Nb,Tb,Hb){(function(m,ka){"object"===typeof Hb&&"undefined"!==typeof Tb?Tb.exports=ka():"function"===typeof define&&define.amd?define(ka):(m=m||self,m.c3=ka())})(this,function(){function m(c){this.d3=window.d3?window.d3:"undefined"!==typeof Nb?Nb(47):void 0;this.api=c;this.config=this.getDefaultConfig();this.data={};this.cache={};this.axes={}}function ka(c){this.internal=new m(this);this.internal.loadConfig(c);this.internal.beforeInit(c);this.internal.init();this.internal.afterInit(c);
(function v(f,k,p){Object.keys(f).forEach(function(y){k[y]=f[y].bind(p);0<Object.keys(f[y]).length&&v(f[y],k[y],p)})})(ka.prototype,this,this)}function Fa(c,d){this.component=c;this.params=d||{};this.d3=c.d3;this.scale=this.d3.scaleLinear();this.range;this.orient="bottom";this.innerTickSize=6;this.outerTickSize=this.params.withOuterTick?6:0;this.tickPadding=3;this.tickValues=null;this.tickFormat;this.tickArguments;this.tickOffset=0;this.tickCulling=!0;this.tickCentered;this.tickTextCharSize;this.tickTextRotate=
this.params.tickTextRotate;this.tickLength;this.axis=this.generateAxis()}function u(c,d,f){function k(y,x,J){if(3>arguments.length)J=10;else if(0===J)return[];var da=J-1;var wa=(x-y)/da;var ca=Array(J);var fa=y;ca[0]=Math.pow(10,fa);for(var Ha=1;Ha<da;Ha++)fa+=wa,ca[Ha]=Math.pow(10,fa);ca[da]=Math.pow(10,x);return ca}function p(y){return f(d(y))}var v=[.01,10];d||(d=c.scaleLinear(),d.range(v));f||(f=c.scaleLog(),f.domain(v),f.nice());p.domain=function(y){if(!arguments.length)return d.domain();d.domain(y);
return p};p.range=function(y){if(!arguments.length)return f.range();f.range(y);return p};p.ticks=function(y){return k(-2,1,y||10).map(function(x){return d.invert(x)})};p.copy=function(){return u(c,d.copy(),f.copy())};return p}function B(c){return 1===c/Math.pow(10,Math.ceil(Math.log(c)/Math.LN10-1E-12))}var ha=function(c){return c[1]-c[0]},na=function(c,d,f){return Q(c[d])?c[d]:f},Ca=function(c){var d=La(c);c=[c.pathSegList.getItem(0),c.pathSegList.getItem(1)];return{x:c[0].x,y:Math.min(c[0].y,c[1].y),
width:d.width,height:d.height}},La=function(c){try{return c.getBBox()}catch(d){return{x:0,y:0,width:0,height:0}}},ea=function(c,d){var f=!1;Object.keys(c).forEach(function(k){c[k]===d&&(f=!0)});return f},Q=function(c){return"undefined"!==typeof c},ba=function(c){return"undefined"===typeof c||null===c||aa(c)&&0===c.length||"object"===typeof c&&0===Object.keys(c).length},W=function(c){return"function"===typeof c},aa=function(c){return"string"===typeof c},H=function(c){return"undefined"===typeof c},
R=function(c){return c||0===c},ja=function(c){return"string"===typeof c?c.replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"):c},N=function(c){return Array.isArray(c)?[].concat.apply([],c):[]},O=function(c){"undefined"===typeof c&&(c=window.navigator.userAgent);var d=c.indexOf("MSIE ");if(0<d)return parseInt(c.substring(d+5,c.indexOf(".",d)),10);d=c.indexOf("Trident/");return 0<d?(d=c.indexOf("rv:"),parseInt(c.substring(d+3,c.indexOf(".",d)),10)):!1},Y=function(c){var d=O();return"undefined"===typeof c?
!!d:c===d};Fa.prototype.axisX=function(c,d,f){c.attr("transform",function(k){return"translate("+Math.ceil(d(k)+f)+", 0)"})};Fa.prototype.axisY=function(c,d){c.attr("transform",function(f){return"translate(0,"+Math.ceil(d(f))+")"})};Fa.prototype.scaleExtent=function(c){var d=c[0];c=c[c.length-1];return d<c?[d,c]:[c,d]};Fa.prototype.generateTicks=function(c){var d=[];if(c.ticks)return c.ticks.apply(c,this.tickArguments);var f=c.domain();for(c=Math.ceil(f[0]);c<f[1];c++)d.push(c);0<d.length&&0<d[0]&&
d.unshift(d[0]-(d[1]-d[0]));return d};Fa.prototype.copyScale=function(){var c=this.scale.copy();if(this.params.isCategory){var d=this.scale.domain();c.domain([d[0],d[1]-1])}return c};Fa.prototype.textFormatted=function(c){c=this.tickFormat?this.tickFormat(c):c;return"undefined"!==typeof c?c:""};Fa.prototype.updateRange=function(){return this.range=this.scale.rangeExtent?this.scale.rangeExtent():this.scaleExtent(this.scale.range())};Fa.prototype.updateTickTextCharSize=function(c){var d=this;if(d.tickTextCharSize)return d.tickTextCharSize;
var f={h:11.5,w:5.5};c.select("text").text(function(k){return d.textFormatted(k)}).each(function(k){var p=La(this),v=d.textFormatted(k);k=p.height;p=v?p.width/v.length:void 0;k&&p&&(f.h=k,f.w=p)}).text("");return d.tickTextCharSize=f};Fa.prototype.isVertical=function(){return"left"===this.orient||"right"===this.orient};Fa.prototype.tspanData=function(c,d,f){var k=this.params.tickMultiline?this.splitTickText(c,f):[].concat(this.textFormatted(c));this.params.tickMultiline&&0<this.params.tickMultilineMax&&
(k=this.ellipsify(k,this.params.tickMultilineMax));return k.map(function(p){return{index:d,splitted:p,length:k.length}})};Fa.prototype.splitTickText=function(c,d){function f(J,da){y=void 0;for(var wa=1;wa<da.length;wa++)if(" "===da.charAt(wa)&&(y=wa),v=da.substr(0,wa+1),x=k.tickTextCharSize.w*v.length,p<x)return f(J.concat(da.substr(0,y?y:wa)),da.slice(y?y+1:wa));return J.concat(da)}var k=this;c=k.textFormatted(c);var p=k.params.tickWidth,v,y,x;if("[object Array]"===Object.prototype.toString.call(c))return c;
if(!p||0>=p)p=k.isVertical()?95:k.params.isCategory?Math.ceil(d(1)-d(0))-12:110;return f([],c+"")};Fa.prototype.ellipsify=function(c,d){if(c.length<=d)return c;c=c.slice(0,d);var f=3;for(--d;0<=d;d--){var k=c[d].length;c[d]=c[d].substr(0,k-f).padEnd(k,".");f-=k;if(0>=f)break}return c};Fa.prototype.updateTickLength=function(){this.tickLength=Math.max(this.innerTickSize,0)+this.tickPadding};Fa.prototype.lineY2=function(c){c=this.scale(c)+(this.tickCentered?0:this.tickOffset);return this.range[0]<c&&
c<this.range[1]?this.innerTickSize:0};Fa.prototype.textY=function(){var c=this.tickTextRotate;return c?11.5-c/15*2.5*(0<c?1:-1):this.tickLength};Fa.prototype.textTransform=function(){var c=this.tickTextRotate;return c?"rotate("+c+")":""};Fa.prototype.textTextAnchor=function(){var c=this.tickTextRotate;return c?0<c?"start":"end":"middle"};Fa.prototype.tspanDx=function(){var c=this.tickTextRotate;return c?8*Math.sin(c/180*Math.PI):0};Fa.prototype.tspanDy=function(c,d){var f=this.tickTextCharSize.h;
0===d&&(f=this.isVertical()?-(this.tickTextCharSize.h/2*(c.length-1)-3):".71em");return f};Fa.prototype.generateAxis=function(){function c(p,v){var y;p.each(function(){var x=c.g=f.select(this),J=this.__chart__||d.scale,da=this.__chart__=d.copyScale(),wa=d.tickValues?d.tickValues:d.generateTicks(da),ca=x.selectAll(".tick").data(wa,da);wa=ca.enter().insert("g",".domain").attr("class","tick").style("opacity",1E-6);var fa=ca.exit().remove();ca=ca.merge(wa);if(k.isCategory){d.tickOffset=Math.ceil((da(1)-
da(0))/2);var Ha=d.tickCentered?0:d.tickOffset;var Oa=d.tickCentered?d.tickOffset:0}else d.tickOffset=Ha=0;d.updateRange();d.updateTickLength();d.updateTickTextCharSize(x.select(".tick"));var Wa=ca.select("line").merge(wa.append("line")),tb=ca.select("text").merge(wa.append("text")),gb=ca.selectAll("text").selectAll("tspan").data(function(oa,la){return d.tspanData(oa,la,da)}),qb=gb.enter().append("tspan").merge(gb).text(function(oa){return oa.splitted});gb.exit().remove();x=x.selectAll(".domain").data([0]);
x=x.enter().append("path").merge(x).attr("class","domain");switch(d.orient){case "bottom":var nb=d.axisX;Wa.attr("x1",Ha).attr("x2",Ha).attr("y2",function(oa,la){return d.lineY2(oa,la)});tb.attr("x",0).attr("y",function(oa,la){return d.textY(oa,la)}).attr("transform",function(oa,la){return d.textTransform(oa,la)}).style("text-anchor",function(oa,la){return d.textTextAnchor(oa,la)});qb.attr("x",0).attr("dy",function(oa,la){return d.tspanDy(oa,la)}).attr("dx",function(oa,la){return d.tspanDx(oa,la)});
x.attr("d","M"+d.range[0]+","+d.outerTickSize+"V0H"+d.range[1]+"V"+d.outerTickSize);break;case "top":nb=d.axisX;Wa.attr("x1",Ha).attr("x2",Ha).attr("y2",function(oa,la){return-1*d.lineY2(oa,la)});tb.attr("x",0).attr("y",function(oa,la){return-1*d.textY(oa,la)-(k.isCategory?2:d.tickLength-2)}).attr("transform",function(oa,la){return d.textTransform(oa,la)}).style("text-anchor",function(oa,la){return d.textTextAnchor(oa,la)});qb.attr("x",0).attr("dy",function(oa,la){return d.tspanDy(oa,la)}).attr("dx",
function(oa,la){return d.tspanDx(oa,la)});x.attr("d","M"+d.range[0]+","+-d.outerTickSize+"V0H"+d.range[1]+"V"+-d.outerTickSize);break;case "left":nb=d.axisY;Wa.attr("x2",-d.innerTickSize).attr("y1",Oa).attr("y2",Oa);tb.attr("x",-d.tickLength).attr("y",d.tickOffset).style("text-anchor","end");qb.attr("x",-d.tickLength).attr("dy",function(oa,la){return d.tspanDy(oa,la)});x.attr("d","M"+-d.outerTickSize+","+d.range[0]+"H0V"+d.range[1]+"H"+-d.outerTickSize);break;case "right":nb=d.axisY,Wa.attr("x2",
d.innerTickSize).attr("y1",Oa).attr("y2",Oa),tb.attr("x",d.tickLength).attr("y",d.tickOffset).style("text-anchor","start"),qb.attr("x",d.tickLength).attr("dy",function(oa,la){return d.tspanDy(oa,la)}),x.attr("d","M"+d.outerTickSize+","+d.range[0]+"H0V"+d.range[1]+"H"+d.outerTickSize)}if(da.rangeBand){var Ma=da,fb=Ma.rangeBand()/2;J=da=function(oa){return Ma(oa)+fb}}else J.rangeBand?J=da:fa.call(nb,da,d.tickOffset);wa.call(nb,J,d.tickOffset);y=(v?ca.transition(v):ca).style("opacity",1).call(nb,da,
d.tickOffset)});return y}var d=this,f=d.d3,k=d.params;c.scale=function(p){if(!arguments.length)return d.scale;d.scale=p;return c};c.orient=function(p){if(!arguments.length)return d.orient;d.orient=p in{top:1,right:1,bottom:1,left:1}?p+"":"bottom";return c};c.tickFormat=function(p){if(!arguments.length)return d.tickFormat;d.tickFormat=p;return c};c.tickCentered=function(p){if(!arguments.length)return d.tickCentered;d.tickCentered=p;return c};c.tickOffset=function(){return d.tickOffset};c.tickInterval=
function(){if(k.isCategory)var p=2*d.tickOffset;else p=c.g.select("path.domain").node().getTotalLength()-2*d.outerTickSize,p/=c.g.selectAll("line").size();return Infinity===p?0:p};c.ticks=function(){if(!arguments.length)return d.tickArguments;d.tickArguments=arguments;return c};c.tickCulling=function(p){if(!arguments.length)return d.tickCulling;d.tickCulling=p;return c};c.tickValues=function(p){if("function"===typeof p)d.tickValues=function(){return p(d.scale.domain())};else{if(!arguments.length)return d.tickValues;
d.tickValues=p}return c};return c};var E={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",
selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",dragZoom:"c3-drag-zoom",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",
line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",
colorScale:"c3-colorscale",stanfordElements:"c3-stanford-elements",stanfordLine:"c3-stanford-line",stanfordLines:"c3-stanford-lines",stanfordRegion:"c3-stanford-region",stanfordRegions:"c3-stanford-regions",stanfordText:"c3-stanford-text",stanfordTexts:"c3-stanford-texts",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",
legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},X=function(){return function(c){this.owner=c;this.d3=c.d3;this.internal=Fa}}();X.prototype.init=function(){var c=this.owner,d=c.config,f=c.main;c.axes.x=f.append("g").attr("class",E.axis+" "+E.axisX).attr("clip-path",d.axis_x_inner?"":c.clipPathForXAxis).attr("transform",
c.getTranslate("x")).style("visibility",d.axis_x_show?"visible":"hidden");c.axes.x.append("text").attr("class",E.axisXLabel).attr("transform",d.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this));c.axes.y=f.append("g").attr("class",E.axis+" "+E.axisY).attr("clip-path",d.axis_y_inner?"":c.clipPathForYAxis).attr("transform",c.getTranslate("y")).style("visibility",d.axis_y_show?"visible":"hidden");c.axes.y.append("text").attr("class",E.axisYLabel).attr("transform",
d.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this));c.axes.y2=f.append("g").attr("class",E.axis+" "+E.axisY2).attr("transform",c.getTranslate("y2")).style("visibility",d.axis_y2_show?"visible":"hidden");c.axes.y2.append("text").attr("class",E.axisY2Label).attr("transform",d.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))};X.prototype.getXAxis=function(c,d,f,k,p,v,y){var x=this.owner,J=x.config;p={isCategory:x.isCategorized(),
withOuterTick:p,tickMultiline:J.axis_x_tick_multiline,tickMultilineMax:J.axis_x_tick_multiline?Number(J.axis_x_tick_multilineMax):0,tickWidth:J.axis_x_tick_width,tickTextRotate:y?0:J.axis_x_tick_rotate,withoutTransition:v};c=(new this.internal(this,p)).axis.scale(c).orient(d);x.isTimeSeries()&&k&&"function"!==typeof k&&(k=k.map(function(da){return x.parseDate(da)}));c.tickFormat(f).tickValues(k);x.isCategorized()&&(c.tickCentered(J.axis_x_tick_centered),ba(J.axis_x_tick_culling)&&(J.axis_x_tick_culling=
!1));return c};X.prototype.updateXAxisTickValues=function(c,d){var f=this.owner,k=f.config;if(k.axis_x_tick_fit||k.axis_x_tick_count)var p=this.generateTickValues(f.mapTargetsToUniqueXs(c),k.axis_x_tick_count,f.isTimeSeries());d?d.tickValues(p):(f.xAxis.tickValues(p),f.subXAxis.tickValues(p));return p};X.prototype.getYAxis=function(c,d,f,k,p,v,y){var x=this.owner,J=x.config,da=J["axis_"+c+"_tick_format"];!da&&x.isAxisNormalized(c)&&(da=function(wa){return wa+"%"});c=(new this.internal(this,{withOuterTick:p,
withoutTransition:v,tickTextRotate:y?0:J.axis_y_tick_rotate})).axis.scale(d).orient(f);da&&c.tickFormat(da);x.isTimeSeriesY()?c.ticks(J.axis_y_tick_time_type,J.axis_y_tick_time_interval):c.tickValues(k);return c};X.prototype.getId=function(c){var d=this.owner.config;return c in d.data_axes?d.data_axes[c]:"y"};X.prototype.getXAxisTickFormat=function(){var c=this.owner,d=c.config,f=c.isTimeSeries()?c.defaultAxisTimeFormat:c.isCategorized()?c.categoryName:function(k){return k};d.axis_x_tick_format&&
(W(d.axis_x_tick_format)?f=d.axis_x_tick_format:c.isTimeSeries()&&(f=function(k){return k?c.axisTimeFormat(d.axis_x_tick_format)(k):""}));return W(f)?function(k){return f.call(c,k)}:f};X.prototype.getTickValues=function(c,d){return c?c:d?d.tickValues():void 0};X.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)};X.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)};
X.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)};X.prototype.getLabelOptionByAxisId=function(c){var d=this.owner.config;if("y"===c)var f=d.axis_y_label;else"y2"===c?f=d.axis_y2_label:"x"===c&&(f=d.axis_x_label);return f};X.prototype.getLabelText=function(c){c=this.getLabelOptionByAxisId(c);return aa(c)?c:c?c.text:null};X.prototype.setLabelText=function(c,d){var f=this.owner.config,k=this.getLabelOptionByAxisId(c);aa(k)?
"y"===c?f.axis_y_label=d:"y2"===c?f.axis_y2_label=d:"x"===c&&(f.axis_x_label=d):k&&(k.text=d)};X.prototype.getLabelPosition=function(c,d){d=(c=this.getLabelOptionByAxisId(c))&&"object"===typeof c&&c.position?c.position:d;return{isInner:0<=d.indexOf("inner"),isOuter:0<=d.indexOf("outer"),isLeft:0<=d.indexOf("left"),isCenter:0<=d.indexOf("center"),isRight:0<=d.indexOf("right"),isTop:0<=d.indexOf("top"),isMiddle:0<=d.indexOf("middle"),isBottom:0<=d.indexOf("bottom")}};X.prototype.getXAxisLabelPosition=
function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")};X.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")};X.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")};X.prototype.getLabelPositionById=function(c){return"y2"===c?this.getY2AxisLabelPosition():"y"===c?this.getYAxisLabelPosition():
this.getXAxisLabelPosition()};X.prototype.textForXAxisLabel=function(){return this.getLabelText("x")};X.prototype.textForYAxisLabel=function(){return this.getLabelText("y")};X.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")};X.prototype.xForAxisLabel=function(c,d){var f=this.owner;return c?d.isLeft?0:d.isCenter?f.width/2:f.width:d.isBottom?-f.height:d.isMiddle?-f.height/2:0};X.prototype.dxForAxisLabel=function(c,d){return c?d.isLeft?"0.5em":d.isRight?"-0.5em":"0":d.isTop?"-0.5em":
d.isBottom?"0.5em":"0"};X.prototype.textAnchorForAxisLabel=function(c,d){return c?d.isLeft?"start":d.isCenter?"middle":"end":d.isBottom?"start":d.isMiddle?"middle":"end"};X.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())};X.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())};X.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,
this.getY2AxisLabelPosition())};X.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())};X.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())};X.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())};X.prototype.dyForXAxisLabel=function(){var c=this.owner,d=c.config,f=this.getXAxisLabelPosition();
return d.axis_rotated?f.isInner?"1.2em":-25-(c.config.axis_x_inner?0:this.getMaxTickWidth("x")):f.isInner?"-0.5em":c.getHorizontalAxisHeight("x")-10};X.prototype.dyForYAxisLabel=function(){var c=this.owner,d=this.getYAxisLabelPosition();return c.config.axis_rotated?d.isInner?"-0.5em":"3em":d.isInner?"1.2em":-10-(c.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)};X.prototype.dyForY2AxisLabel=function(){var c=this.owner,d=this.getY2AxisLabelPosition();return c.config.axis_rotated?d.isInner?"1.2em":
"-2.2em":d.isInner?"-0.5em":15+(c.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)};X.prototype.textAnchorForXAxisLabel=function(){return this.textAnchorForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())};X.prototype.textAnchorForYAxisLabel=function(){return this.textAnchorForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())};X.prototype.textAnchorForY2AxisLabel=function(){return this.textAnchorForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())};
X.prototype.getMaxTickWidth=function(c,d){var f=this.owner,k=0;if(d&&f.currentMaxTickWidths[c])return f.currentMaxTickWidths[c];if(f.svg){d=f.filterTargetsToShow(f.data.targets);if("y"===c){var p=f.y.copy().domain(f.getYDomain(d,"y"));p=this.getYAxis(c,p,f.yOrient,f.yAxisTickValues,!1,!0,!0)}else"y2"===c?(p=f.y2.copy().domain(f.getYDomain(d,"y2")),p=this.getYAxis(c,p,f.y2Orient,f.y2AxisTickValues,!1,!0,!0)):(p=f.x.copy().domain(f.getXDomain(d)),p=this.getXAxis(p,f.xOrient,f.xAxisTickFormat,f.xAxisTickValues,
!1,!0,!0),this.updateXAxisTickValues(d,p));var v=f.d3.select("body").append("div").classed("c3",!0);d=v.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0);d.append("g").call(p).each(function(){f.d3.select(this).selectAll("text").each(function(){var y=La(this);k<y.width&&(k=y.width)});v.remove()})}f.currentMaxTickWidths[c]=0>=k?f.currentMaxTickWidths[c]:k;return f.currentMaxTickWidths[c]};X.prototype.updateLabels=function(c){var d=this.owner,f=d.main.select("."+
E.axisX+" ."+E.axisXLabel),k=d.main.select("."+E.axisY+" ."+E.axisYLabel);d=d.main.select("."+E.axisY2+" ."+E.axisY2Label);(c?f.transition():f).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this));(c?k.transition():k).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this));(c?
d.transition():d).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))};X.prototype.getPadding=function(c,d,f,k){var p="number"===typeof c?c:c[d];return R(p)?"ratio"===c.unit?c[d]*k:this.convertPixelsToAxisPadding(p,k):f};X.prototype.convertPixelsToAxisPadding=function(c,d){var f=this.owner;return c/(f.config.axis_rotated?f.width:f.height)*d};X.prototype.generateTickValues=function(c,
d,f){var k=c,p;if(d)if(d=W(d)?d():d,1===d)k=[c[0]];else if(2===d)k=[c[0],c[c.length-1]];else if(2<d){var v=d-2;d=c[0];c=c[c.length-1];var y=(c-d)/(v+1);k=[d];for(p=0;p<v;p++){var x=+d+y*(p+1);k.push(f?new Date(x):x)}k.push(c)}f||(k=k.sort(function(J,da){return J-da}));return k};X.prototype.generateTransitions=function(c){var d=this.owner.axes;return{axisX:c?d.x.transition().duration(c):d.x,axisY:c?d.y.transition().duration(c):d.y,axisY2:c?d.y2.transition().duration(c):d.y2,axisSubX:c?d.subx.transition().duration(c):
d.subx}};X.prototype.redraw=function(c,d){var f=this.owner;c=c?f.d3.transition().duration(c):null;f.axes.x.style("opacity",d?0:1).call(f.xAxis,c);f.axes.y.style("opacity",d?0:1).call(f.yAxis,c);f.axes.y2.style("opacity",d?0:1).call(f.y2Axis,c);f.axes.subx.style("opacity",d?0:1).call(f.subXAxis,c)};var ra={version:"0.7.20",chart:{fn:ka.prototype,internal:{fn:m.prototype,axis:{fn:X.prototype,internal:{fn:Fa.prototype}}}},generate:function(c){return new ka(c)}};m.prototype.beforeInit=function(){};m.prototype.afterInit=
function(){};m.prototype.init=function(){var c=this.config;this.initParams();if(c.data_url)this.convertUrlToData(c.data_url,c.data_mimeType,c.data_headers,c.data_keys,this.initWithData);else if(c.data_json)this.initWithData(this.convertJsonToData(c.data_json,c.data_keys));else if(c.data_rows)this.initWithData(this.convertRowsToData(c.data_rows));else if(c.data_columns)this.initWithData(this.convertColumnsToData(c.data_columns));else throw Error("url or json or rows or columns is required.");};m.prototype.initParams=
function(){var c=this.d3,d=this.config;this.clipId="c3-"+(new Date).valueOf()+"-clip";this.clipIdForXAxis=this.clipId+"-xaxis";this.clipIdForYAxis=this.clipId+"-yaxis";this.clipIdForGrid=this.clipId+"-grid";this.clipIdForSubchart=this.clipId+"-subchart";this.clipPath=this.getClipPath(this.clipId);this.clipPathForXAxis=this.getClipPath(this.clipIdForXAxis);this.clipPathForYAxis=this.getClipPath(this.clipIdForYAxis);this.clipPathForGrid=this.getClipPath(this.clipIdForGrid);this.clipPathForSubchart=
this.getClipPath(this.clipIdForSubchart);this.dragStart=null;this.cancelClick=this.flowing=this.dragging=!1;this.mouseover=void 0;this.transiting=!1;this.color=this.generateColor();this.levelColor=this.generateLevelColor();this.dataTimeParse=(d.data_xLocaltime?c.timeParse:c.utcParse)(this.config.data_xFormat);this.axisTimeFormat=d.axis_x_localtime?c.timeFormat:c.utcFormat;this.defaultAxisTimeFormat=function(f){return f.getMilliseconds()?c.timeFormat(".%L")(f):f.getSeconds()?c.timeFormat(":%S")(f):
f.getMinutes()?c.timeFormat("%I:%M")(f):f.getHours()?c.timeFormat("%I %p")(f):f.getDay()&&1!==f.getDate()||1!==f.getDate()||f.getMonth()?c.timeFormat("%-m/%-d")(f):c.timeFormat("%Y/%-m/%-d")(f)};this.hiddenTargetIds=[];this.hiddenLegendIds=[];this.focusedTargetIds=[];this.defocusedTargetIds=[];this.xOrient=d.axis_rotated?d.axis_x_inner?"right":"left":d.axis_x_inner?"top":"bottom";this.yOrient=d.axis_rotated?d.axis_y_inner?"top":"bottom":d.axis_y_inner?"right":"left";this.y2Orient=d.axis_rotated?d.axis_y2_inner?
"bottom":"top":d.axis_y2_inner?"left":"right";this.subXOrient=d.axis_rotated?"left":"bottom";this.isLegendRight="right"===d.legend_position;this.isLegendInset="inset"===d.legend_position;this.isLegendTop="top-left"===d.legend_inset_anchor||"top-right"===d.legend_inset_anchor;this.isLegendLeft="top-left"===d.legend_inset_anchor||"bottom-left"===d.legend_inset_anchor;this.legendItemHeight=this.legendItemWidth=this.legendStep=0;this.currentMaxTickWidths={x:0,y:0,y2:0};this.rotated_padding_left=30;this.rotated_padding_right=
d.axis_rotated&&!d.axis_x_show?0:30;this.rotated_padding_top=5;this.withoutFadeIn={};this.intervalForObserveInserted=void 0;this.axes.subx=c.selectAll([])};m.prototype.initChartElements=function(){this.initBar&&this.initBar();this.initLine&&this.initLine();this.initArc&&this.initArc();this.initGauge&&this.initGauge();this.initText&&this.initText()};m.prototype.initWithData=function(c){var d=this,f=d.d3,k=d.config,p=!0;d.axis=new X(d);d.selectChart=k.bindto?"function"===typeof k.bindto.node?k.bindto:
f.select(k.bindto):f.selectAll([]);d.selectChart.empty()&&(d.selectChart=f.select(document.createElement("div")).style("opacity",0),d.observeInserted(d.selectChart),p=!1);d.selectChart.html("").classed("c3",!0);d.data.xs={};d.data.targets=d.convertDataToTargets(c);k.data_filter&&(d.data.targets=d.data.targets.filter(k.data_filter));k.data_hide&&d.addHiddenTargetIds(!0===k.data_hide?d.mapToIds(d.data.targets):k.data_hide);k.legend_hide&&d.addHiddenLegendIds(!0===k.legend_hide?d.mapToIds(d.data.targets):
k.legend_hide);d.isStanfordGraphType()&&d.initStanfordData();d.updateSizes();d.updateScales();d.x.domain(f.extent(d.getXDomain(d.data.targets)));d.y.domain(d.getYDomain(d.data.targets,"y"));d.y2.domain(d.getYDomain(d.data.targets,"y2"));d.subX.domain(d.x.domain());d.subY.domain(d.y.domain());d.subY2.domain(d.y2.domain());d.orgXDomain=d.x.domain();d.svg=d.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return k.onmouseover.call(d)}).on("mouseleave",function(){return k.onmouseout.call(d)});
d.config.svg_classname&&d.svg.attr("class",d.config.svg_classname);c=d.svg.append("defs");d.clipChart=d.appendClip(c,d.clipId);d.clipXAxis=d.appendClip(c,d.clipIdForXAxis);d.clipYAxis=d.appendClip(c,d.clipIdForYAxis);d.clipGrid=d.appendClip(c,d.clipIdForGrid);d.clipSubchart=d.appendClip(c,d.clipIdForSubchart);d.updateSvgSize();c=d.main=d.svg.append("g").attr("transform",d.getTranslate("main"));d.initPie&&d.initPie();d.initDragZoom&&d.initDragZoom();k.subchart_show&&d.initSubchart&&d.initSubchart();
d.initTooltip&&d.initTooltip();d.initLegend&&d.initLegend();d.initTitle&&d.initTitle();d.initZoom&&d.initZoom();d.isStanfordGraphType()&&d.drawColorScale();k.subchart_show&&d.initSubchartBrush&&d.initSubchartBrush();c.append("text").attr("class",E.text+" "+E.empty).attr("text-anchor","middle").attr("dominant-baseline","middle");d.initRegion();d.initGrid();c.append("g").attr("clip-path",d.clipPath).attr("class",E.chart);k.grid_lines_front&&d.initGridLines();d.initStanfordElements();d.initEventRect();
d.initChartElements();d.axis.init();d.updateTargets(d.data.targets);k.axis_x_selection&&d.brush.selectionAsValue(d.getDefaultSelection());p&&(d.updateDimension(),d.config.oninit.call(d),d.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1}));d.bindResize();d.bindWindowFocus();d.api.element=d.selectChart.node()};m.prototype.smoothLines=function(c,d){var f=this;"grid"===d&&c.each(function(){var k=f.d3.select(this),p=k.attr("x1"),v=k.attr("x2"),
y=k.attr("y1"),x=k.attr("y2");k.attr({x1:Math.ceil(p),x2:Math.ceil(v),y1:Math.ceil(y),y2:Math.ceil(x)})})};m.prototype.updateSizes=function(){var c=this.config,d=this.legend?this.getLegendHeight():0,f=this.legend?this.getLegendWidth():0,k=this.isLegendRight||this.isLegendInset?0:d,p=this.hasArcType(),v=c.axis_rotated||p?0:this.getHorizontalAxisHeight("x"),y=c.axis_rotated||p?0:this.getHorizontalAxisHeight("x",!0),x=c.subchart_show&&!p?c.subchart_size_height+y:0;this.currentWidth=this.getCurrentWidth();
this.currentHeight=this.getCurrentHeight();this.margin=c.axis_rotated?{top:this.getHorizontalAxisHeight("y2")+this.getCurrentPaddingTop(),right:p?0:this.getCurrentPaddingRight(),bottom:this.getHorizontalAxisHeight("y")+k+this.getCurrentPaddingBottom(),left:x+(p?0:this.getCurrentPaddingLeft())}:{top:4+this.getCurrentPaddingTop(),right:p?0:this.getCurrentPaddingRight(),bottom:v+x+k+this.getCurrentPaddingBottom(),left:p?0:this.getCurrentPaddingLeft()};this.margin2=c.axis_rotated?{top:this.margin.top,
right:NaN,bottom:20+k,left:this.rotated_padding_left}:{top:this.currentHeight-x-k,right:NaN,bottom:y+k,left:this.margin.left};this.margin3={top:0,right:NaN,bottom:0,left:0};this.updateSizeForLegend&&this.updateSizeForLegend(d,f);this.width=this.currentWidth-this.margin.left-this.margin.right;this.height=this.currentHeight-this.margin.top-this.margin.bottom;0>this.width&&(this.width=0);0>this.height&&(this.height=0);this.width2=c.axis_rotated?this.margin.left-this.rotated_padding_left-this.rotated_padding_right:
this.width;this.height2=c.axis_rotated?this.height:this.currentHeight-this.margin2.top-this.margin2.bottom;0>this.width2&&(this.width2=0);0>this.height2&&(this.height2=0);this.arcWidth=this.width-(this.isLegendRight?f+10:0);this.arcHeight=this.height-(this.isLegendRight?0:10);this.hasType("gauge")&&!c.gauge_fullCircle&&(this.arcHeight+=this.height-this.getGaugeLabelHeight());this.updateRadius&&this.updateRadius();this.isLegendRight&&p&&(this.margin3.left=this.arcWidth/2+1.1*this.radiusExpanded)};
m.prototype.updateTargets=function(c){var d=this.config;this.updateTargetsForText(c);this.updateTargetsForBar(c);this.updateTargetsForLine(c);this.hasArcType()&&this.updateTargetsForArc&&this.updateTargetsForArc(c);d.subchart_show&&this.updateTargetsForSubchart&&this.updateTargetsForSubchart(c);this.showTargets()};m.prototype.showTargets=function(){var c=this;c.svg.selectAll("."+E.target).filter(function(d){return c.isTargetToShow(d.id)}).transition().duration(c.config.transition_duration).style("opacity",
1)};m.prototype.redraw=function(c,d){var f=this,k=f.main,p=f.d3,v=f.config,y=f.getShapeIndices(f.isAreaType),x=f.getShapeIndices(f.isBarType),J=f.getShapeIndices(f.isLineType),da=f.hasArcType(),wa,ca=f.filterTargetsToShow(f.data.targets),fa,Ha,Oa=f.xv.bind(f);c=c||{};var Wa=na(c,"withY",!0);var tb=na(c,"withSubchart",!0);var gb=na(c,"withTransition",!0);var qb=na(c,"withTransform",!1);var nb=na(c,"withUpdateXDomain",!1);var Ma=na(c,"withUpdateOrgXDomain",!1);var fb=na(c,"withTrimXDomain",!0);var oa=
na(c,"withUpdateXAxis",nb);var la=na(c,"withLegend",!1);var ua=na(c,"withEventRect",!0);var G=na(c,"withDimension",!0);var qa=na(c,"withTransitionForExit",gb);var Aa=na(c,"withTransitionForAxis",gb);var Na=gb?v.transition_duration:0;qa=qa?Na:0;Aa=Aa?Na:0;d=d||f.axis.generateTransitions(Aa);la&&v.legend_show?f.updateLegend(f.mapToIds(f.data.targets),c,d):G&&f.updateDimension(!0);f.isCategorized()&&0===ca.length&&f.x.domain([0,f.axes.x.selectAll(".tick").size()]);ca.length?(f.updateXDomain(ca,nb,Ma,
fb),v.axis_x_tick_values||(fa=f.axis.updateXAxisTickValues(ca))):(f.xAxis.tickValues([]),f.subXAxis.tickValues([]));v.zoom_rescale&&!c.flow&&(Ha=f.x.orgDomain());f.y.domain(f.getYDomain(ca,"y",Ha));f.y2.domain(f.getYDomain(ca,"y2",Ha));!v.axis_y_tick_values&&v.axis_y_tick_count&&f.yAxis.tickValues(f.axis.generateTickValues(f.y.domain(),v.axis_y_tick_count));!v.axis_y2_tick_values&&v.axis_y2_tick_count&&f.y2Axis.tickValues(f.axis.generateTickValues(f.y2.domain(),v.axis_y2_tick_count));f.axis.redraw(Aa,
da);f.axis.updateLabels(gb);if((nb||oa)&&ca.length)if(v.axis_x_tick_culling&&fa){for(gb=1;gb<fa.length;gb++)if(fa.length/gb<v.axis_x_tick_culling_max){var K=gb;break}f.svg.selectAll("."+E.axisX+" .tick text").each(function(ma){ma=fa.indexOf(ma);0<=ma&&p.select(this).style("display",ma%K?"none":"block")})}else f.svg.selectAll("."+E.axisX+" .tick text").style("display","block");gb=f.generateDrawArea?f.generateDrawArea(y,!1):void 0;nb=f.generateDrawBar?f.generateDrawBar(x):void 0;Ma=f.generateDrawLine?
f.generateDrawLine(J,!1):void 0;fb=f.generateXYForText(y,x,J,!0);la=f.generateXYForText(y,x,J,!1);f.updateCircleY();G=(f.config.axis_rotated?f.circleY:f.circleX).bind(f);oa=(f.config.axis_rotated?f.circleX:f.circleY).bind(f);Wa&&(f.subY.domain(f.getYDomain(ca,"y")),f.subY2.domain(f.getYDomain(ca,"y2")));f.updateXgridFocus();k.select("text."+E.text+"."+E.empty).attr("x",f.width/2).attr("y",f.height/2).text(v.data_empty_label_text).transition().style("opacity",ca.length?0:1);ua&&f.redrawEventRect();
f.updateGrid(Na);f.updateStanfordElements(Na);f.updateRegion(Na);f.updateBar(qa);f.updateLine(qa);f.updateArea(qa);f.updateCircle(G,oa);f.hasDataLabel()&&f.updateText(fb,la,qa);f.redrawTitle&&f.redrawTitle();f.redrawArc&&f.redrawArc(Na,qa,qb);v.subchart_show&&f.redrawSubchart&&f.redrawSubchart(tb,d,Na,qa,y,x,J);f.isStanfordGraphType()&&f.drawColorScale();k.selectAll("."+E.selectedCircles).filter(f.isBarType.bind(f)).selectAll("circle").remove();c.flow&&(wa=f.generateFlow({targets:ca,flow:c.flow,duration:c.flow.duration,
drawBar:nb,drawLine:Ma,drawArea:gb,cx:G,cy:oa,xv:Oa,xForText:fb,yForText:la}));if(Na&&f.isTabVisible()){d=p.transition().duration(Na);var D=[];[f.redrawBar(nb,!0,d),f.redrawLine(Ma,!0,d),f.redrawArea(gb,!0,d),f.redrawCircle(G,oa,!0,d),f.redrawText(fb,la,c.flow,!0,d),f.redrawRegion(!0,d),f.redrawGrid(!0,d)].forEach(function(ma){ma.forEach(function(Ta){D.push(Ta)})});var U=f.generateWait();D.forEach(function(ma){U.add(ma)});U(function(){wa&&wa();v.onrendered&&v.onrendered.call(f)})}else f.redrawBar(nb),
f.redrawLine(Ma),f.redrawArea(gb),f.redrawCircle(G,oa),f.redrawText(fb,la,c.flow),f.redrawRegion(),f.redrawGrid(),wa&&wa(),v.onrendered&&v.onrendered.call(f);f.mapToIds(f.data.targets).forEach(function(ma){f.withoutFadeIn[ma]=!0})};m.prototype.updateAndRedraw=function(c){var d=this.config;c=c||{};c.withTransition=na(c,"withTransition",!0);c.withTransform=na(c,"withTransform",!1);c.withLegend=na(c,"withLegend",!1);c.withUpdateXDomain=na(c,"withUpdateXDomain",!0);c.withUpdateOrgXDomain=na(c,"withUpdateOrgXDomain",
!0);c.withTransitionForExit=!1;c.withTransitionForTransform=na(c,"withTransitionForTransform",c.withTransition);this.updateSizes();if(!c.withLegend||!d.legend_show){var f=this.axis.generateTransitions(c.withTransitionForAxis?d.transition_duration:0);this.updateScales();this.updateSvgSize();this.transformAll(c.withTransitionForTransform,f)}this.redraw(c,f)};m.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})};m.prototype.isTimeSeries=
function(){return"timeseries"===this.config.axis_x_type};m.prototype.isCategorized=function(){return 0<=this.config.axis_x_type.indexOf("categor")};m.prototype.isCustomX=function(){var c=this.config;return!this.isTimeSeries()&&(c.data_x||!ba(c.data_xs))};m.prototype.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type};m.prototype.getTranslate=function(c){var d=this.config;if("main"===c){var f=Math.ceil(this.margin.left)+.5;var k=Math.ceil(this.margin.top)+.5}else"context"===c?(f=
Math.ceil(this.margin2.left)+.5,k=Math.ceil(this.margin2.top)+.5):"legend"===c?(f=this.margin3.left,k=this.margin3.top):"x"===c?(f=0,k=d.axis_rotated?0:this.height):"y"===c?(f=0,k=d.axis_rotated?this.height:0):"y2"===c?(f=d.axis_rotated?0:this.width,k=d.axis_rotated?1:0):"subx"===c?(f=0,k=d.axis_rotated?0:this.height2):"arc"===c&&(f=this.arcWidth/2,k=this.arcHeight/2-(this.hasType("gauge")?6:0));return"translate("+f+","+k+")"};m.prototype.initialOpacity=function(c){return null!==c.value&&this.withoutFadeIn[c.id]?
1:0};m.prototype.initialOpacityForCircle=function(c){return null!==c.value&&this.withoutFadeIn[c.id]?this.opacityForCircle(c):0};m.prototype.opacityForCircle=function(c){var d=(W(this.config.point_show)?this.config.point_show(c):this.config.point_show)||this.isStanfordType(c)?1:0;return R(c.value)?this.isScatterType(c)?.5:d:0};m.prototype.opacityForText=function(){return this.hasDataLabel()?1:0};m.prototype.xx=function(c){return c?this.x(c.x):null};m.prototype.xvCustom=function(c,d){d=d?c[d]:c.value;
this.isTimeSeries()?d=this.parseDate(c.value):this.isCategorized()&&"string"===typeof c.value&&(d=this.config.axis_x_categories.indexOf(c.value));return Math.ceil(this.x(d))};m.prototype.yvCustom=function(c,d){return Math.ceil((c.axis&&"y2"===c.axis?this.y2:this.y)(d?c[d]:c.value))};m.prototype.xv=function(c){var d=c.value;this.isTimeSeries()?d=this.parseDate(c.value):this.isCategorized()&&"string"===typeof c.value&&(d=this.config.axis_x_categories.indexOf(c.value));return Math.ceil(this.x(d))};m.prototype.yv=
function(c){return Math.ceil((c.axis&&"y2"===c.axis?this.y2:this.y)(c.value))};m.prototype.subxx=function(c){return c?this.subX(c.x):null};m.prototype.transformMain=function(c,d){if(d&&d.axisX)var f=d.axisX;else f=this.main.select("."+E.axisX),c&&(f=f.transition());if(d&&d.axisY)var k=d.axisY;else k=this.main.select("."+E.axisY),c&&(k=k.transition());d&&d.axisY2?d=d.axisY2:(d=this.main.select("."+E.axisY2),c&&(d=d.transition()));(c?this.main.transition():this.main).attr("transform",this.getTranslate("main"));
f.attr("transform",this.getTranslate("x"));k.attr("transform",this.getTranslate("y"));d.attr("transform",this.getTranslate("y2"));this.main.select("."+E.chartArcs).attr("transform",this.getTranslate("arc"))};m.prototype.transformAll=function(c,d){this.transformMain(c,d);this.config.subchart_show&&this.transformContext(c,d);this.legend&&this.transformLegend(c)};m.prototype.updateSvgSize=function(){var c=this.svg.select("."+E.brush+" .overlay");this.svg.attr("width",this.currentWidth).attr("height",
this.currentHeight);this.svg.selectAll(["#"+this.clipId,"#"+this.clipIdForGrid]).select("rect").attr("width",this.width).attr("height",this.height);this.svg.select("#"+this.clipIdForXAxis).select("rect").attr("x",this.getXAxisClipX.bind(this)).attr("y",this.getXAxisClipY.bind(this)).attr("width",this.getXAxisClipWidth.bind(this)).attr("height",this.getXAxisClipHeight.bind(this));this.svg.select("#"+this.clipIdForYAxis).select("rect").attr("x",this.getYAxisClipX.bind(this)).attr("y",this.getYAxisClipY.bind(this)).attr("width",
this.getYAxisClipWidth.bind(this)).attr("height",this.getYAxisClipHeight.bind(this));this.svg.select("#"+this.clipIdForSubchart).select("rect").attr("width",this.width).attr("height",c.size()&&c.attr("height")||0);this.selectChart.style("max-height",this.currentHeight+"px")};m.prototype.updateDimension=function(c){c||(this.config.axis_rotated?(this.axes.x.call(this.xAxis),this.axes.subx.call(this.subXAxis)):(this.axes.y.call(this.yAxis),this.axes.y2.call(this.y2Axis)));this.updateSizes();this.updateScales();
this.updateSvgSize();this.transformAll(!1)};m.prototype.observeInserted=function(c){var d=this;if("undefined"===typeof MutationObserver)window.console.error("MutationObserver not defined.");else{var f=new MutationObserver(function(k){k.forEach(function(p){"childList"===p.type&&p.previousSibling&&(f.disconnect(),d.intervalForObserveInserted=window.setInterval(function(){c.node().parentNode&&(window.clearInterval(d.intervalForObserveInserted),d.updateDimension(),d.brush&&d.brush.update(),d.config.oninit.call(d),
d.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),c.transition().style("opacity",1))},10))})});f.observe(c.node(),{attributes:!0,childList:!0,characterData:!0})}};m.prototype.bindResize=function(){var c=this,d=c.config;c.resizeFunction=c.generateResize();c.resizeFunction.add(function(){d.onresize.call(c)});d.resize_auto&&c.resizeFunction.add(function(){void 0!==c.resizeTimeout&&window.clearTimeout(c.resizeTimeout);
c.resizeTimeout=window.setTimeout(function(){delete c.resizeTimeout;c.updateAndRedraw({withUpdateXDomain:!1,withUpdateOrgXDomain:!1,withTransition:!1,withTransitionForTransform:!1,withLegend:!0});c.brush&&c.brush.update()},100)});c.resizeFunction.add(function(){d.onresized.call(c)});c.resizeIfElementDisplayed=function(){null!=c.api&&c.api.element.offsetParent&&c.resizeFunction()};window.addEventListener("resize",c.resizeIfElementDisplayed,!1)};m.prototype.bindWindowFocus=function(){var c=this;this.windowFocusHandler||
(this.windowFocusHandler=function(){c.redraw()},window.addEventListener("focus",this.windowFocusHandler))};m.prototype.unbindWindowFocus=function(){window.removeEventListener("focus",this.windowFocusHandler);delete this.windowFocusHandler};m.prototype.generateResize=function(){function c(){d.forEach(function(f){f()})}var d=[];c.add=function(f){d.push(f)};c.remove=function(f){for(var k=0;k<d.length;k++)if(d[k]===f){d.splice(k,1);break}};return c};m.prototype.endall=function(c,d){var f=0;c.each(function(){++f}).on("end",
function(){--f||d.apply(this,arguments)})};m.prototype.generateWait=function(){var c=this,d=[],f=function(k){var p=setInterval(function(){if(c.isTabVisible()){var v=0;d.forEach(function(y){if(y.empty())v+=1;else try{y.transition()}catch(x){v+=1}});v===d.length&&(clearInterval(p),k&&k())}},50)};f.add=function(k){d.push(k)};return f};m.prototype.parseDate=function(c){var d;c instanceof Date?d=c:"string"===typeof c?d=this.dataTimeParse(c):"object"===typeof c?d=new Date(+c):"number"!==typeof c||isNaN(c)||
(d=new Date(+c));d&&!isNaN(+d)||window.console.error("Failed to parse x '"+c+"' to Date object");return d};m.prototype.isTabVisible=function(){return!document.hidden};m.prototype.getPathBox=Ca;m.prototype.CLASS=E;(function(){"SVGPathSeg"in window||(window.SVGPathSeg=function(c,d,f){this.pathSegType=c;this.pathSegTypeAsLetter=d;this._owningPathSegList=f},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=
2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=
14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(c){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,
"z",c)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(c,d,f){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",c);this._x=
d;this._y=f},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},
set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(c,d,f){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",c);this._x=d;this._y=f},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},
window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(c){this._y=
c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(c,d,f){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",c);this._x=d;this._y=f},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=
function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(c,d,f){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,
"l",c);this._x=d;this._y=f},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",
{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(c,d,f,k,p,v,y){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",c);this._x=d;this._y=f;this._x1=k;this._y1=p;this._x2=v;this._y2=y},window.SVGPathSegCurvetoCubicAbs.prototype=
Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,
"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(c){this._x1=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,
"y1",{get:function(){return this._y1},set:function(c){this._y1=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(c){this._x2=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(c){this._y2=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(c,d,f,k,p,v,y){window.SVGPathSeg.call(this,
window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",c);this._x=d;this._y=f;this._x1=k;this._y1=p;this._x2=v;this._y2=y},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=
function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,
"x1",{get:function(){return this._x1},set:function(c){this._x1=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(c){this._y1=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(c){this._x2=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,
"y2",{get:function(){return this._y2},set:function(c){this._y2=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(c,d,f,k,p){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",c);this._x=d;this._y=f;this._x1=k;this._y1=p},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=
function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},
set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(c){this._x1=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(c){this._y1=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(c,d,f,k,p){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,
"q",c);this._x=d;this._y=f;this._x1=k;this._y1=p},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,
this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(c){this._x1=
c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(c){this._y1=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(c,d,f,k,p,v,y,x){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",c);this._x=d;this._y=f;this._r1=k;this._r2=p;this._angle=v;this._largeArcFlag=y;this._sweepFlag=x},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),
window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,
"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(c){this._r1=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},
set:function(c){this._r2=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(c){this._angle=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(c){this._largeArcFlag=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},
set:function(c){this._sweepFlag=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(c,d,f,k,p,v,y,x){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",c);this._x=d;this._y=f;this._r1=k;this._r2=p;this._angle=v;this._largeArcFlag=y;this._sweepFlag=x},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=
function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),
Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(c){this._r1=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(c){this._r2=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,
"angle",{get:function(){return this._angle},set:function(c){this._angle=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(c){this._largeArcFlag=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(c){this._sweepFlag=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=
function(c,d){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",c);this._x=d},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,
this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(c,d){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",c);this._x=d},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},
window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(c,d){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,
"V",c);this._y=d},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,
"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(c,d){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",c);this._y=d},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=
function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(c,d,f,k,p){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",c);this._x=
d;this._y=f;this._x2=k;this._y2=p},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,
this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(c){this._x2=
c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(c){this._y2=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(c,d,f,k,p){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",c);this._x=d;this._y=f;this._x2=k;this._y2=p},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=
function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(c){this._x=
c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(c){this._x2=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(c){this._y2=
c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(c,d,f){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",c);this._x=d;this._y=f},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=
function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},
set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(c,d,f){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",c);this._x=d;this._y=f},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=
function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},
set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(c,d){return new window.SVGPathSegMovetoAbs(void 0,c,d)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(c,d){return new window.SVGPathSegMovetoRel(void 0,c,d)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(c,d){return new window.SVGPathSegLinetoAbs(void 0,
c,d)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(c,d){return new window.SVGPathSegLinetoRel(void 0,c,d)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(c,d,f,k,p,v){return new window.SVGPathSegCurvetoCubicAbs(void 0,c,d,f,k,p,v)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(c,d,f,k,p,v){return new window.SVGPathSegCurvetoCubicRel(void 0,c,d,f,k,p,v)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(c,
d,f,k){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,c,d,f,k)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(c,d,f,k){return new window.SVGPathSegCurvetoQuadraticRel(void 0,c,d,f,k)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(c,d,f,k,p,v,y){return new window.SVGPathSegArcAbs(void 0,c,d,f,k,p,v,y)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(c,d,f,k,p,v,y){return new window.SVGPathSegArcRel(void 0,c,d,f,k,p,v,y)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=
function(c){return new window.SVGPathSegLinetoHorizontalAbs(void 0,c)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(c){return new window.SVGPathSegLinetoHorizontalRel(void 0,c)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(c){return new window.SVGPathSegLinetoVerticalAbs(void 0,c)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(c){return new window.SVGPathSegLinetoVerticalRel(void 0,c)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=
function(c,d,f,k){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,c,d,f,k)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(c,d,f,k){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,c,d,f,k)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(c,d){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,c,d)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(c,d){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,
c,d)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(c){if(void 0===c||!isFinite(c))throw"Invalid arguments.";var d=document.createElementNS("http://www.w3.org/2000/svg","path");d.setAttribute("d",this.getAttribute("d"));var f=d.pathSegList.numberOfItems-1;if(0>=f)return 0;do{d.pathSegList.removeItem(f);if(c>d.getTotalLength())break;f--}while(0<f);return f}));"SVGPathSegList"in window||(window.SVGPathSegList=function(c){this._pathElement=
c;this._list=this._parsePath(this._pathElement.getAttribute("d"));this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]};this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this));this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){this._checkPathSynchronizedToList();
return this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this));return this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),
Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(c){if(this._pathElement){var d=!1;c.forEach(function(f){"d"==f.attributeName&&(d=!0)});d&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},
window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect();this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list));this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(c){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList();this._list.forEach(function(c){c._owningPathSegList=
null});this._list=[];this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(c){this._checkPathSynchronizedToList();this._list=[c];c._owningPathSegList=this;this._writeListToPath();return c},window.SVGPathSegList.prototype._checkValidIndex=function(c){if(isNaN(c)||0>c||c>=this.numberOfItems)throw"INDEX_SIZE_ERR";},window.SVGPathSegList.prototype.getItem=function(c){this._checkPathSynchronizedToList();this._checkValidIndex(c);return this._list[c]},window.SVGPathSegList.prototype.insertItemBefore=
function(c,d){this._checkPathSynchronizedToList();d>this.numberOfItems&&(d=this.numberOfItems);c._owningPathSegList&&(c=c.clone());this._list.splice(d,0,c);c._owningPathSegList=this;this._writeListToPath();return c},window.SVGPathSegList.prototype.replaceItem=function(c,d){this._checkPathSynchronizedToList();c._owningPathSegList&&(c=c.clone());this._checkValidIndex(d);this._list[d]=c;c._owningPathSegList=this;this._writeListToPath();return c},window.SVGPathSegList.prototype.removeItem=function(c){this._checkPathSynchronizedToList();
this._checkValidIndex(c);var d=this._list[c];this._list.splice(c,1);this._writeListToPath();return d},window.SVGPathSegList.prototype.appendItem=function(c){this._checkPathSynchronizedToList();c._owningPathSegList&&(c=c.clone());this._list.push(c);c._owningPathSegList=this;this._writeListToPath();return c},window.SVGPathSegList._pathSegArrayAsString=function(c){var d="",f=!0;c.forEach(function(k){f?(f=!1,d+=k._asPathString()):d+=" "+k._asPathString()});return d},window.SVGPathSegList.prototype._parsePath=
function(c){if(!c||0==c.length)return[];var d=this,f=function(){this.pathSegList=[]};f.prototype.appendSegment=function(p){this.pathSegList.push(p)};var k=function(p){this._string=p;this._currentIndex=0;this._endIndex=this._string.length;this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN;this._skipOptionalSpaces()};k.prototype._isCurrentSpace=function(){var p=this._string[this._currentIndex];return" ">=p&&(" "==p||"\n"==p||"\t"==p||"\r"==p||"\f"==p)};k.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<
this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex};k.prototype._skipOptionalSpacesOrDelimiter=function(){if(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))return!1;this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces());return this._currentIndex<this._endIndex};k.prototype.hasMoreData=function(){return this._currentIndex<
this._endIndex};k.prototype.peekSegmentType=function(){return this._pathSegTypeFromChar(this._string[this._currentIndex])};k.prototype._pathSegTypeFromChar=function(p){switch(p){case "Z":case "z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case "M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case "m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case "L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case "l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case "C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;
case "c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case "Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case "q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case "A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case "a":return window.SVGPathSeg.PATHSEG_ARC_REL;case "H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case "h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case "V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case "v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;
case "S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case "s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case "T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case "t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}};k.prototype._nextCommandHelper=function(p,v){return("+"==p||"-"==p||"."==p||"0"<=p&&"9">=p)&&v!=window.SVGPathSeg.PATHSEG_CLOSEPATH?v==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:
v==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:v:window.SVGPathSeg.PATHSEG_UNKNOWN};k.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var p=this.peekSegmentType();return p==window.SVGPathSeg.PATHSEG_MOVETO_ABS||p==window.SVGPathSeg.PATHSEG_MOVETO_REL};k.prototype._parseNumber=function(){var p=0,v=0,y=1,x=0,J=1,da=1,wa=this._currentIndex;this._skipOptionalSpaces();this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?
this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,J=-1);if(!(this._currentIndex==this._endIndex||("0">this._string.charAt(this._currentIndex)||"9"<this._string.charAt(this._currentIndex))&&"."!=this._string.charAt(this._currentIndex))){for(var ca=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&"9">=this._string.charAt(this._currentIndex);)this._currentIndex++;if(this._currentIndex!=
ca)for(var fa=this._currentIndex-1,Ha=1;fa>=ca;)v+=Ha*(this._string.charAt(fa--)-0),Ha*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){this._currentIndex++;if(this._currentIndex>=this._endIndex||"0">this._string.charAt(this._currentIndex)||"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&"9">=this._string.charAt(this._currentIndex);)y*=10,x+=(this._string.charAt(this._currentIndex)-
0)/y,this._currentIndex+=1}if(this._currentIndex!=wa&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){this._currentIndex++;"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,da=-1);if(this._currentIndex>=this._endIndex||"0">this._string.charAt(this._currentIndex)||
"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&"9">=this._string.charAt(this._currentIndex);)p*=10,p+=this._string.charAt(this._currentIndex)-0,this._currentIndex++}v=(v+x)*J;p&&(v*=Math.pow(10,da*p));if(wa!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),v}};k.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var p=this._string.charAt(this._currentIndex++);if("0"==
p)p=!1;else if("1"==p)p=!0;else return;this._skipOptionalSpacesOrDelimiter();return p}};k.prototype.parseSegment=function(){var p=this._string[this._currentIndex];var v=this._pathSegTypeFromChar(p);if(v==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;v=this._nextCommandHelper(p,this._previousCommand);if(v==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;this._previousCommand=v;switch(v){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(d,
this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(d,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(d,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(d,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(d,
this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(d,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(d,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(d,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(d);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:p=
this._parseNumber();v=this._parseNumber();var y=this._parseNumber();var x=this._parseNumber();var J=this._parseNumber();var da=this._parseNumber();return new window.SVGPathSegCurvetoCubicRel(d,J,da,p,v,y,x);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return p=this._parseNumber(),v=this._parseNumber(),y=this._parseNumber(),x=this._parseNumber(),J=this._parseNumber(),da=this._parseNumber(),new window.SVGPathSegCurvetoCubicAbs(d,J,da,p,v,y,x);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return y=
this._parseNumber(),x=this._parseNumber(),J=this._parseNumber(),da=this._parseNumber(),new window.SVGPathSegCurvetoCubicSmoothRel(d,J,da,y,x);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return y=this._parseNumber(),x=this._parseNumber(),J=this._parseNumber(),da=this._parseNumber(),new window.SVGPathSegCurvetoCubicSmoothAbs(d,J,da,y,x);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return p=this._parseNumber(),v=this._parseNumber(),J=this._parseNumber(),da=this._parseNumber(),new window.SVGPathSegCurvetoQuadraticRel(d,
J,da,p,v);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return p=this._parseNumber(),v=this._parseNumber(),J=this._parseNumber(),da=this._parseNumber(),new window.SVGPathSegCurvetoQuadraticAbs(d,J,da,p,v);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(d,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(d,this._parseNumber(),
this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:p=this._parseNumber();v=this._parseNumber();y=this._parseNumber();x=this._parseArcFlag();var wa=this._parseArcFlag();J=this._parseNumber();da=this._parseNumber();return new window.SVGPathSegArcRel(d,J,da,p,v,y,x,wa);case window.SVGPathSeg.PATHSEG_ARC_ABS:return p=this._parseNumber(),v=this._parseNumber(),y=this._parseNumber(),x=this._parseArcFlag(),wa=this._parseArcFlag(),J=this._parseNumber(),da=this._parseNumber(),new window.SVGPathSegArcAbs(d,
J,da,p,v,y,x,wa);default:throw"Unknown path seg type.";}};f=new f;c=new k(c);if(!c.initialCommandIsMoveTo())return[];for(;c.hasMoreData();){k=c.parseSegment();if(!k)return[];f.appendSegment(k)}return f.pathSegList})})();String.prototype.padEnd||(String.prototype.padEnd=function(c,d){c>>=0;d=String("undefined"!==typeof d?d:" ");if(this.length>c)return String(this);c-=this.length;c>d.length&&(d+=d.repeat(c/d.length));return String(this)+d.slice(0,c)});"function"!==typeof Object.assign&&Object.defineProperty(Object,
"assign",{value:function(c,d){if(null===c||void 0===c)throw new TypeError("Cannot convert undefined or null to object");for(var f=Object(c),k=1;k<arguments.length;k++){var p=arguments[k];if(null!==p&&void 0!==p)for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(f[v]=p[v])}return f},writable:!0,configurable:!0});ka.prototype.axis=function(){};ka.prototype.axis.labels=function(c){var d=this.internal;arguments.length&&(Object.keys(c).forEach(function(f){d.axis.setLabelText(f,c[f])}),d.axis.updateLabels())};
ka.prototype.axis.max=function(c){var d=this.internal,f=d.config;if(arguments.length)"object"===typeof c?(R(c.x)&&(f.axis_x_max=c.x),R(c.y)&&(f.axis_y_max=c.y),R(c.y2)&&(f.axis_y2_max=c.y2)):f.axis_y_max=f.axis_y2_max=c,d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0});else return{x:f.axis_x_max,y:f.axis_y_max,y2:f.axis_y2_max}};ka.prototype.axis.min=function(c){var d=this.internal,f=d.config;if(arguments.length)"object"===typeof c?(R(c.x)&&(f.axis_x_min=c.x),R(c.y)&&(f.axis_y_min=c.y),R(c.y2)&&
(f.axis_y2_min=c.y2)):f.axis_y_min=f.axis_y2_min=c,d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0});else return{x:f.axis_x_min,y:f.axis_y_min,y2:f.axis_y2_min}};ka.prototype.axis.range=function(c){if(arguments.length)Q(c.max)&&this.axis.max(c.max),Q(c.min)&&this.axis.min(c.min);else return{max:this.axis.max(),min:this.axis.min()}};ka.prototype.axis.types=function(c){var d=this.internal;if(void 0===c)return{y:d.config.axis_y_type,y2:d.config.axis_y2_type};Q(c.y)&&(d.config.axis_y_type=c.y);
Q(c.y2)&&(d.config.axis_y2_type=c.y2);d.updateScales();d.redraw()};ka.prototype.category=function(c,d){var f=this.internal,k=f.config;1<arguments.length&&(k.axis_x_categories[c]=d,f.redraw());return k.axis_x_categories[c]};ka.prototype.categories=function(c){var d=this.internal,f=d.config;if(!arguments.length)return f.axis_x_categories;f.axis_x_categories=c;d.redraw();return f.axis_x_categories};ka.prototype.resize=function(c){var d=this.internal.config;d.size_width=c?c.width:null;d.size_height=c?
c.height:null;this.flush()};ka.prototype.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})};ka.prototype.destroy=function(){var c=this.internal;window.clearInterval(c.intervalForObserveInserted);void 0!==c.resizeTimeout&&window.clearTimeout(c.resizeTimeout);window.removeEventListener("resize",c.resizeIfElementDisplayed);c.resizeFunction.remove();c.unbindWindowFocus();c.selectChart.classed("c3",!1).html("");Object.keys(c).forEach(function(d){c[d]=
null});return null};ka.prototype.color=function(c){return this.internal.color(c)};ka.prototype.data=function(c){var d=this.internal.data.targets;return"undefined"===typeof c?d:d.filter(function(f){return 0<=[].concat(c).indexOf(f.id)})};ka.prototype.data.shown=function(c){return this.internal.filterTargetsToShow(this.data(c))};ka.prototype.data.values=function(c,d){void 0===d&&(d=!0);var f=null;c&&(c=this.data(c))&&Array.isArray(c)&&(f=c.reduce(function(k,p){p=p.values.map(function(v){return v.value});
d?k=k.concat(p):k.push(p);return k},[]));return f};ka.prototype.data.names=function(c){this.internal.clearLegendItemTextBoxCache();return this.internal.updateDataAttributes("names",c)};ka.prototype.data.colors=function(c){return this.internal.updateDataAttributes("colors",c)};ka.prototype.data.axes=function(c){return this.internal.updateDataAttributes("axes",c)};ka.prototype.data.stackNormalized=function(c){if(void 0===c)return this.internal.isStackNormalized();this.internal.config.data_stack_normalize=
!!c;this.internal.redraw()};ka.prototype.donut=function(){};ka.prototype.donut.padAngle=function(c){if(void 0===c)return this.internal.config.donut_padAngle;this.internal.config.donut_padAngle=c;this.flush()};ka.prototype.flow=function(c){var d=this.internal,f=[],k=d.getMaxDataCount(),p=0,v=0;if(c.json)var y=d.convertJsonToData(c.json,c.keys);else if(c.rows)y=d.convertRowsToData(c.rows);else if(c.columns)y=d.convertColumnsToData(c.columns);else return;var x=d.convertDataToTargets(y,!0);d.data.targets.forEach(function(wa){var ca=
!1,fa,Ha;for(fa=0;fa<x.length;fa++)if(wa.id===x[fa].id){ca=!0;wa.values[wa.values.length-1]&&(v=wa.values[wa.values.length-1].index+1);p=x[fa].values.length;for(Ha=0;Ha<p;Ha++)x[fa].values[Ha].index=v+Ha,d.isTimeSeries()||(x[fa].values[Ha].x=v+Ha);wa.values=wa.values.concat(x[fa].values);x.splice(fa,1);break}ca||f.push(wa.id)});d.data.targets.forEach(function(wa){var ca,fa;for(ca=0;ca<f.length;ca++)if(wa.id===f[ca])for(v=wa.values[wa.values.length-1].index+1,fa=0;fa<p;fa++)wa.values.push({id:wa.id,
index:v+fa,x:d.isTimeSeries()?d.getOtherTargetX(v+fa):v+fa,value:null})});d.data.targets.length&&x.forEach(function(wa){var ca,fa=[];for(ca=d.data.targets[0].values[0].index;ca<v;ca++)fa.push({id:wa.id,index:ca,x:d.isTimeSeries()?d.getOtherTargetX(ca):ca,value:null});wa.values.forEach(function(Ha){Ha.index+=v;d.isTimeSeries()||(Ha.x+=v)});wa.values=fa.concat(wa.values)});d.data.targets=d.data.targets.concat(x);d.getMaxDataCount();var J=d.data.targets[0];y=J.values[0];if(Q(c.to)){p=0;var da=d.isTimeSeries()?
d.parseDate(c.to):c.to;J.values.forEach(function(wa){wa.x<da&&p++})}else Q(c.length)&&(p=c.length);k?1===k&&d.isTimeSeries()&&(J=(J.values[J.values.length-1].x-y.x)/2,J=[new Date(+y.x-J),new Date(+y.x+J)],d.updateXDomain(null,!0,!0,!1,J)):(J=d.isTimeSeries()?1<J.values.length?J.values[J.values.length-1].x-y.x:y.x-d.getXDomain(d.data.targets)[0]:1,J=[y.x-J,y.x],d.updateXDomain(null,!0,!0,!1,J));d.updateTargets(d.data.targets);d.redraw({flow:{index:y.index,length:p,duration:R(c.duration)?c.duration:
d.config.transition_duration,done:c.done,orgDataCount:k},withLegend:!0,withTransition:1<k,withTrimXDomain:!1,withUpdateXAxis:!0})};m.prototype.generateFlow=function(c){var d=this,f=d.config,k=d.d3;return function(){var p=c.targets,v=c.flow,y=c.drawBar,x=c.drawLine,J=c.drawArea,da=c.cx,wa=c.cy,ca=c.xv,fa=c.xForText,Ha=c.yForText,Oa=c.duration,Wa=1,tb=v.index,gb=v.length,qb=d.getValueOnIndex(d.data.targets[0].values,tb),nb=d.getValueOnIndex(d.data.targets[0].values,tb+gb);Wa=d.x.domain();var Ma=v.duration||
Oa,fb=v.done||function(){};Oa=d.generateWait();d.flowing=!0;d.data.targets.forEach(function(D){D.values.splice(0,gb)});p=d.updateXDomain(p,!0,!0);d.updateXGrid&&d.updateXGrid(!0);var oa=d.xgrid||k.selectAll([]);var la=d.xgridLines||k.selectAll([]);var ua=d.mainRegion||k.selectAll([]);var G=d.mainText||k.selectAll([]);var qa=d.mainBar||k.selectAll([]);var Aa=d.mainLine||k.selectAll([]);var Na=d.mainArea||k.selectAll([]);var K=d.mainCircle||k.selectAll([]);v.orgDataCount?v=1===v.orgDataCount||(qb&&
qb.x)===(nb&&nb.x)?d.x(Wa[0])-d.x(p[0]):d.isTimeSeries()?d.x(Wa[0])-d.x(p[0]):d.x(qb.x)-d.x(nb.x):1!==d.data.targets[0].values.length?v=d.x(Wa[0])-d.x(p[0]):d.isTimeSeries()?(qb=d.getValueOnIndex(d.data.targets[0].values,0),nb=d.getValueOnIndex(d.data.targets[0].values,d.data.targets[0].values.length-1),v=d.x(qb.x)-d.x(nb.x)):v=ha(p)/2;Wa=ha(Wa)/ha(p);v="translate("+v+",0) scale("+Wa+",1)";d.hideXGridFocus();Ma=k.transition().ease(k.easeLinear).duration(Ma);Oa.add(d.xAxis(d.axes.x,Ma));Oa.add(qa.transition(Ma).attr("transform",
v));Oa.add(Aa.transition(Ma).attr("transform",v));Oa.add(Na.transition(Ma).attr("transform",v));Oa.add(K.transition(Ma).attr("transform",v));Oa.add(G.transition(Ma).attr("transform",v));Oa.add(ua.filter(d.isRegionOnX).transition(Ma).attr("transform",v));Oa.add(oa.transition(Ma).attr("transform",v));Oa.add(la.transition(Ma).attr("transform",v));Oa(function(){var D,U=[],ma=[];if(gb){for(D=0;D<gb;D++)U.push("."+E.shape+"-"+(tb+D)),ma.push("."+E.text+"-"+(tb+D));d.svg.selectAll("."+E.shapes).selectAll(U).remove();
d.svg.selectAll("."+E.texts).selectAll(ma).remove();d.svg.select("."+E.xgrid).remove()}oa.attr("transform",null).attr("x1",d.xgridAttr.x1).attr("x2",d.xgridAttr.x2).attr("y1",d.xgridAttr.y1).attr("y2",d.xgridAttr.y2).style("opacity",d.xgridAttr.opacity);la.attr("transform",null);la.select("line").attr("x1",f.axis_rotated?0:ca).attr("x2",f.axis_rotated?d.width:ca);la.select("text").attr("x",f.axis_rotated?d.width:0).attr("y",ca);qa.attr("transform",null).attr("d",y);Aa.attr("transform",null).attr("d",
x);Na.attr("transform",null).attr("d",J);K.attr("transform",null).attr("cx",da).attr("cy",wa);G.attr("transform",null).attr("x",fa).attr("y",Ha).style("fill-opacity",d.opacityForText.bind(d));ua.attr("transform",null);ua.filter(d.isRegionOnX).attr("x",d.regionX.bind(d)).attr("width",d.regionWidth.bind(d));fb();d.flowing=!1})}};ka.prototype.focus=function(c){var d=this.internal;c=d.mapToTargetIds(c);var f=d.svg.selectAll(d.selectorTargets(c.filter(d.isTargetToShow,d)));this.revert();this.defocus();
f.classed(E.focused,!0).classed(E.defocused,!1);d.hasArcType()&&d.expandArc(c);d.toggleFocusLegend(c,!0);d.focusedTargetIds=c;d.defocusedTargetIds=d.defocusedTargetIds.filter(function(k){return 0>c.indexOf(k)})};ka.prototype.defocus=function(c){var d=this.internal;c=d.mapToTargetIds(c);d.svg.selectAll(d.selectorTargets(c.filter(d.isTargetToShow,d))).classed(E.focused,!1).classed(E.defocused,!0);d.hasArcType()&&d.unexpandArc(c);d.toggleFocusLegend(c,!1);d.focusedTargetIds=d.focusedTargetIds.filter(function(f){return 0>
c.indexOf(f)});d.defocusedTargetIds=c};ka.prototype.revert=function(c){var d=this.internal;c=d.mapToTargetIds(c);d.svg.selectAll(d.selectorTargets(c)).classed(E.focused,!1).classed(E.defocused,!1);d.hasArcType()&&d.unexpandArc(c);d.config.legend_show&&(d.showLegend(c.filter(d.isLegendToShow.bind(d))),d.legend.selectAll(d.selectorLegends(c)).filter(function(){return d.d3.select(this).classed(E.legendItemFocused)}).classed(E.legendItemFocused,!1));d.focusedTargetIds=[];d.defocusedTargetIds=[]};ka.prototype.xgrids=
function(c){var d=this.internal,f=d.config;if(!c)return f.grid_x_lines;f.grid_x_lines=c;d.redrawWithoutRescale();return f.grid_x_lines};ka.prototype.xgrids.add=function(c){return this.xgrids(this.internal.config.grid_x_lines.concat(c?c:[]))};ka.prototype.xgrids.remove=function(c){this.internal.removeGridLines(c,!0)};ka.prototype.ygrids=function(c){var d=this.internal,f=d.config;if(!c)return f.grid_y_lines;f.grid_y_lines=c;d.redrawWithoutRescale();return f.grid_y_lines};ka.prototype.ygrids.add=function(c){return this.ygrids(this.internal.config.grid_y_lines.concat(c?
c:[]))};ka.prototype.ygrids.remove=function(c){this.internal.removeGridLines(c,!1)};ka.prototype.groups=function(c){var d=this.internal,f=d.config;if(H(c))return f.data_groups;f.data_groups=c;d.redraw();return f.data_groups};ka.prototype.legend=function(){};ka.prototype.legend.show=function(c){var d=this.internal;d.showLegend(d.mapToTargetIds(c));d.updateAndRedraw({withLegend:!0})};ka.prototype.legend.hide=function(c){var d=this.internal;d.hideLegend(d.mapToTargetIds(c));d.updateAndRedraw({withLegend:!1})};
ka.prototype.load=function(c){var d=this.internal,f=d.config;c.xs&&d.addXs(c.xs);"names"in c&&ka.prototype.data.names.bind(this)(c.names);"classes"in c&&Object.keys(c.classes).forEach(function(k){f.data_classes[k]=c.classes[k]});"categories"in c&&d.isCategorized()&&(f.axis_x_categories=c.categories);"axes"in c&&Object.keys(c.axes).forEach(function(k){f.data_axes[k]=c.axes[k]});"colors"in c&&Object.keys(c.colors).forEach(function(k){f.data_colors[k]=c.colors[k]});"cacheIds"in c&&d.hasCaches(c.cacheIds)?
d.load(d.getCaches(c.cacheIds),c.done):c.unload?d.unload(d.mapToTargetIds(!0===c.unload?null:c.unload),function(){d.loadFromArgs(c)}):d.loadFromArgs(c)};ka.prototype.unload=function(c){var d=this.internal;c=c||{};c instanceof Array?c={ids:c}:"string"===typeof c&&(c={ids:[c]});d.unload(d.mapToTargetIds(c.ids),function(){d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0});c.done&&c.done()})};ka.prototype.pie=function(){};ka.prototype.pie.padAngle=function(c){if(void 0===c)return this.internal.config.pie_padAngle;
this.internal.config.pie_padAngle=c;this.flush()};ka.prototype.regions=function(c){var d=this.internal,f=d.config;if(!c)return f.regions;f.regions=c;d.redrawWithoutRescale();return f.regions};ka.prototype.regions.add=function(c){var d=this.internal,f=d.config;if(!c)return f.regions;f.regions=f.regions.concat(c);d.redrawWithoutRescale();return f.regions};ka.prototype.regions.remove=function(c){var d=this.internal,f=d.config;c=c||{};var k=na(c,"duration",f.transition_duration);var p=na(c,"classes",
[E.region]);c=d.main.select("."+E.regions).selectAll(p.map(function(v){return"."+v}));(k?c.transition().duration(k):c).style("opacity",0).remove();f.regions=f.regions.filter(function(v){var y=!1;if(!v["class"])return!0;v["class"].split(" ").forEach(function(x){0<=p.indexOf(x)&&(y=!0)});return!y});return f.regions};ka.prototype.selected=function(c){var d=this.internal,f=d.d3;return d.main.selectAll("."+E.shapes+d.getTargetSelectorSuffix(c)).selectAll("."+E.shape).filter(function(){return f.select(this).classed(E.SELECTED)}).nodes().map(function(k){k=
k.__data__;return k.data?k.data:k})};ka.prototype.select=function(c,d,f){var k=this.internal,p=k.d3,v=k.config;v.data_selection_enabled&&k.main.selectAll("."+E.shapes).selectAll("."+E.shape).each(function(y,x){var J=p.select(this),da=y.data?y.data.id:y.id,wa=k.getToggle(this,y).bind(k);da=v.data_selection_grouped||!c||0<=c.indexOf(da);var ca=!d||0<=d.indexOf(x),fa=J.classed(E.SELECTED);J.classed(E.line)||J.classed(E.area)||(da&&ca?v.data_selection_isselectable(y)&&!fa&&wa(!0,J.classed(E.SELECTED,
!0),y,x):Q(f)&&f&&fa&&wa(!1,J.classed(E.SELECTED,!1),y,x))})};ka.prototype.unselect=function(c,d){var f=this.internal,k=f.d3,p=f.config;p.data_selection_enabled&&f.main.selectAll("."+E.shapes).selectAll("."+E.shape).each(function(v,y){var x=k.select(this),J=v.data?v.data.id:v.id,da=f.getToggle(this,v).bind(f);J=p.data_selection_grouped||!c||0<=c.indexOf(J);var wa=!d||0<=d.indexOf(y),ca=x.classed(E.SELECTED);x.classed(E.line)||x.classed(E.area)||J&&wa&&p.data_selection_isselectable(v)&&ca&&da(!1,x.classed(E.SELECTED,
!1),v,y)})};ka.prototype.show=function(c,d){var f=this.internal;c=f.mapToTargetIds(c);d=d||{};f.removeHiddenTargetIds(c);var k=f.svg.selectAll(f.selectorTargets(c));k.transition().style("display",Y()?"block":"initial","important").style("opacity",1,"important").call(f.endall,function(){k.style("opacity",null).style("opacity",1)});d.withLegend&&f.showLegend(c);f.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})};ka.prototype.hide=function(c,d){var f=this.internal;c=f.mapToTargetIds(c);
d=d||{};f.addHiddenTargetIds(c);var k=f.svg.selectAll(f.selectorTargets(c));k.transition().style("opacity",0,"important").call(f.endall,function(){k.style("opacity",null).style("opacity",0);k.style("display","none")});d.withLegend&&f.hideLegend(c);f.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})};ka.prototype.toggle=function(c,d){var f=this,k=this.internal;k.mapToTargetIds(c).forEach(function(p){k.isTargetToShow(p)?f.hide(p,d):f.show(p,d)})};ka.prototype.subchart=function(){};
ka.prototype.subchart.isShown=function(){return this.internal.config.subchart_show};ka.prototype.subchart.show=function(){var c=this.internal;c.config.subchart_show||(c.config.subchart_show=!0,c.initSubchart(),c.updateDimension(),c.initSubchartBrush(),c.updateTargetsForSubchart(c.getTargets()),c.mapToIds(c.data.targets).forEach(function(d){c.withoutFadeIn[d]=!1}),c.updateAndRedraw(),c.showTargets())};ka.prototype.subchart.hide=function(){var c=this.internal;c.config.subchart_show&&(c.config.subchart_show=
!1,c.removeSubchart(),c.redraw())};ka.prototype.tooltip=function(){};ka.prototype.tooltip.show=function(c){var d=this.internal,f={};if(c.mouse)f=c.mouse;else{if(c.data)var k=c.data;else"undefined"!==typeof c.x&&(k=c.id?d.data.targets.filter(function(p){return p.id===c.id}):d.data.targets,k=d.filterByX(k,c.x).slice(0,1)[0]);f=k?d.getMousePosition(k):null}d.dispatchEvent("mousemove",f);d.config.tooltip_onshow.call(d,k)};ka.prototype.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0);
this.internal.config.tooltip_onhide.call(this)};ka.prototype.transform=function(c,d){var f=this.internal,k=0<=["pie","donut"].indexOf(c)?{withTransform:!0}:null;f.transformTo(d,c,k)};m.prototype.transformTo=function(c,d,f){var k=!this.hasArcType();f=f||{withTransitionForAxis:k};this.transiting=f.withTransitionForTransform=!1;this.setTargetType(c,d);this.updateTargets(this.data.targets);this.updateAndRedraw(f)};ka.prototype.x=function(c){var d=this.internal;arguments.length&&(d.updateTargetX(d.data.targets,
c),d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0}));return d.data.xs};ka.prototype.xs=function(c){var d=this.internal;arguments.length&&(d.updateTargetXs(d.data.targets,c),d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0}));return d.data.xs};ka.prototype.zoom=function(c){var d=this.internal;return c?(d.isTimeSeries()&&(c=c.map(function(f){return d.parseDate(f)})),d.config.subchart_show?d.brush.selectionAsValue(c,!0):(d.updateXDomain(null,!0,!1,!1,c),d.redraw({withY:d.config.zoom_rescale,
withSubchart:!1})),d.config.zoom_onzoom.call(this,d.x.orgDomain()),c):d.x.domain()};ka.prototype.zoom.enable=function(c){var d=this.internal;d.config.zoom_enabled=c;d.updateAndRedraw()};ka.prototype.unzoom=function(){var c=this.internal;c.config.subchart_show?c.brush.clear():(c.updateXDomain(null,!0,!1,!1,c.subX.domain()),c.redraw({withY:c.config.zoom_rescale,withSubchart:!1}))};ka.prototype.zoom.max=function(c){var d=this.internal,f=d.config,k=d.d3;if(0===c||c)f.zoom_x_max=k.max([d.orgXDomain[1],
c]);else return f.zoom_x_max};ka.prototype.zoom.min=function(c){var d=this.internal,f=d.config,k=d.d3;if(0===c||c)f.zoom_x_min=k.min([d.orgXDomain[0],c]);else return f.zoom_x_min};ka.prototype.zoom.range=function(c){if(arguments.length)Q(c.max)&&this.domain.max(c.max),Q(c.min)&&this.domain.min(c.min);else return{max:this.domain.max(),min:this.domain.min()}};m.prototype.initPie=function(){this.pie=this.d3.pie().padAngle(this.getPadAngle.bind(this)).value(function(f){return f.values.reduce(function(k,
p){return k+p.value},0)});var c=this.getOrderFunction();if(c&&(this.isOrderAsc()||this.isOrderDesc())){var d=c;c=function(f,k){return-1*d(f,k)}}this.pie.sort(c||null)};m.prototype.updateRadius=function(){var c=this.config;c=c.gauge_width||c.donut_width;var d=this.filterTargetsToShow(this.data.targets).length*this.config.gauge_arcs_minWidth;this.radiusExpanded=Math.min(this.arcWidth,this.arcHeight)/2*(this.hasType("gauge")?.85:1);this.radius=.95*this.radiusExpanded;this.innerRadiusRatio=c?(this.radius-
c)/this.radius:.6;this.innerRadius=this.hasType("donut")||this.hasType("gauge")?this.radius*this.innerRadiusRatio:0;this.gaugeArcWidth=c?c:d<=this.radius-this.innerRadius?this.radius-this.innerRadius:d<=this.radius?d:this.radius};m.prototype.getPadAngle=function(){return this.hasType("pie")?this.config.pie_padAngle||0:this.hasType("donut")?this.config.donut_padAngle||0:0};m.prototype.updateArc=function(){this.svgArc=this.getSvgArc();this.svgArcExpanded=this.getSvgArcExpanded();this.svgArcExpandedSub=
this.getSvgArcExpanded(.98)};m.prototype.updateAngle=function(c){var d=this.config,f=!1,k=0;if(!d)return null;this.pie(this.filterTargetsToShow(this.data.targets)).forEach(function(x){f||x.data.id!==c.data.id||(f=!0,c=x,c.index=k);k++});isNaN(c.startAngle)&&(c.startAngle=0);isNaN(c.endAngle)&&(c.endAngle=c.startAngle);if(this.isGaugeType(c.data)){var p=d.gauge_min;var v=d.gauge_max;var y=Math.PI*(d.gauge_fullCircle?2:1)/(v-p);p=c.value<p?0:c.value<v?c.value-p:v-p;c.startAngle=d.gauge_startingAngle;
c.endAngle=c.startAngle+y*p}return f?c:null};m.prototype.getSvgArc=function(){var c=this,d=c.hasType("gauge"),f=c.gaugeArcWidth/c.filterTargetsToShow(c.data.targets).length,k=c.d3.arc().outerRadius(function(v){return d?c.radius-f*v.index:c.radius}).innerRadius(function(v){return d?c.radius-f*(v.index+1):c.innerRadius}),p=function(v,y){return y?k(v):(v=c.updateAngle(v))?k(v):"M 0 0"};p.centroid=k.centroid;return p};m.prototype.getSvgArcExpanded=function(c){c=c||1;var d=this,f=d.hasType("gauge"),k=
d.gaugeArcWidth/d.filterTargetsToShow(d.data.targets).length,p=Math.min(d.radiusExpanded*c-d.radius,.8*k-100*(1-c)),v=d.d3.arc().outerRadius(function(y){return f?d.radius-k*y.index+p:d.radiusExpanded*c}).innerRadius(function(y){return f?d.radius-k*(y.index+1):d.innerRadius});return function(y){return(y=d.updateAngle(y))?v(y):"M 0 0"}};m.prototype.getArc=function(c,d,f){return f||this.isArcType(c.data)?this.svgArc(c,d):"M 0 0"};m.prototype.transformForArcLabel=function(c){var d=this.config,f=this.updateAngle(c);
var k="";var p=this.hasType("gauge");f&&!p?(k=this.svgArc.centroid(f),f=isNaN(k[0])?0:k[0],k=isNaN(k[1])?0:k[1],p=Math.sqrt(f*f+k*k),c=this.hasType("donut")&&d.donut_label_ratio?W(d.donut_label_ratio)?d.donut_label_ratio(c,this.radius,p):d.donut_label_ratio:this.hasType("pie")&&d.pie_label_ratio?W(d.pie_label_ratio)?d.pie_label_ratio(c,this.radius,p):d.pie_label_ratio:this.radius&&p?(.375<36/this.radius?1.175-36/this.radius:.8)*this.radius/p:0,k="translate("+f*c+","+k*c+")"):f&&p&&1<this.filterTargetsToShow(this.data.targets).length&&
(c=Math.sin(f.endAngle-Math.PI/2),f=Math.cos(f.endAngle-Math.PI/2)*(this.radiusExpanded+25),k=c*(this.radiusExpanded+15-Math.abs(10*c))+3,k="translate("+f+","+k+")");return k};m.prototype.getArcRatio=function(c){return this.getRatio("arc",c)};m.prototype.convertToArcData=function(c){return this.addName({id:c.data.id,value:c.value,ratio:this.getRatio("arc",c),index:c.index})};m.prototype.textForArcLabel=function(c){var d,f;if(!this.shouldShowArcLabel())return"";var k=(d=this.updateAngle(c))?d.value:
null;d=this.getRatio("arc",d);c=c.data.id;return this.hasType("gauge")||this.meetsArcLabelThreshold(d)?(f=this.getArcLabelFormat())?f(k,d,c):this.defaultArcValueFormat(k,d):""};m.prototype.textForGaugeMinMax=function(c,d){var f=this.getGaugeLabelExtents();return f?f(c,d):c};m.prototype.expandArc=function(c){var d=this;if(d.transiting)var f=window.setInterval(function(){d.transiting||(window.clearInterval(f),0<d.legend.selectAll(".c3-legend-item-focused").size()&&d.expandArc(c))},10);else c=d.mapToTargetIds(c),
d.svg.selectAll(d.selectorTargets(c,"."+E.chartArc)).each(function(k){d.shouldExpand(k.data.id)&&d.d3.select(this).selectAll("path").transition().duration(d.expandDuration(k.data.id)).attr("d",d.svgArcExpanded).transition().duration(2*d.expandDuration(k.data.id)).attr("d",d.svgArcExpandedSub).each(function(p){d.isDonutType(p.data)})})};m.prototype.unexpandArc=function(c){var d=this;d.transiting||(c=d.mapToTargetIds(c),d.svg.selectAll(d.selectorTargets(c,"."+E.chartArc)).selectAll("path").transition().duration(function(f){return d.expandDuration(f.data.id)}).attr("d",
d.svgArc),d.svg.selectAll("."+E.arc))};m.prototype.expandDuration=function(c){var d=this.config;return this.isDonutType(c)?d.donut_expand_duration:this.isGaugeType(c)?d.gauge_expand_duration:this.isPieType(c)?d.pie_expand_duration:50};m.prototype.shouldExpand=function(c){var d=this.config;return this.isDonutType(c)&&d.donut_expand||this.isGaugeType(c)&&d.gauge_expand||this.isPieType(c)&&d.pie_expand};m.prototype.shouldShowArcLabel=function(){var c=this.config,d=!0;this.hasType("donut")?d=c.donut_label_show:
this.hasType("pie")&&(d=c.pie_label_show);return d};m.prototype.meetsArcLabelThreshold=function(c){var d=this.config;d=this.hasType("donut")?d.donut_label_threshold:d.pie_label_threshold;return c>=d};m.prototype.getArcLabelFormat=function(){var c=this.config,d=c.pie_label_format;this.hasType("gauge")?d=c.gauge_label_format:this.hasType("donut")&&(d=c.donut_label_format);return d};m.prototype.getGaugeLabelExtents=function(){return this.config.gauge_label_extents};m.prototype.getArcTitle=function(){return this.hasType("donut")?
this.config.donut_title:""};m.prototype.updateTargetsForArc=function(c){var d=this.main,f=this.classChartArc.bind(this),k=this.classArcs.bind(this),p=this.classFocus.bind(this);c=d.select("."+E.chartArcs).selectAll("."+E.chartArc).data(this.pie(c)).attr("class",function(v){return f(v)+p(v.data)}).enter().append("g").attr("class",f);c.append("g").attr("class",k);c.append("text").attr("dy",this.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events",
"none")};m.prototype.initArc=function(){this.arcs=this.main.select("."+E.chart).append("g").attr("class",E.chartArcs).attr("transform",this.getTranslate("arc"));this.arcs.append("text").attr("class",E.chartArcsTitle).style("text-anchor","middle").text(this.getArcTitle())};m.prototype.redrawArc=function(c,d,f){var k=this,p=k.d3,v=k.config,y=k.main,x=k.hasType("gauge");var J=y.selectAll("."+E.arcs).selectAll("."+E.arc).data(k.arcData.bind(k));var da=J.enter().append("path").attr("class",k.classArc.bind(k)).style("fill",
function(fa){return k.color(fa.data)}).style("cursor",function(fa){return v.interaction_enabled&&v.data_selection_isselectable(fa)?"pointer":null}).each(function(fa){k.isGaugeType(fa.data)&&(fa.startAngle=fa.endAngle=v.gauge_startingAngle);this._current=fa}).merge(J);if(x){var wa=y.selectAll("."+E.arcs).selectAll("."+E.arcLabelLine).data(k.arcData.bind(k));wa=wa.enter().append("rect").attr("class",function(fa){return E.arcLabelLine+" "+E.target+" "+E.target+"-"+fa.data.id}).merge(wa);1===k.filterTargetsToShow(k.data.targets).length?
wa.style("display","none"):wa.style("fill",function(fa){return k.levelColor?k.levelColor(fa.data.values.reduce(function(Ha,Oa){return Ha+Oa.value},0)):k.color(fa.data)}).style("display",v.gauge_labelLine_show?"":"none").each(function(fa){var Ha=0,Oa=0,Wa=0,tb="";0>k.hiddenTargetIds.indexOf(fa.data.id)&&(Oa=k.updateAngle(fa),Ha=k.gaugeArcWidth/k.filterTargetsToShow(k.data.targets).length*(Oa.index+1),fa=Oa.endAngle-Math.PI/2,Wa=k.radius-Ha,tb=fa-(0===Wa?0:1/Wa),Ha=k.radiusExpanded-k.radius+Ha,Oa=Math.cos(tb)*
Wa,Wa*=Math.sin(tb),tb="rotate("+180*fa/Math.PI+", "+Oa+", "+Wa+")");p.select(this).attr("x",Oa).attr("y",Wa).attr("width",Ha).attr("height",2).attr("transform",tb).style("stroke-dasharray","0, "+(Ha+2)+", 0")})}da.attr("transform",function(fa){return!k.isGaugeType(fa.data)&&f?"scale(0)":""}).on("mouseover",v.interaction_enabled?function(fa){if(!k.transiting&&(fa=k.updateAngle(fa))){var Ha=k.convertToArcData(fa);k.expandArc(fa.data.id);k.api.focus(fa.data.id);k.toggleFocusLegend(fa.data.id,!0);k.config.data_onmouseover(Ha,
this)}}:null).on("mousemove",v.interaction_enabled?function(fa){if(fa=k.updateAngle(fa))fa=k.convertToArcData(fa),fa=[fa],k.showTooltip(fa,this)}:null).on("mouseout",v.interaction_enabled?function(fa){if(!k.transiting&&(fa=k.updateAngle(fa))){var Ha=k.convertToArcData(fa);k.unexpandArc(fa.data.id);k.api.revert();k.revertLegend();k.hideTooltip();k.config.data_onmouseout(Ha,this)}}:null).on("click",v.interaction_enabled?function(fa,Ha){if(fa=k.updateAngle(fa))fa=k.convertToArcData(fa),k.toggleShape&&
k.toggleShape(this,fa,Ha),k.config.data_onclick.call(k.api,fa,this)}:null).each(function(){k.transiting=!0}).transition().duration(c).attrTween("d",function(fa){var Ha=k.updateAngle(fa);if(!Ha)return function(){return"M 0 0"};isNaN(this._current.startAngle)&&(this._current.startAngle=0);isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle);var Oa=p.interpolate(this._current,Ha);this._current=Oa(0);return function(Wa){if(null===k.config)return"M 0 0";Wa=Oa(Wa);Wa.data=fa.data;
return k.getArc(Wa,!0)}}).attr("transform",f?"scale(1)":"").style("fill",function(fa){return k.levelColor?k.levelColor(fa.data.values.reduce(function(Ha,Oa){return Ha+Oa.value},0)):k.color(fa.data.id)}).call(k.endall,function(){k.transiting=!1});J.exit().transition().duration(d).style("opacity",0).remove();y.selectAll("."+E.chartArc).select("text").style("opacity",0).attr("class",function(fa){return k.isGaugeType(fa.data)?E.gaugeValue:""}).text(k.textForArcLabel.bind(k)).attr("transform",k.transformForArcLabel.bind(k)).style("font-size",
function(fa){return k.isGaugeType(fa.data)&&1===k.filterTargetsToShow(k.data.targets).length?Math.round(k.radius/5)+"px":""}).transition().duration(c).style("opacity",function(fa){return k.isTargetToShow(fa.data.id)&&k.isArcType(fa.data)?1:0});y.select("."+E.chartArcsTitle).style("opacity",k.hasType("donut")||x?1:0);if(x){var ca=0;c=k.arcs.select("g."+E.chartArcsBackground).selectAll("path."+E.chartArcsBackground).data(k.data.targets);c.enter().append("path").attr("class",function(fa,Ha){return E.chartArcsBackground+
" "+E.chartArcsBackground+"-"+Ha}).merge(c).attr("d",function(fa){if(0<=k.hiddenTargetIds.indexOf(fa.id))return"M 0 0";fa={data:[{value:v.gauge_max}],startAngle:v.gauge_startingAngle,endAngle:-1*v.gauge_startingAngle*(v.gauge_fullCircle?Math.PI:1),index:ca++};return k.getArc(fa,!0,!0)});c.exit().remove();k.arcs.select("."+E.chartArcsGaugeUnit).attr("dy",".75em").text(v.gauge_label_show?v.gauge_units:"");k.arcs.select("."+E.chartArcsGaugeMin).attr("dx",-1*(k.innerRadius+(k.radius-k.innerRadius)/(v.gauge_fullCircle?
1:2))+"px").attr("dy","1.2em").text(v.gauge_label_show?k.textForGaugeMinMax(v.gauge_min,!1):"");k.arcs.select("."+E.chartArcsGaugeMax).attr("dx",k.innerRadius+(k.radius-k.innerRadius)/(v.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(v.gauge_label_show?k.textForGaugeMinMax(v.gauge_max,!0):"")}};m.prototype.initGauge=function(){var c=this.arcs;this.hasType("gauge")&&(c.append("g").attr("class",E.chartArcsBackground),c.append("text").attr("class",E.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events",
"none"),c.append("text").attr("class",E.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),c.append("text").attr("class",E.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))};m.prototype.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0};m.prototype.addToCache=function(c,d){this.cache["$"+c]=d};m.prototype.getFromCache=function(c){return this.cache["$"+c]};m.prototype.resetCache=function(){var c=this;Object.keys(this.cache).filter(function(d){return/^\$/.test(d)}).forEach(function(d){delete c.cache[d]})};
m.prototype.hasCaches=function(c){for(var d=0;d<c.length;d++)if(!(c[d]in this.cache))return!1;return!0};m.prototype.addCache=function(c,d){this.cache[c]=this.cloneTarget(d)};m.prototype.getCaches=function(c){var d=[],f;for(f=0;f<c.length;f++)c[f]in this.cache&&d.push(this.cloneTarget(this.cache[c[f]]));return d};m.prototype.categoryName=function(c){var d=this.config;return c<d.axis_x_categories.length?d.axis_x_categories[c]:c};m.prototype.generateTargetClass=function(c){return c||0===c?("-"+c).replace(/\s/g,
"-"):""};m.prototype.generateClass=function(c,d){return" "+c+" "+c+this.generateTargetClass(d)};m.prototype.classText=function(c){return this.generateClass(E.text,c.index)};m.prototype.classTexts=function(c){return this.generateClass(E.texts,c.id)};m.prototype.classShape=function(c){return this.generateClass(E.shape,c.index)};m.prototype.classShapes=function(c){return this.generateClass(E.shapes,c.id)};m.prototype.classLine=function(c){return this.classShape(c)+this.generateClass(E.line,c.id)};m.prototype.classLines=
function(c){return this.classShapes(c)+this.generateClass(E.lines,c.id)};m.prototype.classCircle=function(c){return this.classShape(c)+this.generateClass(E.circle,c.index)};m.prototype.classCircles=function(c){return this.classShapes(c)+this.generateClass(E.circles,c.id)};m.prototype.classBar=function(c){return this.classShape(c)+this.generateClass(E.bar,c.index)};m.prototype.classBars=function(c){return this.classShapes(c)+this.generateClass(E.bars,c.id)};m.prototype.classArc=function(c){return this.classShape(c.data)+
this.generateClass(E.arc,c.data.id)};m.prototype.classArcs=function(c){return this.classShapes(c.data)+this.generateClass(E.arcs,c.data.id)};m.prototype.classArea=function(c){return this.classShape(c)+this.generateClass(E.area,c.id)};m.prototype.classAreas=function(c){return this.classShapes(c)+this.generateClass(E.areas,c.id)};m.prototype.classRegion=function(c,d){return this.generateClass(E.region,d)+" "+("class"in c?c["class"]:"")};m.prototype.classEvent=function(c){return this.generateClass(E.eventRect,
c.index)};m.prototype.classTarget=function(c){var d=this.config.data_classes[c],f="";d&&(f=" "+E.target+"-"+d);return this.generateClass(E.target,c)+f};m.prototype.classFocus=function(c){return this.classFocused(c)+this.classDefocused(c)};m.prototype.classFocused=function(c){return" "+(0<=this.focusedTargetIds.indexOf(c.id)?E.focused:"")};m.prototype.classDefocused=function(c){return" "+(0<=this.defocusedTargetIds.indexOf(c.id)?E.defocused:"")};m.prototype.classChartText=function(c){return E.chartText+
this.classTarget(c.id)};m.prototype.classChartLine=function(c){return E.chartLine+this.classTarget(c.id)};m.prototype.classChartBar=function(c){return E.chartBar+this.classTarget(c.id)};m.prototype.classChartArc=function(c){return E.chartArc+this.classTarget(c.data.id)};m.prototype.getTargetSelectorSuffix=function(c){c=this.generateTargetClass(c);return window.CSS&&window.CSS.escape?window.CSS.escape(c):c.replace(/([?!@#$%^&*()=+,.<>'":;\[\]\/|~`{}\\])/g,"\\$1")};m.prototype.selectorTarget=function(c,
d){return(d||"")+"."+E.target+this.getTargetSelectorSuffix(c)};m.prototype.selectorTargets=function(c,d){var f=this;c=c||[];return c.length?c.map(function(k){return f.selectorTarget(k,d)}):null};m.prototype.selectorLegend=function(c){return"."+E.legendItem+this.getTargetSelectorSuffix(c)};m.prototype.selectorLegends=function(c){var d=this;return c&&c.length?c.map(function(f){return d.selectorLegend(f)}):null};m.prototype.getClipPath=function(c){return"url("+(Y(9)?"":document.URL.split("#")[0])+"#"+
c+")"};m.prototype.appendClip=function(c,d){return c.append("clipPath").attr("id",d).append("rect")};m.prototype.getAxisClipX=function(c){var d=Math.max(30,this.margin.left);return c?-(1+d):-(d-1)};m.prototype.getAxisClipY=function(c){return c?-20:-this.margin.top};m.prototype.getXAxisClipX=function(){return this.getAxisClipX(!this.config.axis_rotated)};m.prototype.getXAxisClipY=function(){return this.getAxisClipY(!this.config.axis_rotated)};m.prototype.getYAxisClipX=function(){return this.config.axis_y_inner?
-1:this.getAxisClipX(this.config.axis_rotated)};m.prototype.getYAxisClipY=function(){return this.getAxisClipY(this.config.axis_rotated)};m.prototype.getAxisClipWidth=function(c){var d=Math.max(30,this.margin.left),f=Math.max(30,this.margin.right);return c?this.width+2+d+f:this.margin.left+20};m.prototype.getAxisClipHeight=function(c){return(c?this.margin.bottom:this.margin.top+this.height)+20};m.prototype.getXAxisClipWidth=function(){return this.getAxisClipWidth(!this.config.axis_rotated)};m.prototype.getXAxisClipHeight=
function(){return this.getAxisClipHeight(!this.config.axis_rotated)};m.prototype.getYAxisClipWidth=function(){return this.getAxisClipWidth(this.config.axis_rotated)+(this.config.axis_y_inner?20:0)};m.prototype.getYAxisClipHeight=function(){return this.getAxisClipHeight(this.config.axis_rotated)};m.prototype.generateColor=function(){var c=this.config,d=this.d3,f=c.data_colors,k=ba(c.color_pattern)?d.schemeCategory10:c.color_pattern,p=c.data_color,v=[];return function(y){var x=y.id||y.data&&y.data.id||
y;if(f[x]instanceof Function)var J=f[x](y);else f[x]?J=f[x]:(0>v.indexOf(x)&&v.push(x),J=k[v.indexOf(x)%k.length],f[x]=J);return p instanceof Function?p(J,y):J}};m.prototype.generateLevelColor=function(){var c=this.config,d=c.color_pattern;c=c.color_threshold;var f="value"===c.unit,k=c.values&&c.values.length?c.values:[],p=c.max||100;return ba(c)||ba(d)?null:function(v){var y,x=d[d.length-1];for(y=0;y<k.length;y++){var J=f?v:100*v/p;if(J<k[y]){x=d[y];break}}return x}};m.prototype.getDefaultConfig=
function(){var c={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_initialRange:void 0,zoom_type:"scroll",zoom_disableDefaultBehavior:!1,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},
onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_epochs:"epochs",data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(d){return d},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,
data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_stack_normalize:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,
subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,
axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_selection:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:"linear",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,
axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_type:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_type:"linear",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,
axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,
pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_padAngle:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",
donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",stanford_lines:[],stanford_regions:[],stanford_texts:[],stanford_scaleMin:void 0,stanford_scaleMax:void 0,stanford_scaleWidth:void 0,stanford_scaleFormat:void 0,stanford_scaleValues:void 0,stanford_colors:void 0,stanford_padding:{top:0,right:0,bottom:0,left:0},regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,
tooltip_horizontal:void 0,tooltip_position:void 0,tooltip_contents:function(d,f,k,p){return this.getTooltipContent?this.getTooltipContent(d,f,k,p):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};Object.keys(this.additionalConfig).forEach(function(d){c[d]=this.additionalConfig[d]},this);return c};m.prototype.additionalConfig=
{};m.prototype.loadConfig=function(c){function d(){var y=p.shift();if(y&&k&&"object"===typeof k&&y in k)return k=k[y],d();if(!y)return k}var f=this.config,k,p,v;Object.keys(f).forEach(function(y){k=c;p=y.split("_");v=d();Q(v)&&(f[y]=v)})};m.prototype.convertUrlToData=function(c,d,f,k,p){var v=this;d=d?d:"csv";if("json"===d){d=v.d3.json;var y=v.convertJsonToData}else d="tsv"===d?v.d3.tsv:v.d3.csv,y=v.convertXsvToData;d(c,f).then(function(x){p.call(v,y.call(v,x,k))}).catch(function(x){throw x;})};m.prototype.convertXsvToData=
function(c){var d=c.columns;return 0===c.length?{keys:d,rows:[d.reduce(function(f,k){var p;return Object.assign(f,(p={},p[k]=null,p))},{})]}:{keys:d,rows:[].concat(c)}};m.prototype.convertJsonToData=function(c,d){var f=this,k=[];if(d){if(d.x){var p=d.value.concat(d.x);f.config.data_x=d.x}else p=d.value;k.push(p);c.forEach(function(v){var y=[];p.forEach(function(x){x=f.findValueInJson(v,x);H(x)&&(x=null);y.push(x)});k.push(y)});d=f.convertRowsToData(k)}else Object.keys(c).forEach(function(v){k.push([v].concat(c[v]))}),
d=f.convertColumnsToData(k);return d};m.prototype.findValueInJson=function(c,d){if(d in c)return c[d];d=d.replace(/\[(\w+)\]/g,".$1");d=d.replace(/^\./,"");d=d.split(".");for(var f=0;f<d.length;++f){var k=d[f];if(k in c)c=c[k];else return}return c};m.prototype.convertRowsToData=function(c){for(var d=[],f=c[0],k=1;k<c.length;k++){for(var p={},v=0;v<c[k].length;v++){if(H(c[k][v]))throw Error("Source data is missing a component at ("+k+","+v+")!");p[f[v]]=c[k][v]}d.push(p)}return{keys:f,rows:d}};m.prototype.convertColumnsToData=
function(c){for(var d=[],f=[],k=0;k<c.length;k++){for(var p=c[k][0],v=1;v<c[k].length;v++){H(d[v-1])&&(d[v-1]={});if(H(c[k][v]))throw Error("Source data is missing a component at ("+k+","+v+")!");d[v-1][p]=c[k][v]}f.push(p)}return{keys:f,rows:d}};m.prototype.convertDataToTargets=function(c,d){var f=this,k=f.config;if(Array.isArray(c))var p=Object.keys(c[0]);else p=c.keys,c=c.rows;var v=p.filter(f.isX,f);if(f.isStanfordGraphType()){var y=p.filter(f.isEpochs,f);p=p.filter(f.isNotXAndNotEpochs,f);if(1!==
v.length||1!==y.length||1!==p.length)throw Error("You must define the 'x' key name and the 'epochs' for Stanford Diagrams");}else p=p.filter(f.isNotX,f);p.forEach(function(x){var J=f.getXKey(x);f.isCustomX()||f.isTimeSeries()?0<=v.indexOf(J)?f.data.xs[x]=(d&&f.data.xs[x]?f.data.xs[x]:[]).concat(c.map(function(da){return da[J]}).filter(R).map(function(da,wa){return f.generateTargetX(da,x,wa)})):k.data_x?f.data.xs[x]=f.getOtherTargetXs():ba(k.data_xs)||(f.data.xs[x]=f.getXValuesOfXKey(J,f.data.targets)):
f.data.xs[x]=c.map(function(da,wa){return wa})});p.forEach(function(x){if(!f.data.xs[x])throw Error('x is not defined for id \x3d "'+x+'".');});p=p.map(function(x,J){var da=k.data_idConverter(x);return{id:da,id_org:x,values:c.map(function(wa,ca){var fa=f.getXKey(x);fa=wa[fa];var Ha=null===wa[x]||isNaN(wa[x])?null:+wa[x];if(f.isCustomX()&&f.isCategorized()&&!H(fa)){0===J&&0===ca&&(k.axis_x_categories=[]);var Oa=k.axis_x_categories.indexOf(fa);-1===Oa&&(Oa=k.axis_x_categories.length,k.axis_x_categories.push(fa))}else Oa=
f.generateTargetX(fa,x,ca);if(H(wa[x])||f.data.xs[x].length<=ca)Oa=void 0;ca={x:Oa,value:Ha,id:da};f.isStanfordGraphType()&&(ca.epochs=wa[y]);return ca}).filter(function(wa){return Q(wa.x)})}});p.forEach(function(x){k.data_xSort&&(x.values=x.values.sort(function(da,wa){return(da.x||0===da.x?da.x:Infinity)-(wa.x||0===wa.x?wa.x:Infinity)}));var J=0;x.values.forEach(function(da){da.index=J++});f.data.xs[x.id].sort(function(da,wa){return da-wa})});f.hasNegativeValue=f.hasNegativeValueInTargets(p);f.hasPositiveValue=
f.hasPositiveValueInTargets(p);k.data_type&&f.setTargetType(f.mapToIds(p).filter(function(x){return!(x in k.data_types)}),k.data_type);p.forEach(function(x){f.addCache(x.id_org,x)});return p};m.prototype.isEpochs=function(c){var d=this.config;return d.data_epochs&&c===d.data_epochs};m.prototype.isX=function(c){var d=this.config;return d.data_x&&c===d.data_x||!ba(d.data_xs)&&ea(d.data_xs,c)};m.prototype.isNotX=function(c){return!this.isX(c)};m.prototype.isNotXAndNotEpochs=function(c){return!this.isX(c)&&
!this.isEpochs(c)};m.prototype.isStackNormalized=function(){return this.config.data_stack_normalize&&0<this.config.data_groups.length};m.prototype.isAxisNormalized=function(c){var d=this;return d.isStackNormalized()?d.data.targets.filter(function(f){return d.axis.getId(f.id)===c}).some(function(f){return d.isTargetNormalized(f.id)}):!1};m.prototype.isTargetNormalized=function(c){return this.isStackNormalized()&&this.config.data_groups.some(function(d){return d.includes(c)})};m.prototype.getXKey=function(c){var d=
this.config;return d.data_x?d.data_x:ba(d.data_xs)?null:d.data_xs[c]};m.prototype.getTotalPerIndex=function(c){var d=this;if(!d.isStackNormalized())return null;var f=d.getFromCache("getTotalPerIndex");if(void 0!==f)return f[c];var k={y:[],y2:[]};d.data.targets.filter(function(p){return d.isTargetNormalized(p.id)}).filter(function(p){return d.isTargetToShow(p.id)}).forEach(function(p){var v=k[d.axis.getId(p.id)];p.values.forEach(function(y,x){v[x]||(v[x]=0);v[x]+="number"===typeof y.value?y.value:
0})});d.addToCache("getTotalPerIndex",k);return k[c]};m.prototype.getTotalDataSum=function(){var c=this,d=c.getFromCache("getTotalDataSum");if(void 0!==d)return d;d=N(c.data.targets.filter(function(f){return c.isTargetToShow(f.id)}).map(function(f){return f.values})).map(function(f){return f.value}).reduce(function(f,k){return f+k},0);c.addToCache("getTotalDataSum",d);return d};m.prototype.getXValuesOfXKey=function(c,d){var f=this,k;(d&&!ba(d)?f.mapToIds(d):[]).forEach(function(p){f.getXKey(p)===
c&&(k=f.data.xs[p])});return k};m.prototype.getXValue=function(c,d){return c in this.data.xs&&this.data.xs[c]&&R(this.data.xs[c][d])?this.data.xs[c][d]:d};m.prototype.getOtherTargetXs=function(){var c=Object.keys(this.data.xs);return c.length?this.data.xs[c[0]]:null};m.prototype.getOtherTargetX=function(c){var d=this.getOtherTargetXs();return d&&c<d.length?d[c]:null};m.prototype.addXs=function(c){var d=this;Object.keys(c).forEach(function(f){d.config.data_xs[f]=c[f]})};m.prototype.addName=function(c){if(c){var d=
this.config.data_names[c.id];c.name=void 0!==d?d:c.id}return c};m.prototype.getValueOnIndex=function(c,d){c=c.filter(function(f){return f.index===d});return c.length?c[0]:null};m.prototype.updateTargetX=function(c,d){var f=this;c.forEach(function(k){k.values.forEach(function(p,v){p.x=f.generateTargetX(d[v],k.id,v)});f.data.xs[k.id]=d})};m.prototype.updateTargetXs=function(c,d){var f=this;c.forEach(function(k){d[k.id]&&f.updateTargetX([k],d[k.id])})};m.prototype.generateTargetX=function(c,d,f){return this.isTimeSeries()?
c?this.parseDate(c):this.parseDate(this.getXValue(d,f)):this.isCustomX()&&!this.isCategorized()?R(c)?+c:this.getXValue(d,f):f};m.prototype.cloneTarget=function(c){return{id:c.id,id_org:c.id_org,values:c.values.map(function(d){return{x:d.x,value:d.value,id:d.id}})}};m.prototype.getMaxDataCount=function(){return this.d3.max(this.data.targets,function(c){return c.values.length})};m.prototype.mapToIds=function(c){return c.map(function(d){return d.id})};m.prototype.mapToTargetIds=function(c){return c?
[].concat(c):this.mapToIds(this.data.targets)};m.prototype.hasTarget=function(c,d){c=this.mapToIds(c);var f;for(f=0;f<c.length;f++)if(c[f]===d)return!0;return!1};m.prototype.isTargetToShow=function(c){return 0>this.hiddenTargetIds.indexOf(c)};m.prototype.isLegendToShow=function(c){return 0>this.hiddenLegendIds.indexOf(c)};m.prototype.getTargetsToShow=function(){return this.filterTargetsToShow(this.data.targets)};m.prototype.filterTargetsToShow=function(c){var d=this;return c.filter(function(f){return d.isTargetToShow(f.id)})};
m.prototype.getTargets=function(){return this.data.targets};m.prototype.mapTargetsToUniqueXs=function(c){c=this.d3.set(this.d3.merge(c.map(function(d){return d.values.map(function(f){return+f.x})}))).values();c=this.isTimeSeries()?c.map(function(d){return new Date(+d)}):c.map(function(d){return+d});return c.sort(function(d,f){return d<f?-1:d>f?1:d>=f?0:NaN})};m.prototype.addHiddenTargetIds=function(c){c=c instanceof Array?c:Array(c);for(var d=0;d<c.length;d++)0>this.hiddenTargetIds.indexOf(c[d])&&
(this.hiddenTargetIds=this.hiddenTargetIds.concat(c[d]));this.resetCache()};m.prototype.removeHiddenTargetIds=function(c){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(d){return 0>c.indexOf(d)});this.resetCache()};m.prototype.addHiddenLegendIds=function(c){c=c instanceof Array?c:Array(c);for(var d=0;d<c.length;d++)0>this.hiddenLegendIds.indexOf(c[d])&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(c[d]))};m.prototype.removeHiddenLegendIds=function(c){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(d){return 0>
c.indexOf(d)})};m.prototype.getValuesAsIdKeyed=function(c){var d={};c.forEach(function(f){d[f.id]=[];f.values.forEach(function(k){d[f.id].push(k.value)})});return d};m.prototype.checkValueInTargets=function(c,d){var f=Object.keys(c),k,p;for(k=0;k<f.length;k++){var v=c[f[k]].values;for(p=0;p<v.length;p++)if(d(v[p].value))return!0}return!1};m.prototype.hasNegativeValueInTargets=function(c){return this.checkValueInTargets(c,function(d){return 0>d})};m.prototype.hasPositiveValueInTargets=function(c){return this.checkValueInTargets(c,
function(d){return 0<d})};m.prototype.isOrderDesc=function(){var c=this.config;return"string"===typeof c.data_order&&"desc"===c.data_order.toLowerCase()};m.prototype.isOrderAsc=function(){var c=this.config;return"string"===typeof c.data_order&&"asc"===c.data_order.toLowerCase()};m.prototype.getOrderFunction=function(){var c=this.config,d=this.isOrderAsc(),f=this.isOrderDesc();if(d||f){var k=function(v,y){return v+Math.abs(y.value)};return function(v,y){v=v.values.reduce(k,0);y=y.values.reduce(k,0);
return d?y-v:v-y}}if(W(c.data_order))return c.data_order;if(Array.isArray(c.data_order)){var p=c.data_order;return function(v,y){return p.indexOf(v.id)-p.indexOf(y.id)}}};m.prototype.orderTargets=function(c){var d=this.getOrderFunction();d&&c.sort(d);return c};m.prototype.filterByIndex=function(c,d){return this.d3.merge(c.map(function(f){return f.values.filter(function(k){return k.index===d})}))};m.prototype.filterByX=function(c,d){return this.d3.merge(c.map(function(f){return f.values})).filter(function(f){return 0===
f.x-d})};m.prototype.filterRemoveNull=function(c){return c.filter(function(d){return R(d.value)})};m.prototype.filterByXDomain=function(c,d){return c.map(function(f){return{id:f.id,id_org:f.id_org,values:f.values.filter(function(k){return d[0]<=k.x&&k.x<=d[1]})}})};m.prototype.hasDataLabel=function(){var c=this.config;return"boolean"===typeof c.data_labels&&c.data_labels||"object"===typeof c.data_labels&&!ba(c.data_labels)?!0:!1};m.prototype.getDataLabelLength=function(c,d,f){var k=this,p=[0,0];k.selectChart.select("svg").selectAll(".dummy").data([c,
d]).enter().append("text").text(function(v){return k.dataLabelFormat(v.id)(v)}).each(function(v,y){p[y]=1.3*La(this)[f]}).remove();return p};m.prototype.isNoneArc=function(c){return this.hasTarget(this.data.targets,c.id)};m.prototype.isArc=function(c){return"data"in c&&this.hasTarget(this.data.targets,c.data.id)};m.prototype.findClosestFromTargets=function(c,d){var f=this;c=c.map(function(k){return f.findClosest(k.values,d,f.config.tooltip_horizontal?f.horizontalDistance.bind(f):f.dist.bind(f),f.config.point_sensitivity)}).filter(function(k){return k});
if(0!==c.length)return 1===c.length?c[0]:f.findClosest(c,d,f.dist.bind(f))};m.prototype.findClosestFromTargetsByX=function(c,d){var f,k;c.forEach(function(p){p.values.forEach(function(v){var y=Math.abs(d-v.x);if(void 0===k||y<k)f=v,k=y})});return f};m.prototype.findClosest=function(c,d,f,k){void 0===k&&(k=Infinity);var p=this,v;c.filter(function(y){return y&&p.isBarType(y.id)}).forEach(function(y){if(!v){var x=p.main.select("."+E.bars+p.getTargetSelectorSuffix(y.id)+" ."+E.bar+"-"+y.index).node();
p.isWithinBar(d,x)&&(v=y)}});c.filter(function(y){return y&&!p.isBarType(y.id)}).forEach(function(y){var x=f(y,d);x<k&&(k=x,v=y)});return v};m.prototype.dist=function(c,d){var f=this.config,k=f.axis_rotated?1:0;f=f.axis_rotated?0:1;var p=this.circleY(c,c.index);c=this.x(c.x);return Math.sqrt(Math.pow(c-d[k],2)+Math.pow(p-d[f],2))};m.prototype.horizontalDistance=function(c,d){var f=this.config.axis_rotated?1:0;c=this.x(c.x);return Math.abs(c-d[f])};m.prototype.convertValuesToStep=function(c){var d=
[].concat(c),f;if(!this.isCategorized())return c;for(f=c.length+1;0<f;f--)d[f]=d[f-1];d[0]={x:d[0].x-1,value:d[0].value,id:d[0].id};d[c.length+1]={x:d[c.length].x+1,value:d[c.length].value,id:d[c.length].id};return d};m.prototype.getRatio=function(c,d,f){void 0===f&&(f=!1);var k=this.api,p=0;d&&k.data.shown.call(k).length&&(p=d.ratio||d.value,"arc"===c?this.hasType("gauge")?p=(d.endAngle-d.startAngle)/(Math.PI*(this.config.gauge_fullCircle?2:1)):(c=this.getTotalDataSum(),p=d.value/c):"index"===c&&
(c=this.getTotalPerIndex(this.axis.getId(d.id)),d.ratio="number"===typeof d.value&&c&&0<c[d.index]?d.value/c[d.index]:0,p=d.ratio));return f&&p?100*p:p};m.prototype.updateDataAttributes=function(c,d){var f=this.config["data_"+c];if("undefined"===typeof d)return f;Object.keys(d).forEach(function(k){f[k]=d[k]});this.redraw({withLegend:!0});return f};m.prototype.load=function(c,d){var f=this;c&&(d.filter&&(c=c.filter(d.filter)),(d.type||d.types)&&c.forEach(function(k){f.setTargetType(k.id,d.types&&d.types[k.id]?
d.types[k.id]:d.type)}),f.data.targets.forEach(function(k){for(var p=0;p<c.length;p++)if(k.id===c[p].id){k.values=c[p].values;c.splice(p,1);break}}),f.data.targets=f.data.targets.concat(c));f.updateTargets(f.data.targets);f.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0});d.done&&d.done()};m.prototype.loadFromArgs=function(c){var d=this;d.resetCache();c.data?d.load(d.convertDataToTargets(c.data),c):c.url?d.convertUrlToData(c.url,c.mimeType,c.headers,c.keys,function(f){d.load(d.convertDataToTargets(f),
c)}):c.json?d.load(d.convertDataToTargets(d.convertJsonToData(c.json,c.keys)),c):c.rows?d.load(d.convertDataToTargets(d.convertRowsToData(c.rows)),c):c.columns?d.load(d.convertDataToTargets(d.convertColumnsToData(c.columns)),c):d.load(null,c)};m.prototype.unload=function(c,d){var f=this;f.resetCache();d||(d=function(){});(c=c.filter(function(k){return f.hasTarget(f.data.targets,k)}))&&0!==c.length?(f.svg.selectAll(c.map(function(k){return f.selectorTarget(k)})).transition().style("opacity",0).remove().call(f.endall,
d),c.forEach(function(k){f.withoutFadeIn[k]=!1;f.legend&&f.legend.selectAll("."+E.legendItem+f.getTargetSelectorSuffix(k)).remove();f.data.targets=f.data.targets.filter(function(p){return p.id!==k})})):d()};m.prototype.getYDomainMin=function(c){var d=this,f=d.config,k=d.mapToIds(c),p=d.getValuesAsIdKeyed(c),v;if(0<f.data_groups.length){var y=d.hasNegativeValueInTargets(c);for(c=0;c<f.data_groups.length;c++){var x=f.data_groups[c].filter(function(wa){return 0<=k.indexOf(wa)});if(0!==x.length){var J=
x[0];y&&p[J]&&p[J].forEach(function(wa,ca){p[J][ca]=0>wa?wa:0});for(v=1;v<x.length;v++){var da=x[v];p[da]&&p[da].forEach(function(wa,ca){d.axis.getId(da)!==d.axis.getId(J)||!p[J]||y&&0<+wa||(p[J][ca]+=+wa)})}}}}return d.d3.min(Object.keys(p).map(function(wa){return d.d3.min(p[wa])}))};m.prototype.getYDomainMax=function(c){var d=this,f=d.config,k=d.mapToIds(c),p=d.getValuesAsIdKeyed(c),v;if(0<f.data_groups.length){var y=d.hasPositiveValueInTargets(c);for(c=0;c<f.data_groups.length;c++){var x=f.data_groups[c].filter(function(wa){return 0<=
k.indexOf(wa)});if(0!==x.length){var J=x[0];y&&p[J]&&p[J].forEach(function(wa,ca){p[J][ca]=0<wa?wa:0});for(v=1;v<x.length;v++){var da=x[v];p[da]&&p[da].forEach(function(wa,ca){d.axis.getId(da)!==d.axis.getId(J)||!p[J]||y&&0>+wa||(p[J][ca]+=+wa)})}}}}return d.d3.max(Object.keys(p).map(function(wa){return d.d3.max(p[wa])}))};m.prototype.getYDomain=function(c,d,f){var k=this,p=k.config;if(k.isAxisNormalized(d))return[0,100];c=c.filter(function(Wa){return k.axis.getId(Wa.id)===d});var v=f?k.filterByXDomain(c,
f):c,y="y2"===d?p.axis_y2_min:p.axis_y_min,x="y2"===d?p.axis_y2_max:p.axis_y_max,J=k.getYDomainMin(v);c=k.getYDomainMax(v);var da,wa="y2"===d?p.axis_y2_center:p.axis_y_center,ca=k.hasType("bar",v)&&p.bar_zerobased||k.hasType("area",v)&&p.area_zerobased;f="y2"===d?p.axis_y2_inverted:p.axis_y_inverted;var fa=k.hasDataLabel()&&p.axis_rotated;var Ha=k.hasDataLabel()&&!p.axis_rotated;J=R(y)?y:R(x)?J<x?J:x-10:J;c=R(x)?x:R(y)?y<c?c:y+10:c;if(0===v.length)return"y2"===d?k.y2.domain():k.y.domain();isNaN(J)&&
(J=0);isNaN(c)&&(c=J);J===c&&(0>J?c=0:J=0);v=0<=J&&0<=c;var Oa=0>=J&&0>=c;if(R(y)&&v||R(x)&&Oa)ca=!1;ca&&(v&&(J=0),Oa&&(c=0));y=Math.abs(c-J);x=da=.1*y;"undefined"!==typeof wa&&(J=Math.max(Math.abs(J),Math.abs(c)),c=wa+J,J=wa-J);fa?(wa=k.getDataLabelLength(J,c,"width"),fa=ha(k.y.range()),wa=[wa[0]/fa,wa[1]/fa],x+=wa[1]/(1-wa[0]-wa[1])*y,da+=wa[0]/(1-wa[0]-wa[1])*y):Ha&&(wa=k.getDataLabelLength(J,c,"height"),fa=k.getY(p["axis_"+d+"_type"],[0,p.axis_rotated?k.width:k.height],[0,y]),x+=fa(wa[1]),da+=
fa(wa[0]));"y"!==d||ba(p.axis_y_padding)||(x=k.axis.getPadding(p.axis_y_padding,"top",x,y),da=k.axis.getPadding(p.axis_y_padding,"bottom",da,y));"y2"!==d||ba(p.axis_y2_padding)||(x=k.axis.getPadding(p.axis_y2_padding,"top",x,y),da=k.axis.getPadding(p.axis_y2_padding,"bottom",da,y));ca&&(v&&(da=J),Oa&&(x=-c));p=[J-da,c+x];return f?p.reverse():p};m.prototype.getXDomainMin=function(c){var d=this,f=d.config;return Q(f.axis_x_min)?d.isTimeSeries()?this.parseDate(f.axis_x_min):f.axis_x_min:d.d3.min(c,function(k){return d.d3.min(k.values,
function(p){return p.x})})};m.prototype.getXDomainMax=function(c){var d=this,f=d.config;return Q(f.axis_x_max)?d.isTimeSeries()?this.parseDate(f.axis_x_max):f.axis_x_max:d.d3.max(c,function(k){return d.d3.max(k.values,function(p){return p.x})})};m.prototype.getXDomainPadding=function(c){var d=this.config;c=c[1]-c[0];var f;if(this.isCategorized())c=0;else if(this.hasType("bar")){var k=this.getMaxDataCount();c=1<k?c/(k-1)/2:.5}else c*=.01;"object"!==typeof d.axis_x_padding||ba(d.axis_x_padding)?k="number"===
typeof d.axis_x_padding?f=d.axis_x_padding:f=c:(k=R(d.axis_x_padding.left)?d.axis_x_padding.left:c,f=R(d.axis_x_padding.right)?d.axis_x_padding.right:c);return{left:k,right:f}};m.prototype.getXDomain=function(c){var d=[this.getXDomainMin(c),this.getXDomainMax(c)];c=d[0];var f=d[1];d=this.getXDomainPadding(d);var k=0,p=0;0!==c-f||this.isCategorized()||(this.isTimeSeries()?(c=new Date(.5*c.getTime()),f=new Date(1.5*f.getTime())):(c=0===c?1:.5*c,f=0===f?-1:1.5*f));if(c||0===c)k=this.isTimeSeries()?new Date(c.getTime()-
d.left):c-d.left;if(f||0===f)p=this.isTimeSeries()?new Date(f.getTime()+d.right):f+d.right;return[k,p]};m.prototype.updateXDomain=function(c,d,f,k,p){var v=this.config;f&&(this.x.domain(p?p:this.d3.extent(this.getXDomain(c))),this.orgXDomain=this.x.domain(),v.zoom_enabled&&this.zoom.update(),this.subX.domain(this.x.domain()),this.brush&&this.brush.updateScale(this.subX));d&&this.x.domain(p?p:!this.brush||this.brush.empty()?this.orgXDomain:this.brush.selectionAsValue());k&&this.x.domain(this.trimXDomain(this.x.orgDomain()));
return this.x.domain()};m.prototype.trimXDomain=function(c){var d=this.getZoomDomain(),f=d[0];d=d[1];c[0]<=f&&(c[1]=+c[1]+(f-c[0]),c[0]=f);d<=c[1]&&(c[0]=+c[0]-(c[1]-d),c[1]=d);return c};m.prototype.drag=function(c){var d=this,f=d.config,k=d.main,p=d.d3;if(!d.hasArcType()&&f.data_selection_enabled&&f.data_selection_multiple){var v=d.dragStart[0];var y=d.dragStart[1];var x=c[0];c=c[1];var J=Math.min(v,x);var da=Math.max(v,x);var wa=f.data_selection_grouped?d.margin.top:Math.min(y,c);var ca=f.data_selection_grouped?
d.height:Math.max(y,c);k.select("."+E.dragarea).attr("x",J).attr("y",wa).attr("width",da-J).attr("height",ca-wa);k.selectAll("."+E.shapes).selectAll("."+E.shape).each(function(fa,Ha){if(f.data_selection_isselectable(fa)){var Oa=p.select(this),Wa=Oa.classed(E.SELECTED),tb=Oa.classed(E.INCLUDED);if(Oa.classed(E.circle)){var gb=1*Oa.attr("cx");var qb=1*Oa.attr("cy");var nb=d.togglePoint;gb=J<gb&&gb<da&&wa<qb&&qb<ca}else if(Oa.classed(E.bar)){nb=Ca(this);gb=nb.x;qb=nb.y;var Ma=nb.width;var fb=nb.height;
nb=d.togglePath;gb=!(da<gb||gb+Ma<J)&&!(ca<qb||qb+fb<wa)}else return;gb^tb&&(Oa.classed(E.INCLUDED,!tb),Oa.classed(E.SELECTED,!Wa),nb.call(d,!Wa,Oa,fa,Ha))}})}};m.prototype.dragstart=function(c){var d=this.config;!this.hasArcType()&&d.data_selection_enabled&&(this.dragStart=c,this.main.select("."+E.chart).append("rect").attr("class",E.dragarea).style("opacity",.1),this.dragging=!0)};m.prototype.dragend=function(){var c=this.config;!this.hasArcType()&&c.data_selection_enabled&&(this.main.select("."+
E.dragarea).transition().duration(100).style("opacity",0).remove(),this.main.selectAll("."+E.shape).classed(E.INCLUDED,!1),this.dragging=!1)};m.prototype.getYFormat=function(c){var d=this,f=c&&!d.hasType("gauge")?d.defaultArcValueFormat:d.yFormat,k=c&&!d.hasType("gauge")?d.defaultArcValueFormat:d.y2Format;return function(p,v,y){return("y2"===d.axis.getId(y)?k:f).call(d,p,v)}};m.prototype.yFormat=function(c){var d=this.config;return(d.axis_y_tick_format?d.axis_y_tick_format:this.defaultValueFormat)(c)};
m.prototype.y2Format=function(c){var d=this.config;return(d.axis_y2_tick_format?d.axis_y2_tick_format:this.defaultValueFormat)(c)};m.prototype.defaultValueFormat=function(c){return R(c)?+c:""};m.prototype.defaultArcValueFormat=function(c,d){return(100*d).toFixed(1)+"%"};m.prototype.dataLabelFormat=function(c){var d=this.config.data_labels,f=function(k){return R(k)?+k:""};return"function"===typeof d.format?d.format:"object"===typeof d.format?d.format[c]?!0===d.format[c]?f:d.format[c]:function(){return""}:
f};m.prototype.initGrid=function(){var c=this.config,d=this.d3;this.grid=this.main.append("g").attr("clip-path",this.clipPathForGrid).attr("class",E.grid);c.grid_x_show&&this.grid.append("g").attr("class",E.xgrids);c.grid_y_show&&this.grid.append("g").attr("class",E.ygrids);c.grid_focus_show&&this.grid.append("g").attr("class",E.xgridFocus).append("line").attr("class",E.xgridFocus);this.xgrid=d.selectAll([]);c.grid_lines_front||this.initGridLines()};m.prototype.initGridLines=function(){var c=this.d3;
this.gridLines=this.main.append("g").attr("clip-path",this.clipPathForGrid).attr("class",E.grid+" "+E.gridLines);this.gridLines.append("g").attr("class",E.xgridLines);this.gridLines.append("g").attr("class",E.ygridLines);this.xgridLines=c.selectAll([])};m.prototype.updateXGrid=function(c){var d=this,f=d.config,k=d.d3,p=d.generateGridData(f.grid_x_type,d.x),v=d.isCategorized()?d.xAxis.tickOffset():0;d.xgridAttr=f.axis_rotated?{x1:0,x2:d.width,y1:function(x){return d.x(x)-v},y2:function(x){return d.x(x)-
v}}:{x1:function(x){return d.x(x)+v},x2:function(x){return d.x(x)+v},y1:0,y2:d.height};d.xgridAttr.opacity=function(){return+k.select(this).attr(f.axis_rotated?"y1":"x1")===(f.axis_rotated?d.height:0)?0:1};p=d.main.select("."+E.xgrids).selectAll("."+E.xgrid).data(p);var y=p.enter().append("line").attr("class",E.xgrid).attr("x1",d.xgridAttr.x1).attr("x2",d.xgridAttr.x2).attr("y1",d.xgridAttr.y1).attr("y2",d.xgridAttr.y2).style("opacity",0);d.xgrid=y.merge(p);c||d.xgrid.attr("x1",d.xgridAttr.x1).attr("x2",
d.xgridAttr.x2).attr("y1",d.xgridAttr.y1).attr("y2",d.xgridAttr.y2).style("opacity",d.xgridAttr.opacity);p.exit().remove()};m.prototype.updateYGrid=function(){var c=this.config,d=this.yAxis.tickValues()||this.y.ticks(c.grid_y_ticks);d=this.main.select("."+E.ygrids).selectAll("."+E.ygrid).data(d);this.ygrid=d.enter().append("line").attr("class",E.ygrid).merge(d);this.ygrid.attr("x1",c.axis_rotated?this.y:0).attr("x2",c.axis_rotated?this.y:this.width).attr("y1",c.axis_rotated?0:this.y).attr("y2",c.axis_rotated?
this.height:this.y);d.exit().remove();this.smoothLines(this.ygrid,"grid")};m.prototype.gridTextAnchor=function(c){return c.position?c.position:"end"};m.prototype.gridTextDx=function(c){return"start"===c.position?4:"middle"===c.position?0:-4};m.prototype.xGridTextX=function(c){return"start"===c.position?-this.height:"middle"===c.position?-this.height/2:0};m.prototype.yGridTextX=function(c){return"start"===c.position?0:"middle"===c.position?this.width/2:this.width};m.prototype.updateGrid=function(c){var d=
this.main,f=this.config,k=this.xv.bind(this),p=this.yv.bind(this),v=this.xGridTextX.bind(this),y=this.yGridTextX.bind(this);this.grid.style("visibility",this.hasArcType()?"hidden":"visible");d.select("line."+E.xgridFocus).style("visibility","hidden");f.grid_x_show&&this.updateXGrid();var x=d.select("."+E.xgridLines).selectAll("."+E.xgridLine).data(f.grid_x_lines);var J=x.enter().append("g").attr("class",function(da){return E.xgridLine+(da["class"]?" "+da["class"]:"")});J.append("line").attr("x1",
f.axis_rotated?0:k).attr("x2",f.axis_rotated?this.width:k).attr("y1",f.axis_rotated?k:0).attr("y2",f.axis_rotated?k:this.height).style("opacity",0);J.append("text").attr("text-anchor",this.gridTextAnchor).attr("transform",f.axis_rotated?"":"rotate(-90)").attr("x",f.axis_rotated?y:v).attr("y",k).attr("dx",this.gridTextDx).attr("dy",-5).style("opacity",0);this.xgridLines=J.merge(x);x.exit().transition().duration(c).style("opacity",0).remove();f.grid_y_show&&this.updateYGrid();d=d.select("."+E.ygridLines).selectAll("."+
E.ygridLine).data(f.grid_y_lines);x=d.enter().append("g").attr("class",function(da){return E.ygridLine+(da["class"]?" "+da["class"]:"")});x.append("line").attr("x1",f.axis_rotated?p:0).attr("x2",f.axis_rotated?p:this.width).attr("y1",f.axis_rotated?0:p).attr("y2",f.axis_rotated?this.height:p).style("opacity",0);x.append("text").attr("text-anchor",this.gridTextAnchor).attr("transform",f.axis_rotated?"rotate(-90)":"").attr("x",f.axis_rotated?v:y).attr("y",p).attr("dx",this.gridTextDx).attr("dy",-5).style("opacity",
0);this.ygridLines=x.merge(d);this.ygridLines.select("line").transition().duration(c).attr("x1",f.axis_rotated?p:0).attr("x2",f.axis_rotated?p:this.width).attr("y1",f.axis_rotated?0:p).attr("y2",f.axis_rotated?this.height:p).style("opacity",1);this.ygridLines.select("text").transition().duration(c).attr("x",f.axis_rotated?this.xGridTextX.bind(this):this.yGridTextX.bind(this)).attr("y",p).text(function(da){return da.text}).style("opacity",1);d.exit().transition().duration(c).style("opacity",0).remove()};
m.prototype.redrawGrid=function(c,d){var f=this.config,k=this.xv.bind(this),p=this.xgridLines.select("line"),v=this.xgridLines.select("text");return[(c?p.transition(d):p).attr("x1",f.axis_rotated?0:k).attr("x2",f.axis_rotated?this.width:k).attr("y1",f.axis_rotated?k:0).attr("y2",f.axis_rotated?k:this.height).style("opacity",1),(c?v.transition(d):v).attr("x",f.axis_rotated?this.yGridTextX.bind(this):this.xGridTextX.bind(this)).attr("y",k).text(function(y){return y.text}).style("opacity",1)]};m.prototype.showXGridFocus=
function(c){var d=this.config;c=c.filter(function(p){return p&&R(p.value)});var f=this.main.selectAll("line."+E.xgridFocus),k=this.xx.bind(this);!d.tooltip_show||this.hasType("stanford")||this.hasArcType()||(f.style("visibility","visible").data([c[0]]).attr(d.axis_rotated?"y1":"x1",k).attr(d.axis_rotated?"y2":"x2",k),this.smoothLines(f,"grid"))};m.prototype.hideXGridFocus=function(){this.main.select("line."+E.xgridFocus).style("visibility","hidden")};m.prototype.updateXgridFocus=function(){var c=
this.config;this.main.select("line."+E.xgridFocus).attr("x1",c.axis_rotated?0:-10).attr("x2",c.axis_rotated?this.width:-10).attr("y1",c.axis_rotated?-10:0).attr("y2",c.axis_rotated?-10:this.height)};m.prototype.generateGridData=function(c,d){var f=[],k=this.main.select("."+E.axisX).selectAll(".tick").size();if("year"===c)for(d=this.getXDomain(),c=d[0].getFullYear(),d=d[1].getFullYear();c<=d;c++)f.push(new Date(c+"-01-01 00:00:00"));else f=d.ticks(10),f.length>k&&(f=f.filter(function(p){return 0>(""+
p).indexOf(".")}));return f};m.prototype.getGridFilterToRemove=function(c){return c?function(d){var f=!1;[].concat(c).forEach(function(k){if("value"in k&&d.value===k.value||"class"in k&&d["class"]===k["class"])f=!0});return f}:function(){return!0}};m.prototype.removeGridLines=function(c,d){var f=this.config,k=this.getGridFilterToRemove(c);c=function(v){return!k(v)};var p=d?E.xgridLine:E.ygridLine;this.main.select("."+(d?E.xgridLines:E.ygridLines)).selectAll("."+p).filter(k).transition().duration(f.transition_duration).style("opacity",
0).remove();d?f.grid_x_lines=f.grid_x_lines.filter(c):f.grid_y_lines=f.grid_y_lines.filter(c)};m.prototype.initEventRect=function(){var c=this.config;this.main.select("."+E.chart).append("g").attr("class",E.eventRects).style("fill-opacity",0);this.eventRect=this.main.select("."+E.eventRects).append("rect").attr("class",E.eventRect);c.zoom_enabled&&this.zoom&&(this.eventRect.call(this.zoom).on("dblclick.zoom",null),c.zoom_initialRange&&this.eventRect.transition().duration(0).call(this.zoom.transform,
this.zoomTransform(c.zoom_initialRange)))};m.prototype.redrawEventRect=function(){function c(){d.svg.select("."+E.eventRect).style("cursor",null);d.hideXGridFocus();d.hideTooltip();d.unexpandCircles();d.unexpandBars()}var d=this,f=d.d3,k=d.config,p=function(y,x){return x&&(d.isBarType(x.id)||d.dist(x,y)<k.point_sensitivity)},v=function(y){return y?d.addName(Object.assign({},y)):null};d.main.select("."+E.eventRects).style("cursor",k.zoom_enabled?k.axis_rotated?"ns-resize":"ew-resize":null);d.eventRect.attr("x",
0).attr("y",0).attr("width",d.width).attr("height",d.height).on("mouseout",k.interaction_enabled?function(){k&&!d.hasArcType()&&(d.mouseover&&(k.data_onmouseout.call(d.api,d.mouseover),d.mouseover=void 0),c())}:null).on("mousemove",k.interaction_enabled?function(){if(!d.dragging){var y=d.getTargetsToShow();if(!d.hasArcType(y)){var x=f.mouse(this),J=v(d.findClosestFromTargets(y,x)),da=p(x,J);!d.mouseover||J&&J.id===d.mouseover.id&&J.index===d.mouseover.index||(k.data_onmouseout.call(d.api,d.mouseover),
d.mouseover=void 0);J&&!d.mouseover&&(k.data_onmouseover.call(d.api,J),d.mouseover=J);d.svg.select("."+E.eventRect).style("cursor",da?"pointer":null);var wa;!k.tooltip_grouped||d.hasType("stanford",y)?J&&(wa=[J]):(da=void 0,(da=J?J:d.findClosestFromTargetsByX(y,d.x.invert(k.axis_rotated?x[1]:x[0])))&&(wa=d.filterByX(y,da.x)));if(!wa||0===wa.length)return c();wa=wa.map(v);d.showTooltip(wa,this);k.point_focus_expand_enabled&&(d.unexpandCircles(),wa.forEach(function(ca){d.expandCircles(ca.index,ca.id,
!1)}));d.unexpandBars();wa.forEach(function(ca){d.expandBars(ca.index,ca.id,!1)});d.showXGridFocus(wa)}}}:null).on("click",k.interaction_enabled?function(){var y=d.getTargetsToShow();if(!d.hasArcType(y)){var x=f.mouse(this),J=v(d.findClosestFromTargets(y,x));p(x,J)&&((!k.data_selection_grouped||d.isStanfordType(J)?[J]:d.filterByX(y,J.x)).forEach(function(da){d.main.selectAll("."+E.shapes+d.getTargetSelectorSuffix(da.id)).selectAll("."+E.shape+"-"+da.index).each(function(){(k.data_selection_grouped||
d.isWithinShape(this,da))&&d.toggleShape(this,da,da.index)})}),J&&(y=d.main.selectAll("."+E.shapes+d.getTargetSelectorSuffix(J.id)).select("."+E.shape+"-"+J.index),k.data_onclick.call(d.api,J,y.node())))}}:null).call(k.interaction_enabled&&k.data_selection_draggable&&d.drag?f.drag().on("drag",function(){d.drag(f.mouse(this))}).on("start",function(){d.dragstart(f.mouse(this))}).on("end",function(){d.dragend()}):function(){})};m.prototype.getMousePosition=function(c){return[this.x(c.x),this.getYScale(c.id)(c.value)]};
m.prototype.dispatchEvent=function(c,d){var f=this.main.select("."+E.eventRect).node(),k=f.getBoundingClientRect(),p=k.left+(d?d[0]:0);d=k.top+(d?d[1]:0);k=document.createEvent("MouseEvents");k.initMouseEvent(c,!0,!0,window,0,p,d,p,d,!1,!1,!1,!1,0,null);f.dispatchEvent(k)};m.prototype.initLegend=function(){this.legendItemTextBox={};this.legendHasRendered=!1;this.legend=this.svg.append("g").attr("transform",this.getTranslate("legend"));this.config.legend_show?this.updateLegendWithDefaults():(this.legend.style("visibility",
"hidden"),this.hiddenLegendIds=this.mapToIds(this.data.targets))};m.prototype.updateLegendWithDefaults=function(){this.updateLegend(this.mapToIds(this.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})};m.prototype.updateSizeForLegend=function(c,d){var f=this.config,k=this.isLegendTop?this.getCurrentPaddingTop()+f.legend_inset_y+5.5:this.currentHeight-c-this.getCurrentPaddingBottom()-f.legend_inset_y;f=this.isLegendLeft?this.getCurrentPaddingLeft()+f.legend_inset_x+
.5:this.currentWidth-d-this.getCurrentPaddingRight()-f.legend_inset_x+.5;this.margin3={top:this.isLegendRight?0:this.isLegendInset?k:this.currentHeight-c,right:NaN,bottom:0,left:this.isLegendRight?this.currentWidth-d:this.isLegendInset?f:0}};m.prototype.transformLegend=function(c){(c?this.legend.transition():this.legend).attr("transform",this.getTranslate("legend"))};m.prototype.updateLegendStep=function(c){this.legendStep=c};m.prototype.updateLegendItemWidth=function(c){this.legendItemWidth=c};m.prototype.updateLegendItemHeight=
function(c){this.legendItemHeight=c};m.prototype.getLegendWidth=function(){return this.config.legend_show?this.isLegendRight||this.isLegendInset?this.legendItemWidth*(this.legendStep+1):this.currentWidth:0};m.prototype.getLegendHeight=function(){var c=0;this.config.legend_show&&(c=this.isLegendRight?this.currentHeight:Math.max(20,this.legendItemHeight)*(this.legendStep+1));return c};m.prototype.opacityForLegend=function(c){return c.classed(E.legendItemHidden)?null:1};m.prototype.opacityForUnfocusedLegend=
function(c){return c.classed(E.legendItemHidden)?null:.3};m.prototype.toggleFocusLegend=function(c,d){var f=this;c=f.mapToTargetIds(c);f.legend.selectAll("."+E.legendItem).filter(function(k){return 0<=c.indexOf(k)}).classed(E.legendItemFocused,d).transition().duration(100).style("opacity",function(){return(d?f.opacityForLegend:f.opacityForUnfocusedLegend).call(f,f.d3.select(this))})};m.prototype.revertLegend=function(){var c=this,d=c.d3;c.legend.selectAll("."+E.legendItem).classed(E.legendItemFocused,
!1).transition().duration(100).style("opacity",function(){return c.opacityForLegend(d.select(this))})};m.prototype.showLegend=function(c){var d=this,f=d.config;f.legend_show||(f.legend_show=!0,d.legend.style("visibility","visible"),d.legendHasRendered||d.updateLegendWithDefaults());d.removeHiddenLegendIds(c);d.legend.selectAll(d.selectorLegends(c)).style("visibility","visible").transition().style("opacity",function(){return d.opacityForLegend(d.d3.select(this))})};m.prototype.hideLegend=function(c){var d=
this.config;d.legend_show&&ba(c)&&(d.legend_show=!1,this.legend.style("visibility","hidden"));this.addHiddenLegendIds(c);this.legend.selectAll(this.selectorLegends(c)).style("opacity",0).style("visibility","hidden")};m.prototype.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}};m.prototype.updateLegend=function(c,d,f){function k(K,D){v.legendItemTextBox[D]||(v.legendItemTextBox[D]=v.getTextRect(K.textContent,E.legendItem,K));return v.legendItemTextBox[D]}function p(K,D,U){function ma(rb,
wb){wb||(Pa=(Ia-wa-za)/2,10>Pa&&(Pa=(Ia-za)/2,wa=0,tb++));Wa[rb]=tb;Oa[tb]=v.isLegendInset?10:Pa;ca[rb]=wa;wa+=za}var Ta=0===U;U=U===c.length-1;K=k(K,D);U=K.width+da+(!U||v.isLegendRight||v.isLegendInset?10:0)+y.legend_padding;K=K.height+4;var za=v.isLegendRight||v.isLegendInset?K:U,Ia=v.isLegendRight||v.isLegendInset?v.getLegendHeight():v.getLegendWidth();Ta&&(J=x=tb=wa=0);if(y.legend_show&&!v.isLegendToShow(D))fa[D]=Ha[D]=Wa[D]=ca[D]=0;else{fa[D]=U;Ha[D]=K;if(!x||U>=x)x=U;if(!J||K>=J)J=K;Ta=v.isLegendRight||
v.isLegendInset?J:x;if(y.legend_equally){Object.keys(fa).forEach(function(rb){fa[rb]=x});Object.keys(Ha).forEach(function(rb){Ha[rb]=J});var Pa=(Ia-Ta*c.length)/2;10>Pa?(tb=wa=0,c.forEach(function(rb){ma(rb)})):ma(D,!0)}else ma(D)}}var v=this,y=v.config,x=0,J=0,da=y.legend_item_tile_width+5,wa=0,ca={},fa={},Ha={},Oa=[0],Wa={},tb=0;c=c.filter(function(K){return!Q(y.data_names[K])||null!==y.data_names[K]});d=d||{};var gb=na(d,"withTransition",!0);var qb=na(d,"withTransitionForTransform",!0);v.isLegendInset&&
(tb=y.legend_inset_step?y.legend_inset_step:c.length,v.updateLegendStep(tb));if(v.isLegendRight){var nb=function(K){return x*Wa[K]};var Ma=function(K){return Oa[Wa[K]]+ca[K]}}else v.isLegendInset?(nb=function(K){return x*Wa[K]+10},Ma=function(K){return Oa[Wa[K]]+ca[K]}):(nb=function(K){return Oa[Wa[K]]+ca[K]},Ma=function(K){return J*Wa[K]});var fb=function(K,D){return nb(K,D)+4+y.legend_item_tile_width};var oa=function(K,D){return Ma(K,D)+9};var la=function(K,D){return nb(K,D)};var ua=function(K,
D){return Ma(K,D)-5};d=function(K,D){return nb(K,D)-2};var G=function(K,D){return nb(K,D)-2+y.legend_item_tile_width};var qa=function(K,D){return Ma(K,D)+4};var Aa=v.legend.selectAll("."+E.legendItem).data(c).enter().append("g").attr("class",function(K){return v.generateClass(E.legendItem,K)}).style("visibility",function(K){return v.isLegendToShow(K)?"visible":"hidden"}).style("cursor",function(){return y.interaction_enabled?"pointer":"auto"}).on("click",y.interaction_enabled?function(K){y.legend_item_onclick?
y.legend_item_onclick.call(v,K):v.d3.event.altKey?(v.api.hide(),v.api.show(K)):(v.api.toggle(K),v.isTargetToShow(K)?v.api.focus(K):v.api.revert())}:null).on("mouseover",y.interaction_enabled?function(K){y.legend_item_onmouseover?y.legend_item_onmouseover.call(v,K):(v.d3.select(this).classed(E.legendItemFocused,!0),!v.transiting&&v.isTargetToShow(K)&&v.api.focus(K))}:null).on("mouseout",y.interaction_enabled?function(K){y.legend_item_onmouseout?y.legend_item_onmouseout.call(v,K):(v.d3.select(this).classed(E.legendItemFocused,
!1),v.api.revert())}:null);Aa.append("text").text(function(K){return Q(y.data_names[K])?y.data_names[K]:K}).each(function(K,D){p(this,K,D)}).style("pointer-events","none").attr("x",v.isLegendRight||v.isLegendInset?fb:-200).attr("y",v.isLegendRight||v.isLegendInset?-200:oa);Aa.append("rect").attr("class",E.legendItemEvent).style("fill-opacity",0).attr("x",v.isLegendRight||v.isLegendInset?la:-200).attr("y",v.isLegendRight||v.isLegendInset?-200:ua);Aa.append("line").attr("class",E.legendItemTile).style("stroke",
v.color).style("pointer-events","none").attr("x1",v.isLegendRight||v.isLegendInset?d:-200).attr("y1",v.isLegendRight||v.isLegendInset?-200:qa).attr("x2",v.isLegendRight||v.isLegendInset?G:-200).attr("y2",v.isLegendRight||v.isLegendInset?-200:qa).attr("stroke-width",y.legend_item_tile_height);Aa=v.legend.select("."+E.legendBackground+" rect");v.isLegendInset&&0<x&&0===Aa.size()&&(Aa=v.legend.insert("g","."+E.legendItem).attr("class",E.legendBackground).append("rect"));var Na=v.legend.selectAll("text").data(c).text(function(K){return Q(y.data_names[K])?
y.data_names[K]:K}).each(function(K,D){p(this,K,D)});(gb?Na.transition():Na).attr("x",fb).attr("y",oa);fb=v.legend.selectAll("rect."+E.legendItemEvent).data(c);(gb?fb.transition():fb).attr("width",function(K){return fa[K]}).attr("height",function(K){return Ha[K]}).attr("x",la).attr("y",ua);la=v.legend.selectAll("line."+E.legendItemTile).data(c);(gb?la.transition():la).style("stroke",v.levelColor?function(K){return v.levelColor(v.cache[K].values.reduce(function(D,U){return D+U.value},0))}:v.color).attr("x1",
d).attr("y1",qa).attr("x2",G).attr("y2",qa);Aa&&(gb?Aa.transition():Aa).attr("height",v.getLegendHeight()-12).attr("width",x*(tb+1)+10);v.legend.selectAll("."+E.legendItem).classed(E.legendItemHidden,function(K){return!v.isTargetToShow(K)});v.updateLegendItemWidth(x);v.updateLegendItemHeight(J);v.updateLegendStep(tb);v.updateSizes();v.updateScales();v.updateSvgSize();v.transformAll(qb,f);v.legendHasRendered=!0};m.prototype.initRegion=function(){this.region=this.main.append("g").attr("clip-path",this.clipPath).attr("class",
E.regions)};m.prototype.updateRegion=function(c){var d=this.config;this.region.style("visibility",this.hasArcType()?"hidden":"visible");d=this.main.select("."+E.regions).selectAll("."+E.region).data(d.regions);var f=d.enter().append("g");f.append("rect").attr("x",this.regionX.bind(this)).attr("y",this.regionY.bind(this)).attr("width",this.regionWidth.bind(this)).attr("height",this.regionHeight.bind(this)).style("fill-opacity",function(k){return R(k.opacity)?k.opacity:.1});f.append("text").text(this.labelRegion.bind(this));
this.mainRegion=f.merge(d).attr("class",this.classRegion.bind(this));d.exit().transition().duration(c).style("opacity",0).remove()};m.prototype.redrawRegion=function(c,d){var f=this.mainRegion,k=this.mainRegion.selectAll("text");return[(c?f.transition(d):f).attr("x",this.regionX.bind(this)).attr("y",this.regionY.bind(this)).attr("width",this.regionWidth.bind(this)).attr("height",this.regionHeight.bind(this)).style("fill-opacity",function(p){return R(p.opacity)?p.opacity:.1}),(c?k.transition(d):k).attr("x",
this.labelOffsetX.bind(this)).attr("y",this.labelOffsetY.bind(this)).attr("transform",this.labelTransform.bind(this)).attr("style","text-anchor: left;")]};m.prototype.regionX=function(c){var d=this.config,f="y"===c.axis?this.y:this.y2;return"y"===c.axis||"y2"===c.axis?d.axis_rotated?"start"in c?f(c.start):0:0:d.axis_rotated?0:"start"in c?this.x(this.isTimeSeries()?this.parseDate(c.start):c.start):0};m.prototype.regionY=function(c){var d=this.config,f="y"===c.axis?this.y:this.y2;return"y"===c.axis||
"y2"===c.axis?d.axis_rotated?0:"end"in c?f(c.end):0:d.axis_rotated?"start"in c?this.x(this.isTimeSeries()?this.parseDate(c.start):c.start):0:0};m.prototype.regionWidth=function(c){var d=this.config,f=this.regionX(c),k="y"===c.axis?this.y:this.y2;c="y"===c.axis||"y2"===c.axis?d.axis_rotated?"end"in c?k(c.end):this.width:this.width:d.axis_rotated?this.width:"end"in c?this.x(this.isTimeSeries()?this.parseDate(c.end):c.end):this.width;return c<f?0:c-f};m.prototype.regionHeight=function(c){var d=this.config,
f=this.regionY(c),k="y"===c.axis?this.y:this.y2;c="y"===c.axis||"y2"===c.axis?d.axis_rotated?this.height:"start"in c?k(c.start):this.height:d.axis_rotated?"end"in c?this.x(this.isTimeSeries()?this.parseDate(c.end):c.end):this.height:this.height;return c<f?0:c-f};m.prototype.isRegionOnX=function(c){return!c.axis||"x"===c.axis};m.prototype.labelRegion=function(c){return"label"in c?c.label:""};m.prototype.labelTransform=function(c){return"vertical"in c&&c.vertical?"rotate(90)":""};m.prototype.labelOffsetX=
function(c){var d="paddingX"in c?c.paddingX:3,f="paddingY"in c?c.paddingY:3;return"vertical"in c&&c.vertical?this.regionY(c)+f:this.regionX(c)+d};m.prototype.labelOffsetY=function(c){var d="paddingX"in c?c.paddingX:3,f="paddingY"in c?c.paddingY:3;return"vertical"in c&&c.vertical?-(this.regionX(c)+d):this.regionY(c)+10+f};m.prototype.getScale=function(c,d,f){return(f?this.d3.scaleTime():this.d3.scaleLinear()).range([c,d])};m.prototype.getX=function(c,d,f,k){var p=this.getScale(c,d,this.isTimeSeries()),
v=f?p.domain(f):p,y;this.isCategorized()?(k=k||function(){return 0},p=function(x,J){x=v(x)+k(x);return J?x:Math.ceil(x)}):p=function(x,J){x=v(x);return J?x:Math.ceil(x)};for(y in v)p[y]=v[y];p.orgDomain=function(){return v.domain()};this.isCategorized()&&(p.domain=function(x){if(!arguments.length)return x=this.orgDomain(),[x[0],x[1]+1];v.domain(x);return p});return p};m.prototype.getY=function(c,d,f){if("timeseries"===c||"time"===c)c=this.d3.scaleTime();else if("log"===c)c=u(this.d3);else if("linear"===
c||void 0===c)c=this.d3.scaleLinear();else throw Error('Invalid Y axis type: "'+c+'"');d&&c.domain(d);f&&c.range(f);return c};m.prototype.getYScale=function(c){return"y2"===this.axis.getId(c)?this.y2:this.y};m.prototype.getSubYScale=function(c){return"y2"===this.axis.getId(c)?this.subY2:this.subY};m.prototype.updateScales=function(){var c=this,d=c.config,f=!c.x;c.xMin=d.axis_rotated?1:0;c.xMax=d.axis_rotated?c.height:c.width;c.yMin=d.axis_rotated?0:c.height;c.yMax=d.axis_rotated?c.width:1;c.subXMin=
c.xMin;c.subXMax=c.xMax;c.subYMin=d.axis_rotated?0:c.height2;c.subYMax=d.axis_rotated?c.width2:1;c.x=c.getX(c.xMin,c.xMax,f?void 0:c.x.orgDomain(),function(){return c.xAxis.tickOffset()});c.y=c.getY(d.axis_y_type,f?d.axis_y_default:c.y.domain(),[c.yMin,c.yMax]);c.y2=c.getY(d.axis_y2_type,f?d.axis_y2_default:c.y2.domain(),[c.yMin,c.yMax]);c.subX=c.getX(c.xMin,c.xMax,c.orgXDomain,function(k){return k%1?0:c.subXAxis.tickOffset()});c.subY=c.getY(d.axis_y_type,f?d.axis_y_default:c.subY.domain(),[c.subYMin,
c.subYMax]);c.subY2=c.getY(d.axis_y2_type,f?d.axis_y2_default:c.subY2.domain(),[c.subYMin,c.subYMax]);c.xAxisTickFormat=c.axis.getXAxisTickFormat();c.xAxisTickValues=c.axis.getXAxisTickValues();c.yAxisTickValues=c.axis.getYAxisTickValues();c.y2AxisTickValues=c.axis.getY2AxisTickValues();c.xAxis=c.axis.getXAxis(c.x,c.xOrient,c.xAxisTickFormat,c.xAxisTickValues,d.axis_x_tick_outer);c.subXAxis=c.axis.getXAxis(c.subX,c.subXOrient,c.xAxisTickFormat,c.xAxisTickValues,d.axis_x_tick_outer);c.yAxis=c.axis.getYAxis("y",
c.y,c.yOrient,c.yAxisTickValues,d.axis_y_tick_outer);c.y2Axis=c.axis.getYAxis("y2",c.y2,c.y2Orient,c.y2AxisTickValues,d.axis_y2_tick_outer);f||c.brush&&c.brush.updateScale(c.subX);c.updateArc&&c.updateArc()};m.prototype.selectPoint=function(c,d,f){var k=this,p=k.config,v=(p.axis_rotated?k.circleY:k.circleX).bind(k),y=(p.axis_rotated?k.circleX:k.circleY).bind(k),x=k.pointSelectR.bind(k);p.data_onselected.call(k.api,d,c.node());k.main.select("."+E.selectedCircles+k.getTargetSelectorSuffix(d.id)).selectAll("."+
E.selectedCircle+"-"+f).data([d]).enter().append("circle").attr("class",function(){return k.generateClass(E.selectedCircle,f)}).attr("cx",v).attr("cy",y).attr("stroke",function(){return k.color(d)}).attr("r",function(J){return 1.4*k.pointSelectR(J)}).transition().duration(100).attr("r",x)};m.prototype.unselectPoint=function(c,d,f){this.config.data_onunselected.call(this.api,d,c.node());this.main.select("."+E.selectedCircles+this.getTargetSelectorSuffix(d.id)).selectAll("."+E.selectedCircle+"-"+f).transition().duration(100).attr("r",
0).remove()};m.prototype.togglePoint=function(c,d,f,k){c?this.selectPoint(d,f,k):this.unselectPoint(d,f,k)};m.prototype.selectPath=function(c,d){var f=this;f.config.data_onselected.call(f,d,c.node());f.config.interaction_brighten&&c.transition().duration(100).style("fill",function(){return f.d3.rgb(f.color(d)).brighter(.75)})};m.prototype.unselectPath=function(c,d){var f=this;f.config.data_onunselected.call(f,d,c.node());f.config.interaction_brighten&&c.transition().duration(100).style("fill",function(){return f.color(d)})};
m.prototype.togglePath=function(c,d,f,k){c?this.selectPath(d,f,k):this.unselectPath(d,f,k)};m.prototype.getToggle=function(c,d){if("circle"===c.nodeName)var f=this.isStepType(d)?function(){}:this.togglePoint;else"path"===c.nodeName&&(f=this.togglePath);return f};m.prototype.toggleShape=function(c,d,f){var k=this.d3,p=this.config,v=k.select(c),y=v.classed(E.SELECTED),x=this.getToggle(c,d).bind(this);p.data_selection_enabled&&p.data_selection_isselectable(d)&&(p.data_selection_multiple||this.main.selectAll("."+
E.shapes+(p.data_selection_grouped?this.getTargetSelectorSuffix(d.id):"")).selectAll("."+E.shape).each(function(J,da){var wa=k.select(this);wa.classed(E.SELECTED)&&x(!1,wa.classed(E.SELECTED,!1),J,da)}),v.classed(E.SELECTED,!y),x(!y,v,d,f))};m.prototype.initBar=function(){this.main.select("."+E.chart).append("g").attr("class",E.chartBars)};m.prototype.updateTargetsForBar=function(c){var d=this.config,f=this.classChartBar.bind(this),k=this.classBars.bind(this),p=this.classFocus.bind(this);this.main.select("."+
E.chartBars).selectAll("."+E.chartBar).data(c).attr("class",function(v){return f(v)+p(v)}).enter().append("g").attr("class",f).style("pointer-events","none").append("g").attr("class",k).style("cursor",function(v){return d.data_selection_isselectable(v)?"pointer":null})};m.prototype.updateBar=function(c){var d=this,f=d.barData.bind(d),k=d.classBar.bind(d),p=d.initialOpacity.bind(d),v=function(y){return d.color(y.id)};f=d.main.selectAll("."+E.bars).selectAll("."+E.bar).data(f);k=f.enter().append("path").attr("class",
k).style("stroke",v).style("fill",v);d.mainBar=k.merge(f).style("opacity",p);f.exit().transition().duration(c).style("opacity",0)};m.prototype.redrawBar=function(c,d,f){var k=this;return[(d?this.mainBar.transition(f):this.mainBar).attr("d",c).style("stroke",this.color).style("fill",this.color).style("opacity",function(p){return k.isTargetToShow(p.id)?1:0})]};m.prototype.getBarW=function(c,d){var f=this.config;c="number"===typeof f.bar_width?f.bar_width:d?c.tickInterval()*f.bar_width_ratio/d:0;return f.bar_width_max&&
c>f.bar_width_max?f.bar_width_max:c};m.prototype.getBars=function(c,d){return(d?this.main.selectAll("."+E.bars+this.getTargetSelectorSuffix(d)):this.main).selectAll("."+E.bar+(R(c)?"-"+c:""))};m.prototype.expandBars=function(c,d,f){f&&this.unexpandBars();this.getBars(c,d).classed(E.EXPANDED,!0)};m.prototype.unexpandBars=function(c){this.getBars(c).classed(E.EXPANDED,!1)};m.prototype.generateDrawBar=function(c,d){var f=this.config,k=this.generateGetBarPoints(c,d);return function(p,v){p=k(p,v);v=f.axis_rotated?
1:0;var y=f.axis_rotated?0:1;return"M "+p[0][v]+","+p[0][y]+" L"+p[1][v]+","+p[1][y]+" L"+p[2][v]+","+p[2][y]+" L"+p[3][v]+","+p[3][y]+" z"}};m.prototype.generateGetBarPoints=function(c,d){var f=this,k=c.__max__+1,p=f.getBarW(d?f.subXAxis:f.xAxis,k),v=f.getShapeX(p,k,c,!!d),y=f.getShapeY(!!d),x=f.getShapeOffset(f.isBarType,c,!!d),J=f.config.bar_space/2*p,da=d?f.getSubYScale:f.getYScale;return function(wa,ca){var fa=da.call(f,wa.id)(0);ca=x(wa,ca)||fa;var Ha=v(wa),Oa=y(wa);f.config.axis_rotated&&(0<
wa.value&&Oa<fa||0>wa.value&&fa<Oa)&&(Oa=fa);Oa-=fa-ca;return[[Ha+J,ca],[Ha+J,Oa],[Ha+p-J,Oa],[Ha+p-J,ca]]}};m.prototype.isWithinBar=function(c,d){d=La(d);var f=2;void 0===f&&(f=0);var k=d.x+d.width+f,p=d.y+d.height+f,v=d.y-f;return d.x-f<c[0]&&c[0]<k&&v<c[1]&&c[1]<p};m.prototype.getShapeIndices=function(c){var d=this.config,f={},k=0,p,v;this.filterTargetsToShow(this.data.targets.filter(c,this)).forEach(function(y){for(p=0;p<d.data_groups.length;p++)if(!(0>d.data_groups[p].indexOf(y.id)))for(v=0;v<
d.data_groups[p].length;v++)if(d.data_groups[p][v]in f){f[y.id]=f[d.data_groups[p][v]];break}H(f[y.id])&&(f[y.id]=k++)});f.__max__=k-1;return f};m.prototype.getShapeX=function(c,d,f,k){var p=k?this.subX:this.x;return function(v){var y=v.id in f?f[v.id]:0;return v.x||0===v.x?p(v.x)-c*(d/2-y):0}};m.prototype.getShapeY=function(c){var d=this;return function(f){return(c?d.getSubYScale(f.id):d.getYScale(f.id))(d.isTargetNormalized(f.id)?d.getRatio("index",f,!0):f.value)}};m.prototype.getShapeOffset=function(c,
d,f){var k=this,p=k.orderTargets(k.filterTargetsToShow(k.data.targets.filter(c,k))),v=p.map(function(y){return y.id});return function(y,x){var J=f?k.getSubYScale(y.id):k.getYScale(y.id),da=J(0),wa=da;p.forEach(function(ca){var fa=k.isStepType(y)?k.convertValuesToStep(ca.values):ca.values,Ha=k.isTargetNormalized(y.id),Oa=fa.map(function(Wa){return Ha?k.getRatio("index",Wa,!0):Wa.value});if(ca.id!==y.id&&d[ca.id]===d[y.id]&&v.indexOf(ca.id)<v.indexOf(y.id)){if(H(fa[x])||+fa[x].x!==+y.x)x=-1,fa.forEach(function(Wa,
tb){(Wa.x.constructor===Date?+Wa.x:Wa.x)===(y.x.constructor===Date?+y.x:y.x)&&(x=tb)});x in fa&&0<=fa[x].value*y.value&&(wa+=J(Oa[x])-da)}});return wa}};m.prototype.isWithinShape=function(c,d){var f=this.d3.select(c),k;this.isTargetToShow(d.id)?"circle"===c.nodeName?k=this.isStepType(d)?this.isWithinStep(c,this.getYScale(d.id)(d.value)):this.isWithinCircle(c,1.5*this.pointSelectR(d)):"path"===c.nodeName&&(k=f.classed(E.bar)?this.isWithinBar(this.d3.mouse(c),c):!0):k=!1;return k};m.prototype.getInterpolate=
function(c){var d=this.d3;d={linear:d.curveLinear,"linear-closed":d.curveLinearClosed,basis:d.curveBasis,"basis-open":d.curveBasisOpen,"basis-closed":d.curveBasisClosed,bundle:d.curveBundle,cardinal:d.curveCardinal,"cardinal-open":d.curveCardinalOpen,"cardinal-closed":d.curveCardinalClosed,monotone:d.curveMonotoneX,step:d.curveStep,"step-before":d.curveStepBefore,"step-after":d.curveStepAfter};return this.isSplineType(c)?d[this.config.spline_interpolation_type]||d.cardinal:this.isStepType(c)?d[this.config.line_step_type]:
d.linear};m.prototype.initLine=function(){this.main.select("."+E.chart).append("g").attr("class",E.chartLines)};m.prototype.updateTargetsForLine=function(c){var d=this,f=d.config,k=d.classChartLine.bind(d),p=d.classLines.bind(d),v=d.classAreas.bind(d),y=d.classCircles.bind(d),x=d.classFocus.bind(d);var J=d.main.select("."+E.chartLines).selectAll("."+E.chartLine).data(c).attr("class",function(da){return k(da)+x(da)}).enter().append("g").attr("class",k).style("opacity",0).style("pointer-events","none");
J.append("g").attr("class",p);J.append("g").attr("class",v);J.append("g").attr("class",function(da){return d.generateClass(E.selectedCircles,da.id)});J.append("g").attr("class",y).style("cursor",function(da){return f.data_selection_isselectable(da)?"pointer":null});c.forEach(function(da){d.main.selectAll("."+E.selectedCircles+d.getTargetSelectorSuffix(da.id)).selectAll("."+E.selectedCircle).each(function(wa){wa.value=da.values[wa.index].value})})};m.prototype.updateLine=function(c){var d=this,f=d.main.selectAll("."+
E.lines).selectAll("."+E.line).data(d.lineData.bind(d)),k=f.enter().append("path").attr("class",d.classLine.bind(d)).style("stroke",d.color);d.mainLine=k.merge(f).style("opacity",d.initialOpacity.bind(d)).style("shape-rendering",function(p){return d.isStepType(p)?"crispEdges":""}).attr("transform",null);f.exit().transition().duration(c).style("opacity",0)};m.prototype.redrawLine=function(c,d,f){return[(d?this.mainLine.transition(f):this.mainLine).attr("d",c).style("stroke",this.color).style("opacity",
1)]};m.prototype.generateDrawLine=function(c,d){var f=this,k=f.config,p=f.d3.line(),v=f.generateGetLinePoints(c,d),y=d?f.getSubYScale:f.getYScale;c=function(J){return(d?f.subxx:f.xx).call(f,J)};var x=function(J,da){return 0<k.data_groups.length?v(J,da)[0][1]:y.call(f,J.id)(J.value)};p=k.axis_rotated?p.x(x).y(c):p.x(c).y(x);k.line_connectNull||(p=p.defined(function(J){return null!=J.value}));return function(J){var da=k.line_connectNull?f.filterRemoveNull(J.values):J.values,wa=d?f.subX:f.x,ca=y.call(f,
J.id),fa=0,Ha=0;f.isLineType(J)?k.data_regions[J.id]?J=f.lineWithRegions(da,wa,ca,k.data_regions[J.id]):(f.isStepType(J)&&(da=f.convertValuesToStep(da)),J=p.curve(f.getInterpolate(J))(da)):(da[0]&&(fa=wa(da[0].x),Ha=ca(da[0].value)),J=k.axis_rotated?"M "+Ha+" "+fa:"M "+fa+" "+Ha);return J?J:"M 0 0"}};m.prototype.generateGetLinePoints=function(c,d){var f=this,k=f.config,p=f.getShapeX(0,c.__max__+1,c,!!d),v=f.getShapeY(!!d),y=f.getShapeOffset(f.isLineType,c,!!d),x=d?f.getSubYScale:f.getYScale;return function(J,
da){var wa=x.call(f,J.id)(0);da=y(J,da)||wa;var ca=p(J),fa=v(J);k.axis_rotated&&(0<J.value&&fa<wa||0>J.value&&wa<fa)&&(fa=wa);return[[ca,fa-(wa-da)],[ca,fa-(wa-da)],[ca,fa-(wa-da)],[ca,fa-(wa-da)]]}};m.prototype.lineWithRegions=function(c,d,f,k){function p(qb,nb){var Ma;for(Ma=0;Ma<nb.length;Ma++)if(nb[Ma].start<qb&&qb<=nb[Ma].end)return!0;return!1}function v(qb){return"M"+qb[0][0]+" "+qb[0][1]+" "+qb[1][0]+" "+qb[1][1]}var y=this.config,x,J="M",da=this.isCategorized()?.5:0,wa=[];if(Q(k))for(x=0;x<
k.length;x++)wa[x]={},H(k[x].start)?wa[x].start=c[0].x:wa[x].start=this.isTimeSeries()?this.parseDate(k[x].start):k[x].start,H(k[x].end)?wa[x].end=c[c.length-1].x:wa[x].end=this.isTimeSeries()?this.parseDate(k[x].end):k[x].end;var ca=y.axis_rotated?function(qb){return f(qb.value)}:function(qb){return d(qb.x)};var fa=y.axis_rotated?function(qb){return d(qb.x)}:function(qb){return f(qb.value)};k=this.isTimeSeries()?function(qb,nb,Ma,fb){var oa=qb.x.getTime();nb=nb.x-qb.x;qb=new Date(oa+nb*Ma);oa=new Date(oa+
nb*(Ma+fb));Ma=y.axis_rotated?[[f(Oa(Ma)),d(qb)],[f(Oa(Ma+fb)),d(oa)]]:[[d(qb),f(Oa(Ma))],[d(oa),f(Oa(Ma+fb))]];return v(Ma)}:function(qb,nb,Ma,fb){qb=y.axis_rotated?[[f(Oa(Ma),!0),d(Ha(Ma))],[f(Oa(Ma+fb),!0),d(Ha(Ma+fb))]]:[[d(Ha(Ma),!0),f(Oa(Ma))],[d(Ha(Ma+fb),!0),f(Oa(Ma+fb))]];return v(qb)};for(x=0;x<c.length;x++)if(H(wa)||!p(c[x].x,wa))J+=" "+ca(c[x])+" "+fa(c[x]);else{var Ha=this.getScale(c[x-1].x+da,c[x].x+da,this.isTimeSeries());var Oa=this.getScale(c[x-1].value,c[x].value);var Wa=d(c[x].x)-
d(c[x-1].x);var tb=f(c[x].value)-f(c[x-1].value);Wa=Math.sqrt(Math.pow(Wa,2)+Math.pow(tb,2));tb=2/Wa;var gb=2*tb;for(Wa=tb;1>=Wa;Wa+=gb)J+=k(c[x-1],c[x],Wa,tb)}return J};m.prototype.updateArea=function(c){var d=this,f=d.d3,k=d.main.selectAll("."+E.areas).selectAll("."+E.area).data(d.lineData.bind(d)),p=k.enter().append("path").attr("class",d.classArea.bind(d)).style("fill",d.color).style("opacity",function(){d.orgAreaOpacity=+f.select(this).style("opacity");return 0});d.mainArea=p.merge(k).style("opacity",
d.orgAreaOpacity);k.exit().transition().duration(c).style("opacity",0)};m.prototype.redrawArea=function(c,d,f){return[(d?this.mainArea.transition(f):this.mainArea).attr("d",c).style("fill",this.color).style("opacity",this.orgAreaOpacity)]};m.prototype.generateDrawArea=function(c,d){var f=this,k=f.config,p=f.d3.area(),v=f.generateGetAreaPoints(c,d),y=d?f.getSubYScale:f.getYScale;c=function(da){return(d?f.subxx:f.xx).call(f,da)};var x=function(da,wa){return 0<k.data_groups.length?v(da,wa)[0][1]:y.call(f,
da.id)(f.getAreaBaseValue(da.id))},J=function(da,wa){return 0<k.data_groups.length?v(da,wa)[1][1]:y.call(f,da.id)(da.value)};p=k.axis_rotated?p.x0(x).x1(J).y(c):p.x(c).y0(k.area_above?0:x).y1(J);k.line_connectNull||(p=p.defined(function(da){return null!==da.value}));return function(da){var wa=k.line_connectNull?f.filterRemoveNull(da.values):da.values,ca=0,fa=0;f.isAreaType(da)?(f.isStepType(da)&&(wa=f.convertValuesToStep(wa)),da=p.curve(f.getInterpolate(da))(wa)):(wa[0]&&(ca=f.x(wa[0].x),fa=f.getYScale(da.id)(wa[0].value)),
da=k.axis_rotated?"M "+fa+" "+ca:"M "+ca+" "+fa);return da?da:"M 0 0"}};m.prototype.getAreaBaseValue=function(){return 0};m.prototype.generateGetAreaPoints=function(c,d){var f=this,k=f.config,p=f.getShapeX(0,c.__max__+1,c,!!d),v=f.getShapeY(!!d),y=f.getShapeOffset(f.isAreaType,c,!!d),x=d?f.getSubYScale:f.getYScale;return function(J,da){var wa=x.call(f,J.id)(0);da=y(J,da)||wa;var ca=p(J),fa=v(J);k.axis_rotated&&(0<J.value&&fa<wa||0>J.value&&wa<fa)&&(fa=wa);return[[ca,da],[ca,fa-(wa-da)],[ca,fa-(wa-
da)],[ca,da]]}};m.prototype.updateCircle=function(c,d){var f=this.main.selectAll("."+E.circles).selectAll("."+E.circle).data(this.lineOrScatterOrStanfordData.bind(this));this.mainCircle=f.enter().append("circle").attr("shape-rendering",this.isStanfordGraphType()?"crispEdges":"").attr("class",this.classCircle.bind(this)).attr("cx",c).attr("cy",d).attr("r",this.pointR.bind(this)).style("color",this.isStanfordGraphType()?this.getStanfordPointColor.bind(this):this.color).merge(f).style("opacity",this.isStanfordGraphType()?
1:this.initialOpacityForCircle.bind(this));f.exit().style("opacity",0)};m.prototype.redrawCircle=function(c,d,f,k){var p=this.main.selectAll("."+E.selectedCircle);return[(f?this.mainCircle.transition(k):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("color",this.isStanfordGraphType()?this.getStanfordPointColor.bind(this):this.color).attr("cx",c).attr("cy",d),(f?p.transition(k):p).attr("cx",c).attr("cy",d)]};m.prototype.circleX=function(c){return c.x||0===c.x?this.x(c.x):
null};m.prototype.updateCircleY=function(){var c=this;if(0<c.config.data_groups.length){var d=c.getShapeIndices(c.isLineType);var f=c.generateGetLinePoints(d);c.circleY=function(k,p){return f(k,p)[0][1]}}else c.circleY=function(k){return c.getYScale(k.id)(k.value)}};m.prototype.getCircles=function(c,d){return(d?this.main.selectAll("."+E.circles+this.getTargetSelectorSuffix(d)):this.main).selectAll("."+E.circle+(R(c)?"-"+c:""))};m.prototype.expandCircles=function(c,d,f){var k=this.pointExpandedR.bind(this);
f&&this.unexpandCircles();this.getCircles(c,d).classed(E.EXPANDED,!0).attr("r",k)};m.prototype.unexpandCircles=function(c){var d=this,f=d.pointR.bind(d);d.getCircles(c).filter(function(){return d.d3.select(this).classed(E.EXPANDED)}).classed(E.EXPANDED,!1).attr("r",f)};m.prototype.pointR=function(c){var d=this.config;return this.isStepType(c)?0:W(d.point_r)?d.point_r(c):d.point_r};m.prototype.pointExpandedR=function(c){var d=this.config;return d.point_focus_expand_enabled?W(d.point_focus_expand_r)?
d.point_focus_expand_r(c):d.point_focus_expand_r?d.point_focus_expand_r:1.75*this.pointR(c):this.pointR(c)};m.prototype.pointSelectR=function(c){var d=this.config;return W(d.point_select_r)?d.point_select_r(c):d.point_select_r?d.point_select_r:4*this.pointR(c)};m.prototype.isWithinCircle=function(c,d){var f=this.d3,k=f.mouse(c);f=f.select(c);c=+f.attr("cx");f=+f.attr("cy");return Math.sqrt(Math.pow(c-k[0],2)+Math.pow(f-k[1],2))<d};m.prototype.isWithinStep=function(c,d){return 30>Math.abs(d-this.d3.mouse(c)[1])};
m.prototype.getCurrentWidth=function(){var c=this.config;return c.size_width?c.size_width:this.getParentWidth()};m.prototype.getCurrentHeight=function(){var c=this.config,d=c.size_height?c.size_height:this.getParentHeight();return 0<d?d:320/(this.hasType("gauge")&&!c.gauge_fullCircle?2:1)};m.prototype.getCurrentPaddingTop=function(){var c=this.config;c=R(c.padding_top)?c.padding_top:0;this.title&&this.title.node()&&(c+=this.getTitlePadding());return c};m.prototype.getCurrentPaddingBottom=function(){var c=
this.config;return R(c.padding_bottom)?c.padding_bottom:0};m.prototype.getCurrentPaddingLeft=function(c){var d=this.config;return R(d.padding_left)?d.padding_left:d.axis_rotated?!d.axis_x_show||d.axis_x_inner?1:Math.max(10*Math.ceil(this.getAxisWidthByAxisId("x",c)/10),40):!d.axis_y_show||d.axis_y_inner?this.axis.getYAxisLabelPosition().isOuter?30:1:10*Math.ceil(this.getAxisWidthByAxisId("y",c)/10)};m.prototype.getCurrentPaddingRight=function(){var c=this.config,d=this.isLegendRight?this.getLegendWidth()+
20:0;c=R(c.padding_right)?c.padding_right+1:c.axis_rotated?10+d:!c.axis_y2_show||c.axis_y2_inner?2+d+(this.axis.getY2AxisLabelPosition().isOuter?20:0):10*Math.ceil(this.getAxisWidthByAxisId("y2")/10)+d;this.colorScale&&this.colorScale.node()&&(c+=this.getColorScalePadding());return c};m.prototype.getParentRectValue=function(c){for(var d=this.selectChart.node(),f;d&&"BODY"!==d.tagName;){try{f=d.getBoundingClientRect()[c]}catch(k){"width"===c&&(f=d.offsetWidth)}if(f)break;d=d.parentNode}return f};m.prototype.getParentWidth=
function(){return this.getParentRectValue("width")};m.prototype.getParentHeight=function(){var c=this.selectChart.style("height");return 0<c.indexOf("px")?+c.replace("px",""):0};m.prototype.getSvgLeft=function(c){var d=this.config,f=d.axis_rotated||!d.axis_rotated&&!d.axis_y_inner;f=(d=this.main.select("."+(d.axis_rotated?E.axisX:E.axisY)).node())&&f?d.getBoundingClientRect():{right:0};d=this.selectChart.node().getBoundingClientRect();var k=this.hasArcType();c=f.right-d.left-(k?0:this.getCurrentPaddingLeft(c));
return 0<c?c:0};m.prototype.getAxisWidthByAxisId=function(c,d){var f=this.axis.getLabelPositionById(c);return this.axis.getMaxTickWidth(c,d)+(f.isInner?20:40)};m.prototype.getHorizontalAxisHeight=function(c,d){var f=this.config,k=30;if("x"===c&&(Q(d)&&d?!f.subchart_axis_x_show:!f.axis_x_show))return 8;if("x"===c&&f.axis_x_height)return f.axis_x_height;if("y"===c&&!f.axis_y_show)return!f.legend_show||this.isLegendRight||this.isLegendInset?1:10;if("y2"===c&&!f.axis_y2_show)return this.rotated_padding_top;
"x"===c&&!f.axis_rotated&&f.axis_x_tick_rotate&&(k=30+this.axis.getMaxTickWidth(c)*Math.cos(Math.PI*(90-Math.abs(f.axis_x_tick_rotate))/180));"y"===c&&f.axis_rotated&&f.axis_y_tick_rotate&&(k=30+this.axis.getMaxTickWidth(c)*Math.cos(Math.PI*(90-Math.abs(f.axis_y_tick_rotate))/180));return k+(this.axis.getLabelPositionById(c).isInner?0:10)+("y2"===c?-10:0)};m.prototype.initBrush=function(c){var d=this,f=d.d3;d.brush=(d.config.axis_rotated?f.brushY():f.brushX()).on("brush",function(){var k=f.event.sourceEvent;
k&&"zoom"===k.type||d.redrawForBrush()}).on("end",function(){var k=f.event.sourceEvent;k&&"zoom"===k.type||d.brush.empty()&&k&&"end"!==k.type&&d.brush.clear()});d.brush.updateExtent=function(){var k=this.scale.range();this.extent(d.config.axis_rotated?[[0,k[0]],[d.width2,k[1]]]:[[k[0],0],[k[1],d.height2]]);return this};d.brush.updateScale=function(k){this.scale=k;return this};d.brush.update=function(k){this.updateScale(k||d.subX).updateExtent();d.context.select("."+E.brush).call(this)};d.brush.clear=
function(){d.context.select("."+E.brush).call(d.brush.move,null)};d.brush.selection=function(){return f.brushSelection(d.context.select("."+E.brush).node())};d.brush.selectionAsValue=function(k,p){if(k){if(d.context){k=[this.scale(k[0]),this.scale(k[1])];var v=d.context.select("."+E.brush);p&&(v=v.transition());d.brush.move(v,k)}return[]}k=d.brush.selection()||[0,0];return[this.scale.invert(k[0]),this.scale.invert(k[1])]};d.brush.empty=function(){var k=d.brush.selection();return!k||k[0]===k[1]};return d.brush.updateScale(c)};
m.prototype.initSubchart=function(){var c=this.config,d=this.context=this.svg.append("g").attr("transform",this.getTranslate("context"));d.style("visibility","visible");d.append("g").attr("clip-path",this.clipPathForSubchart).attr("class",E.chart);d.select("."+E.chart).append("g").attr("class",E.chartBars);d.select("."+E.chart).append("g").attr("class",E.chartLines);d.append("g").attr("clip-path",this.clipPath).attr("class",E.brush);this.axes.subx=d.append("g").attr("class",E.axisX).attr("transform",
this.getTranslate("subx")).attr("clip-path",c.axis_rotated?"":this.clipPathForXAxis).style("visibility",c.subchart_axis_x_show?"visible":"hidden")};m.prototype.initSubchartBrush=function(){this.initBrush(this.subX).updateExtent();this.context.select("."+E.brush).call(this.brush)};m.prototype.updateTargetsForSubchart=function(c){var d=this.context,f=this.config,k=this.classChartBar.bind(this),p=this.classBars.bind(this),v=this.classChartLine.bind(this),y=this.classLines.bind(this),x=this.classAreas.bind(this);
var J=d.select("."+E.chartBars).selectAll("."+E.chartBar).data(c);var da=J.enter().append("g").style("opacity",0);da.merge(J).attr("class",k);da.append("g").attr("class",p);da=d.select("."+E.chartLines).selectAll("."+E.chartLine).data(c);c=da.enter().append("g").style("opacity",0);c.merge(da).attr("class",v);c.append("g").attr("class",y);c.append("g").attr("class",x);d.selectAll("."+E.brush+" rect").attr(f.axis_rotated?"width":"height",f.axis_rotated?this.width2:this.height2)};m.prototype.updateBarForSubchart=
function(c){var d=this.context.selectAll("."+E.bars).selectAll("."+E.bar).data(this.barData.bind(this)),f=d.enter().append("path").attr("class",this.classBar.bind(this)).style("stroke","none").style("fill",this.color);d.exit().transition().duration(c).style("opacity",0).remove();this.contextBar=f.merge(d).style("opacity",this.initialOpacity.bind(this))};m.prototype.redrawBarForSubchart=function(c,d,f){(d?this.contextBar.transition(Math.random().toString()).duration(f):this.contextBar).attr("d",c).style("opacity",
1)};m.prototype.updateLineForSubchart=function(c){var d=this.context.selectAll("."+E.lines).selectAll("."+E.line).data(this.lineData.bind(this)),f=d.enter().append("path").attr("class",this.classLine.bind(this)).style("stroke",this.color);d.exit().transition().duration(c).style("opacity",0).remove();this.contextLine=f.merge(d).style("opacity",this.initialOpacity.bind(this))};m.prototype.redrawLineForSubchart=function(c,d,f){(d?this.contextLine.transition(Math.random().toString()).duration(f):this.contextLine).attr("d",
c).style("opacity",1)};m.prototype.updateAreaForSubchart=function(c){var d=this,f=d.d3,k=d.context.selectAll("."+E.areas).selectAll("."+E.area).data(d.lineData.bind(d)),p=k.enter().append("path").attr("class",d.classArea.bind(d)).style("fill",d.color).style("opacity",function(){d.orgAreaOpacity=+f.select(this).style("opacity");return 0});k.exit().transition().duration(c).style("opacity",0).remove();d.contextArea=p.merge(k).style("opacity",0)};m.prototype.redrawAreaForSubchart=function(c,d,f){(d?this.contextArea.transition(Math.random().toString()).duration(f):
this.contextArea).attr("d",c).style("fill",this.color).style("opacity",this.orgAreaOpacity)};m.prototype.redrawSubchart=function(c,d,f,k,p,v,y){d=this.d3;d.event&&"zoom"===d.event.type&&this.brush.selectionAsValue(this.x.orgDomain());c&&(this.brush.empty()||this.brush.selectionAsValue(this.x.orgDomain()),c=this.generateDrawArea(p,!0),v=this.generateDrawBar(v,!0),y=this.generateDrawLine(y,!0),this.updateBarForSubchart(f),this.updateLineForSubchart(f),this.updateAreaForSubchart(f),this.redrawBarForSubchart(v,
f,f),this.redrawLineForSubchart(y,f,f),this.redrawAreaForSubchart(c,f,f))};m.prototype.redrawForBrush=function(){var c=this.x,d=this.d3;this.redraw({withTransition:!1,withY:this.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withEventRect:!1,withDimension:!1});var f=d.event.selection||this.brush.scale.range();this.main.select("."+E.eventRect).call(this.zoom.transform,d.zoomIdentity.scale(this.width/(f[1]-f[0])).translate(-f[0],0));this.config.subchart_onbrush.call(this.api,c.orgDomain())};
m.prototype.transformContext=function(c,d){d&&d.axisSubX?d=d.axisSubX:(d=this.context.select("."+E.axisX),c&&(d=d.transition()));this.context.attr("transform",this.getTranslate("context"));d.attr("transform",this.getTranslate("subx"))};m.prototype.getDefaultSelection=function(){var c=this.config;c=W(c.axis_x_selection)?c.axis_x_selection(this.getXDomain(this.data.targets)):c.axis_x_selection;this.isTimeSeries()&&(c=[this.parseDate(c[0]),this.parseDate(c[1])]);return c};m.prototype.removeSubchart=
function(){this.brush=null;this.context.remove();this.context=null};m.prototype.initText=function(){this.main.select("."+E.chart).append("g").attr("class",E.chartTexts);this.mainText=this.d3.selectAll([])};m.prototype.updateTargetsForText=function(c){var d=this.classChartText.bind(this),f=this.classTexts.bind(this),k=this.classFocus.bind(this);c=this.main.select("."+E.chartTexts).selectAll("."+E.chartText).data(c);var p=c.enter().append("g").attr("class",d).style("opacity",0).style("pointer-events",
"none");p.append("g").attr("class",f);p.merge(c).attr("class",function(v){return d(v)+k(v)})};m.prototype.updateText=function(c,d,f){var k=this,p=k.config,v=k.barOrLineData.bind(k),y=k.classText.bind(k);v=k.main.selectAll("."+E.texts).selectAll("."+E.text).data(v);c=v.enter().append("text").attr("class",y).attr("text-anchor",function(x){return p.axis_rotated?0>x.value?"end":"start":"middle"}).style("stroke","none").attr("x",c).attr("y",d).style("fill",function(x){return k.color(x)}).style("fill-opacity",
0);k.mainText=c.merge(v).text(function(x,J,da){return k.dataLabelFormat(x.id)(x.value,x.id,J,da)});v.exit().transition().duration(f).style("fill-opacity",0).remove()};m.prototype.redrawText=function(c,d,f,k,p){return[(k?this.mainText.transition(p):this.mainText).attr("x",c).attr("y",d).style("fill",this.color).style("fill-opacity",f?0:this.opacityForText.bind(this))]};m.prototype.getTextRect=function(c,d,f){var k=this.d3.select("body").append("div").classed("c3",!0),p=k.append("svg").style("visibility",
"hidden").style("position","fixed").style("top",0).style("left",0);f=this.d3.select(f).style("font");var v;p.selectAll(".dummy").data([c]).enter().append("text").classed(d?d:"",!0).style("font",f).text(c).each(function(){v=La(this)});k.remove();return v};m.prototype.generateXYForText=function(c,d,f,k){var p=this,v=p.generateGetAreaPoints(c,!1),y=p.generateGetBarPoints(d,!1),x=p.generateGetLinePoints(f,!1),J=k?p.getXForText:p.getYForText;return function(da,wa){var ca=p.isAreaType(da)?v:p.isBarType(da)?
y:x;return J.call(p,ca(da,wa),da,this)}};m.prototype.getXForText=function(c,d,f){f=La(f);if(this.config.axis_rotated){var k=this.isBarType(d)?4:6;c=c[2][1]+k*(0>d.value?-1:1)}else c=this.hasType("bar")?(c[2][0]+c[0][0])/2:c[0][0];null===d.value&&(c>this.width?c=this.width-f.width:0>c&&(c=4));return c};m.prototype.getYForText=function(c,d,f){f=La(f);this.config.axis_rotated?c=(c[0][0]+c[2][0]+.6*f.height)/2:(c=c[2][1],0>d.value||0===d.value&&!this.hasPositiveValue?(c+=f.height,this.isBarType(d)&&this.isSafari()?
c-=3:!this.isBarType(d)&&this.isChrome()&&(c+=3)):c+=this.isBarType(d)?-3:-6);null!==d.value||this.config.axis_rotated||(c<f.height?c=f.height:c>this.height&&(c=this.height-4));return c};m.prototype.initTitle=function(){this.title=this.svg.append("text").text(this.config.title_text).attr("class",this.CLASS.title)};m.prototype.redrawTitle=function(){this.title.attr("x",this.xForTitle.bind(this)).attr("y",this.yForTitle.bind(this))};m.prototype.xForTitle=function(){var c=this.config,d=c.title_position||
"left";return 0<=d.indexOf("right")?this.currentWidth-this.getTextRect(this.title.node().textContent,this.CLASS.title,this.title.node()).width-c.title_padding.right:0<=d.indexOf("center")?Math.max((this.currentWidth-this.getTextRect(this.title.node().textContent,this.CLASS.title,this.title.node()).width)/2,0):c.title_padding.left};m.prototype.yForTitle=function(){return this.config.title_padding.top+this.getTextRect(this.title.node().textContent,this.CLASS.title,this.title.node()).height};m.prototype.getTitlePadding=
function(){return this.yForTitle()+this.config.title_padding.bottom};m.prototype.drawColorScale=function(){var c=this.d3,d=this.config,f=this.data.targets[0];var k=isNaN(d.stanford_scaleWidth)?20:d.stanford_scaleWidth;if(0>k)throw Error("Colorscale's barheight and barwidth must be greater than 0.");var p=this.height-d.stanford_padding.bottom-d.stanford_padding.top;var v=c.range(d.stanford_padding.bottom,p,5);var y=c.scaleSequential(f.colors).domain([v[v.length-1],v[0]]);this.colorScale&&this.colorScale.remove();
this.colorScale=this.svg.append("g").attr("width",50).attr("height",p).attr("class",E.colorScale);this.colorScale.append("g").attr("transform","translate(0, "+d.stanford_padding.top+")").selectAll("bars").data(v).enter().append("rect").attr("y",function(x,J){return 5*J}).attr("x",0).attr("width",k).attr("height",5).attr("fill",function(x){return y(x)});v=c.scaleLog().domain([f.minEpochs,f.maxEpochs]).range([v[0]+d.stanford_padding.top+v[v.length-1]+5-1,v[0]+d.stanford_padding.top]);v=c.axisRight(v);
"pow10"===d.stanford_scaleFormat?v.tickValues([1,10,100,1E3,1E4,1E5,1E6,1E7]):W(d.stanford_scaleFormat)?v.tickFormat(d.stanford_scaleFormat):v.tickFormat(c.format("d"));W(d.stanford_scaleValues)&&v.tickValues(d.stanford_scaleValues(f.minEpochs,f.maxEpochs));c=this.colorScale.append("g").attr("class","legend axis").attr("transform","translate("+k+",0)").call(v);"pow10"===d.stanford_scaleFormat&&c.selectAll(".tick text").text(null).filter(B).text(10).append("tspan").attr("dy","-.7em").text(function(x){return Math.round(Math.log(x)/
Math.LN10)});this.colorScale.attr("transform","translate("+(this.currentWidth-this.xForColorScale())+", 0)")};m.prototype.xForColorScale=function(){return this.config.stanford_padding.right+La(this.colorScale.node()).width};m.prototype.getColorScalePadding=function(){return this.xForColorScale()+this.config.stanford_padding.left+20};m.prototype.isStanfordGraphType=function(){return"stanford"===this.config.data_type};m.prototype.initStanfordData=function(){var c=this.d3,d=this.config,f=this.data.targets[0];
f.values.sort(ya);var k=f.values.map(function(v){return v.epochs});var p=isNaN(d.stanford_scaleMin)?c.min(k):d.stanford_scaleMin;k=isNaN(d.stanford_scaleMax)?c.max(k):d.stanford_scaleMax;if(p>k)throw Error("Number of minEpochs has to be smaller than maxEpochs");f.colors=W(d.stanford_colors)?d.stanford_colors:c.interpolateHslLong(c.hsl(250,1,.5),c.hsl(0,1,.5));f.colorscale=c.scaleSequentialLog(f.colors).domain([p,k]);f.minEpochs=p;f.maxEpochs=k};m.prototype.getStanfordPointColor=function(c){return this.data.targets[0].colorscale(c.epochs)};
m.prototype.getCentroid=function(c){var d=0,f;var k=0;for(f=c.length-1;k<c.length;f=k,k+=1){var p=c[k];f=c[f];d+=p.x*f.y;d-=p.y*f.x}p=k=0;var v;f=0;for(v=c.length-1;f<c.length;v=f,f+=1){var y=c[f];var x=c[v];v=y.x*x.y-x.x*y.y;k+=(y.x+x.x)*v;p+=(y.y+x.y)*v}v=d/2*6;return{x:k/v,y:p/v}};m.prototype.getStanfordTooltipTitle=function(c){var d=this.axis.getLabelText("x"),f=this.axis.getLabelText("y");return"\n      \x3ctr\x3e\x3cth\x3e"+(d?ja(d):"x")+"\x3c/th\x3e\x3cth class\x3d'value'\x3e"+c.x+"\x3c/th\x3e\x3c/tr\x3e\n      \x3ctr\x3e\x3cth\x3e"+
(f?ja(f):"y")+"\x3c/th\x3e\x3cth class\x3d'value'\x3e"+c.value+"\x3c/th\x3e\x3c/tr\x3e\n    "};m.prototype.countEpochsInRegion=function(c){var d=this.data.targets[0];var f=d.values.reduce(function(k,p){return k+Number(p.epochs)},0);d=d.values.reduce(function(k,p){var v,y=p.x,x=p.value,J=!1,da=0;for(v=c.length-1;da<c.length;v=da++){var wa=c[da].x;var ca=c[da].y;var fa=c[v].x;v=c[v].y;(wa=ca>x!==v>x&&y<(fa-wa)*(x-ca)/(v-ca)+wa)&&(J=!J)}return J?k+Number(p.epochs):k},0);return{value:d,percentage:0!==
d?(d/f*100).toFixed(1):0}};var ya=function(c,d){return c.epochs<d.epochs?-1:c.epochs>d.epochs?1:0};m.prototype.initStanfordElements=function(){this.stanfordElements=this.main.select("."+E.chart).append("g").attr("class",E.stanfordElements);this.stanfordElements.append("g").attr("class",E.stanfordLines);this.stanfordElements.append("g").attr("class",E.stanfordTexts);this.stanfordElements.append("g").attr("class",E.stanfordRegions)};m.prototype.updateStanfordElements=function(c){var d=this,f=d.main,
k=d.config,p=d.xvCustom.bind(d),v=d.yvCustom.bind(d),y=d.countEpochsInRegion.bind(d);var x=f.select("."+E.stanfordLines).style("shape-rendering","geometricprecision").selectAll("."+E.stanfordLine).data(k.stanford_lines);var J=x.enter().append("g").attr("class",function(da){return E.stanfordLine+(da["class"]?" "+da["class"]:"")});J.append("line").attr("x1",function(da){return k.axis_rotated?v(da,"value_y1"):p(da,"value_x1")}).attr("x2",function(da){return k.axis_rotated?v(da,"value_y2"):p(da,"value_x2")}).attr("y1",
function(da){return k.axis_rotated?p(da,"value_x1"):v(da,"value_y1")}).attr("y2",function(da){return k.axis_rotated?p(da,"value_x2"):v(da,"value_y2")}).style("opacity",0);d.stanfordLines=J.merge(x);d.stanfordLines.select("line").transition().duration(c).attr("x1",function(da){return k.axis_rotated?v(da,"value_y1"):p(da,"value_x1")}).attr("x2",function(da){return k.axis_rotated?v(da,"value_y2"):p(da,"value_x2")}).attr("y1",function(da){return k.axis_rotated?p(da,"value_x1"):v(da,"value_y1")}).attr("y2",
function(da){return k.axis_rotated?p(da,"value_x2"):v(da,"value_y2")}).style("opacity",1);x.exit().transition().duration(c).style("opacity",0).remove();x=f.select("."+E.stanfordTexts).selectAll("."+E.stanfordText).data(k.stanford_texts);J=x.enter().append("g").attr("class",function(da){return E.stanfordText+(da["class"]?" "+da["class"]:"")});J.append("text").attr("x",function(da){return k.axis_rotated?v(da,"y"):p(da,"x")}).attr("y",function(da){return k.axis_rotated?p(da,"x"):v(da,"y")}).style("opacity",
0);d.stanfordTexts=J.merge(x);d.stanfordTexts.select("text").transition().duration(c).attr("x",function(da){return k.axis_rotated?v(da,"y"):p(da,"x")}).attr("y",function(da){return k.axis_rotated?p(da,"x"):v(da,"y")}).text(function(da){return da.content}).style("opacity",1);x.exit().transition().duration(c).style("opacity",0).remove();f=f.select("."+E.stanfordRegions).selectAll("."+E.stanfordRegion).data(k.stanford_regions);x=f.enter().append("g").attr("class",function(da){return E.stanfordRegion+
(da["class"]?" "+da["class"]:"")});x.append("polygon").attr("points",function(da){return da.points.map(function(wa){return[k.axis_rotated?v(wa,"y"):p(wa,"x"),k.axis_rotated?p(wa,"x"):v(wa,"y")].join()}).join(" ")}).style("opacity",0);x.append("text").attr("x",function(da){return d.getCentroid(da.points).x}).attr("y",function(da){return d.getCentroid(da.points).y}).style("opacity",0);d.stanfordRegions=x.merge(f);d.stanfordRegions.select("polygon").transition().duration(c).attr("points",function(da){return da.points.map(function(wa){return[k.axis_rotated?
v(wa,"y"):p(wa,"x"),k.axis_rotated?p(wa,"x"):v(wa,"y")].join()}).join(" ")}).style("opacity",function(da){return da.opacity?da.opacity:.2});d.stanfordRegions.select("text").transition().duration(c).attr("x",function(da){return k.axis_rotated?v(d.getCentroid(da.points),"y"):p(d.getCentroid(da.points),"x")}).attr("y",function(da){return k.axis_rotated?p(d.getCentroid(da.points),"x"):v(d.getCentroid(da.points),"y")}).text(function(da){if(da.text){if(d.isStanfordGraphType()){var wa=y(da.points);var ca=
wa.value;wa=wa.percentage}return da.text(ca,wa)}return""}).attr("text-anchor","middle").attr("dominant-baseline","middle").style("opacity",1);f.exit().transition().duration(c).style("opacity",0).remove()};m.prototype.initTooltip=function(){var c=this,d=c.config,f;c.tooltip=c.selectChart.style("position","relative").append("div").attr("class",E.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none");if(d.tooltip_init_show){if(c.isTimeSeries()&&aa(d.tooltip_init_x)){d.tooltip_init_x=
c.parseDate(d.tooltip_init_x);for(f=0;f<c.data.targets[0].values.length&&0!==c.data.targets[0].values[f].x-d.tooltip_init_x;f++);d.tooltip_init_x=f}c.tooltip.html(d.tooltip_contents.call(c,c.data.targets.map(function(k){return c.addName(k.values[d.tooltip_init_x])}),c.axis.getXAxisTickFormat(),c.getYFormat(c.hasArcType()),c.color));c.tooltip.style("top",d.tooltip_init_position.top).style("left",d.tooltip_init_position.left).style("display","block")}};m.prototype.getTooltipSortFunction=function(){var c=
this.config;if(0===c.data_groups.length||void 0!==c.tooltip_order){var d=c.tooltip_order;void 0===d&&(d=c.data_order);if(aa(d)&&"asc"===d.toLowerCase())return function(p,v){return(p?p.value:0)-(v?v.value:0)};if(aa(d)&&"desc"===d.toLowerCase())return function(p,v){return(v?v.value:0)-(p?p.value:0)};if(W(d)){var f=d;void 0===c.tooltip_order&&(f=function(p,v){return d(p?{id:p.id,values:[p]}:null,v?{id:v.id,values:[v]}:null)});return f}if(Array.isArray(d))return function(p,v){return d.indexOf(p.id)-d.indexOf(v.id)}}else{var k=
this.orderTargets(this.data.targets).map(function(p){return p.id});if(this.isOrderAsc()||this.isOrderDesc())k=k.reverse();return function(p,v){return k.indexOf(p.id)-k.indexOf(v.id)}}};m.prototype.getTooltipContent=function(c,d,f,k){var p=this.config;d=p.tooltip_format_title||d;var v=p.tooltip_format_name||function(ca){return ca},y=p.tooltip_format_value;y||(y=this.isTargetNormalized(c.id)?function(ca,fa){return(100*fa).toFixed(2)+"%"}:f);(f=this.getTooltipSortFunction())&&c.sort(f);for(f=0;f<c.length;f++)if(c[f]&&
(c[f].value||0===c[f].value)){if(this.isStanfordGraphType()){if(!x){var x=this.getStanfordTooltipTitle(c[f]);x="\x3ctable class\x3d'"+this.CLASS.tooltip+"'\x3e"+x}var J=this.getStanfordPointColor(c[f]);var da=ja(p.data_epochs);var wa=c[f].epochs}else if(x||(x=ja(d?d(c[f].x,c[f].index):c[f].x),x="\x3ctable class\x3d'"+this.CLASS.tooltip+"'\x3e"+(x||0===x?"\x3ctr\x3e\x3cth colspan\x3d'2'\x3e"+x+"\x3c/th\x3e\x3c/tr\x3e":"")),wa=ja(y(c[f].value,c[f].ratio,c[f].id,c[f].index,c)),void 0!==wa){if(null===
c[f].name)continue;da=ja(v(c[f].name,c[f].ratio,c[f].id,c[f].index));J=this.levelColor?this.levelColor(c[f].value):k(c[f].id)}void 0!==wa&&(x+="\x3ctr class\x3d'"+this.CLASS.tooltipName+"-"+this.getTargetSelectorSuffix(c[f].id)+"'\x3e",x+="\x3ctd class\x3d'name'\x3e\x3cspan style\x3d'background-color:"+J+"'\x3e\x3c/span\x3e"+da+"\x3c/td\x3e",x+="\x3ctd class\x3d'value'\x3e"+wa+"\x3c/td\x3e",x+="\x3c/tr\x3e")}return x+"\x3c/table\x3e"};m.prototype.tooltipPosition=function(c,d,f,k){var p=this.config,
v=this.d3;var y=this.hasArcType();k=v.mouse(k);y?(p=(this.width-(this.isLegendRight?this.getLegendWidth():0))/2+k[0],c=(this.hasType("gauge")?this.height:this.height/2)+k[1]+20):(y=this.getSvgLeft(!0),p.axis_rotated?(p=y+k[0]+100,d=p+d,y=this.currentWidth-this.getCurrentPaddingRight(),c=this.x(c[0].x)+20):(p=y+this.getCurrentPaddingLeft(!0)+this.x(c[0].x)+20,d=p+d,y=y+this.currentWidth-this.getCurrentPaddingRight(),c=k[1]+15),d>y&&(p-=d-y+20),c+f>this.currentHeight&&(c-=f+30));0>c&&(c=0);return{top:c,
left:p}};m.prototype.showTooltip=function(c,d){var f=this.config,k=this.hasArcType(),p=c.filter(function(y){return y&&R(y.value)}),v=f.tooltip_position||m.prototype.tooltipPosition;0!==p.length&&f.tooltip_show?(this.tooltip.html(f.tooltip_contents.call(this,c,this.axis.getXAxisTickFormat(),this.getYFormat(k),this.color)).style("display","block"),c=this.tooltip.property("offsetWidth"),f=this.tooltip.property("offsetHeight"),d=v.call(this,p,c,f,d),this.tooltip.style("top",d.top+"px").style("left",d.left+
"px")):this.hideTooltip()};m.prototype.hideTooltip=function(){this.tooltip.style("display","none")};m.prototype.setTargetType=function(c,d){var f=this,k=f.config;f.mapToTargetIds(c).forEach(function(p){f.withoutFadeIn[p]=d===k.data_types[p];k.data_types[p]=d});c||(k.data_type=d)};m.prototype.hasType=function(c,d){var f=this.config.data_types,k=!1;(d=d||this.data.targets)&&d.length?d.forEach(function(p){if((p=f[p.id])&&0<=p.indexOf(c)||!p&&"line"===c)k=!0}):Object.keys(f).length?Object.keys(f).forEach(function(p){f[p]===
c&&(k=!0)}):k=this.config.data_type===c;return k};m.prototype.hasArcType=function(c){return this.hasType("pie",c)||this.hasType("donut",c)||this.hasType("gauge",c)};m.prototype.isLineType=function(c){var d=this.config;c=aa(c)?c:c.id;return!d.data_types[c]||0<="line spline area area-spline step area-step".split(" ").indexOf(d.data_types[c])};m.prototype.isStepType=function(c){c=aa(c)?c:c.id;return 0<=["step","area-step"].indexOf(this.config.data_types[c])};m.prototype.isSplineType=function(c){c=aa(c)?
c:c.id;return 0<=["spline","area-spline"].indexOf(this.config.data_types[c])};m.prototype.isAreaType=function(c){c=aa(c)?c:c.id;return 0<=["area","area-spline","area-step"].indexOf(this.config.data_types[c])};m.prototype.isBarType=function(c){c=aa(c)?c:c.id;return"bar"===this.config.data_types[c]};m.prototype.isScatterType=function(c){c=aa(c)?c:c.id;return"scatter"===this.config.data_types[c]};m.prototype.isStanfordType=function(c){c=aa(c)?c:c.id;return"stanford"===this.config.data_types[c]};m.prototype.isPieType=
function(c){c=aa(c)?c:c.id;return"pie"===this.config.data_types[c]};m.prototype.isGaugeType=function(c){c=aa(c)?c:c.id;return"gauge"===this.config.data_types[c]};m.prototype.isDonutType=function(c){c=aa(c)?c:c.id;return"donut"===this.config.data_types[c]};m.prototype.isArcType=function(c){return this.isPieType(c)||this.isDonutType(c)||this.isGaugeType(c)};m.prototype.lineData=function(c){return this.isLineType(c)?[c]:[]};m.prototype.arcData=function(c){return this.isArcType(c.data)?[c]:[]};m.prototype.barData=
function(c){return this.isBarType(c)?c.values:[]};m.prototype.lineOrScatterOrStanfordData=function(c){return this.isLineType(c)||this.isScatterType(c)||this.isStanfordType(c)?c.values:[]};m.prototype.barOrLineData=function(c){return this.isBarType(c)||this.isLineType(c)?c.values:[]};m.prototype.isSafari=function(){var c=window.navigator.userAgent;return 0<=c.indexOf("Safari")&&0>c.indexOf("Chrome")};m.prototype.isChrome=function(){return 0<=window.navigator.userAgent.indexOf("Chrome")};m.prototype.initZoom=
function(){var c=this,d=c.d3,f=c.config,k;c.zoom=d.zoom().on("start",function(){if("scroll"===f.zoom_type){var p=d.event.sourceEvent;p&&"brush"===p.type||(k=p,f.zoom_onzoomstart.call(c.api,p))}}).on("zoom",function(){if("scroll"===f.zoom_type){var p=d.event.sourceEvent;p&&"brush"===p.type||(c.redrawForZoom(),f.zoom_onzoom.call(c.api,c.x.orgDomain()))}}).on("end",function(){if("scroll"===f.zoom_type){var p=d.event.sourceEvent;p&&"brush"===p.type||p&&k.clientX===p.clientX&&k.clientY===p.clientY||f.zoom_onzoomend.call(c.api,
c.x.orgDomain())}});c.zoom.updateDomain=function(){d.event&&d.event.transform&&(f.axis_rotated&&"scroll"===f.zoom_type&&"mousemove"===d.event.sourceEvent.type?c.x.domain(d.event.transform.rescaleY(c.subX).domain()):c.x.domain(d.event.transform.rescaleX(c.subX).domain()));return this};c.zoom.updateExtent=function(){this.scaleExtent([1,Infinity]).translateExtent([[0,0],[c.width,c.height]]).extent([[0,0],[c.width,c.height]]);return this};c.zoom.update=function(){return this.updateExtent().updateDomain()};
return c.zoom.updateExtent()};m.prototype.zoomTransform=function(c){c=[this.x(c[0]),this.x(c[1])];return this.d3.zoomIdentity.scale(this.width/(c[1]-c[0])).translate(-c[0],0)};m.prototype.initDragZoom=function(){var c=this,d=c.d3,f=c.config,k=c.context=c.svg,p=c.margin.left+20.5,v=c.margin.top+.5;if("drag"===f.zoom_type&&f.zoom_enabled){var y=function(J){return J&&J.map(function(da){return c.x.invert(da)})},x=c.dragZoomBrush=d.brushX().on("start",function(){c.api.unzoom();c.svg.select("."+E.dragZoom).classed("disabled",
!1);f.zoom_onzoomstart.call(c.api,d.event.sourceEvent)}).on("brush",function(){f.zoom_onzoom.call(c.api,y(d.event.selection))}).on("end",function(){if(null!=d.event.selection){var J=y(d.event.selection);f.zoom_disableDefaultBehavior||c.api.zoom(J);c.svg.select("."+E.dragZoom).classed("disabled",!0);f.zoom_onzoomend.call(c.api,J)}});k.append("g").classed(E.dragZoom,!0).attr("clip-path",c.clipPath).attr("transform","translate("+p+","+v+")").call(x)}};m.prototype.getZoomDomain=function(){var c=this.config,
d=this.d3,f=d.min([this.orgXDomain[0],c.zoom_x_min]);c=d.max([this.orgXDomain[1],c.zoom_x_max]);return[f,c]};m.prototype.redrawForZoom=function(){var c=this.d3,d=this.config,f=this.zoom,k=this.x;d.zoom_enabled&&0!==this.filterTargetsToShow(this.data.targets).length&&(f.update(),d.zoom_disableDefaultBehavior||(this.isCategorized()&&k.orgDomain()[0]===this.orgXDomain[0]&&k.domain([this.orgXDomain[0]-1E-10,k.orgDomain()[1]]),this.redraw({withTransition:!1,withY:d.zoom_rescale,withSubchart:!1,withEventRect:!1,
withDimension:!1}),c.event.sourceEvent&&"mousemove"===c.event.sourceEvent.type&&(this.cancelClick=!0)))};return ra})}
goog.provide("module$node_modules$c3$c3");
goog.global. module$node_modules$c3$c3=shadow.js.require(48, {});
