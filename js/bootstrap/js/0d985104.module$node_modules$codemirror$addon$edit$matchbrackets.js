shadow$provide[53]=function(mc,Nb,Tb,Hb){(function(m){"object"==typeof Hb&&"object"==typeof Tb?m(Nb(1)):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],m):m(CodeMirror)})(function(m){function ka(ea,Q,ba){var W=ea.getLineHandle(Q.line),aa=Q.ch-1,H=ba&&ba.afterCursor;null==H&&(H=/(^| )cm-fat-cursor($| )/.test(ea.getWrapperElement().className));var R=ba&&ba.bracketRegex||/[(){}[\]]/;W=!H&&0<=aa&&R.test(W.text.charAt(aa))&&La[W.text.charAt(aa)]||R.test(W.text.charAt(aa+1))&&La[W.text.charAt(++aa)];
if(!W)return null;H="\x3e"==W.charAt(1)?1:-1;if(ba&&ba.strict&&0<H!=(aa==Q.ch))return null;R=ea.getTokenTypeAt(Ca(Q.line,aa+1));ea=Fa(ea,Ca(Q.line,aa+(0<H?1:0)),H,R,ba);return null==ea?null:{from:Ca(Q.line,aa),to:ea&&ea.pos,match:ea&&ea.ch==W.charAt(0),forward:0<H}}function Fa(ea,Q,ba,W,aa){var H=aa&&aa.maxScanLineLength||1E4,R=aa&&aa.maxScanLines||1E3,ja=[];aa=aa&&aa.bracketRegex||/[(){}[\]]/;R=0<ba?Math.min(Q.line+R,ea.lastLine()+1):Math.max(ea.firstLine()-1,Q.line-R);for(var N=Q.line;N!=R;N+=ba){var O=
ea.getLine(N);if(O){var Y=0<ba?0:O.length-1,E=0<ba?O.length:-1;if(!(O.length>H))for(N==Q.line&&(Y=Q.ch-(0>ba?1:0));Y!=E;Y+=ba){var X=O.charAt(Y);if(aa.test(X)&&(void 0===W||(ea.getTokenTypeAt(Ca(N,Y+1))||"")==(W||""))){var ra=La[X];if(ra&&"\x3e"==ra.charAt(1)==0<ba)ja.push(X);else if(ja.length)ja.pop();else return{pos:Ca(N,Y),ch:X}}}}}return N-ba==(0<ba?ea.lastLine():ea.firstLine())?!1:null}function u(ea,Q,ba){for(var W=ea.state.matchBrackets.maxHighlightLineLength||1E3,aa=ba&&ba.highlightNonMatching,
H=[],R=ea.listSelections(),ja=0;ja<R.length;ja++){var N=R[ja].empty()&&ka(ea,R[ja].head,ba);if(N&&(N.match||!1!==aa)&&ea.getLine(N.from.line).length<=W){var O=N.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";H.push(ea.markText(N.from,Ca(N.from.line,N.from.ch+1),{className:O}));N.to&&ea.getLine(N.to.line).length<=W&&H.push(ea.markText(N.to,Ca(N.to.line,N.to.ch+1),{className:O}))}}if(H.length)if(na&&ea.state.focused&&ea.focus(),ba=function(){ea.operation(function(){for(var Y=0;Y<
H.length;Y++)H[Y].clear()})},Q)setTimeout(ba,800);else return ba}function B(ea){ea.operation(function(){ea.state.matchBrackets.currentlyHighlighted&&(ea.state.matchBrackets.currentlyHighlighted(),ea.state.matchBrackets.currentlyHighlighted=null);ea.state.matchBrackets.currentlyHighlighted=u(ea,!1,ea.state.matchBrackets)})}function ha(ea){ea.state.matchBrackets&&ea.state.matchBrackets.currentlyHighlighted&&(ea.state.matchBrackets.currentlyHighlighted(),ea.state.matchBrackets.currentlyHighlighted=null)}
var na=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||8>document.documentMode),Ca=m.Pos,La={"(":")\x3e",")":"(\x3c","[":"]\x3e","]":"[\x3c","{":"}\x3e","}":"{\x3c","\x3c":"\x3e\x3e","\x3e":"\x3c\x3c"};m.defineOption("matchBrackets",!1,function(ea,Q,ba){ba&&ba!=m.Init&&(ea.off("cursorActivity",B),ea.off("focus",B),ea.off("blur",ha),ha(ea));Q&&(ea.state.matchBrackets="object"==typeof Q?Q:{},ea.on("cursorActivity",B),ea.on("focus",B),ea.on("blur",ha))});m.defineExtension("matchBrackets",
function(){u(this,!0)});m.defineExtension("findMatchingBracket",function(ea,Q,ba){if(ba||"boolean"==typeof Q)ba?(ba.strict=Q,Q=ba):Q=Q?{strict:!0}:null;return ka(this,ea,Q)});m.defineExtension("scanForBracket",function(ea,Q,ba,W){return Fa(this,ea,Q,ba,W)})})}
goog.provide("module$node_modules$codemirror$addon$edit$matchbrackets");
goog.global. module$node_modules$codemirror$addon$edit$matchbrackets=shadow.js.require(53, {});
