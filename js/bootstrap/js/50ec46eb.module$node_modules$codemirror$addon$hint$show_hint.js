shadow$provide[49]=function(mc,Nb,Tb,Hb){(function(m){"object"==typeof Hb&&"object"==typeof Tb?m(Nb(1)):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],m):m(CodeMirror)})(function(m){function ka(Q,ba){this.cm=Q;this.options=ba;this.widget=null;this.tick=this.debounce=0;this.startPos=this.cm.getCursor("start");this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;if(this.options.updateOnCursorActivity){var W=this;Q.on("cursorActivity",this.activityFunc=
function(){W.cursorActivity()})}}function Fa(Q,ba){function W(N,O){var Y="string"!=typeof O?function(E){return O(E,ba)}:aa.hasOwnProperty(O)?aa[O]:O;R[N]=Y}var aa={Up:function(){ba.moveFocus(-1)},Down:function(){ba.moveFocus(1)},PageUp:function(){ba.moveFocus(-ba.menuSize()+1,!0)},PageDown:function(){ba.moveFocus(ba.menuSize()-1,!0)},Home:function(){ba.setFocus(0)},End:function(){ba.setFocus(ba.length-1)},Enter:ba.pick,Tab:ba.pick,Esc:ba.close};/Mac/.test(navigator.platform)&&(aa["Ctrl-P"]=function(){ba.moveFocus(-1)},
aa["Ctrl-N"]=function(){ba.moveFocus(1)});var H=Q.options.customKeys,R=H?{}:aa;if(H)for(var ja in H)H.hasOwnProperty(ja)&&W(ja,H[ja]);if(Q=Q.options.extraKeys)for(ja in Q)Q.hasOwnProperty(ja)&&W(ja,Q[ja]);return R}function u(Q,ba){for(;ba&&ba!=Q;){if("LI"===ba.nodeName.toUpperCase()&&ba.parentNode==Q)return ba;ba=ba.parentNode}}function B(Q,ba){this.id="cm-complete-"+Math.floor(Math.random(1E6));this.completion=Q;this.data=ba;this.picked=!1;var W=this,aa=Q.cm,H=aa.getInputField().ownerDocument,R=
H.defaultView||H.parentWindow,ja=this.hints=H.createElement("ul");ja.setAttribute("role","listbox");ja.setAttribute("aria-expanded","true");ja.id=this.id;ja.className="CodeMirror-hints "+Q.cm.options.theme;this.selectedHint=ba.selectedHint||0;for(var N=ba.list,O=0;O<N.length;++O){var Y=ja.appendChild(H.createElement("li")),E=N[O],X="CodeMirror-hint"+(O!=this.selectedHint?"":" CodeMirror-hint-active");null!=E.className&&(X=E.className+" "+X);Y.className=X;O==this.selectedHint&&Y.setAttribute("aria-selected",
"true");Y.id=this.id+"-"+O;Y.setAttribute("role","option");E.render?E.render(Y,ba,E):Y.appendChild(H.createTextNode(E.displayText||("string"==typeof E?E:E.text)));Y.hintId=O}X=Q.options.container||H.body;O=aa.cursorCoords(Q.options.alignWithWord?ba.from:null);var ra=O.left,ya=O.bottom,c=!0,d=Y=0;if(X!==H.body){E=-1!==["absolute","relative","fixed"].indexOf(R.getComputedStyle(X).position)?X:X.offsetParent;var f=E.getBoundingClientRect();d=H.body.getBoundingClientRect();Y=f.left-d.left-E.scrollLeft;
d=f.top-d.top-E.scrollTop}ja.style.left=ra-Y+"px";ja.style.top=ya-d+"px";E=R.innerWidth||Math.max(H.body.offsetWidth,H.documentElement.offsetWidth);var k=R.innerHeight||Math.max(H.body.offsetHeight,H.documentElement.offsetHeight);X.appendChild(ja);aa.getInputField().setAttribute("aria-autocomplete","list");aa.getInputField().setAttribute("aria-owns",this.id);aa.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);X=Q.options.moveOnOverlap?ja.getBoundingClientRect():
new DOMRect;f=Q.options.paddingForScrollbar?ja.scrollHeight>ja.clientHeight+1:!1;var p;setTimeout(function(){p=aa.getScrollInfo()});if(0<X.bottom-k){var v=X.bottom-X.top;0<O.top-(O.bottom-X.top)-v?(ja.style.top=(ya=O.top-v-d)+"px",c=!1):v>k&&(ja.style.height=k-5+"px",ja.style.top=(ya=O.bottom-X.top-d)+"px",d=aa.getCursor(),ba.from.ch!=d.ch&&(O=aa.cursorCoords(d),ja.style.left=(ra=O.left-Y)+"px",X=ja.getBoundingClientRect()))}d=X.right-E;f&&(d+=aa.display.nativeBarWidth);0<d&&(X.right-X.left>E&&(ja.style.width=
E-5+"px",d-=X.right-X.left-E),ja.style.left=(ra=O.left-d-Y)+"px");if(f)for(O=ja.firstChild;O;O=O.nextSibling)O.style.paddingRight=aa.display.nativeBarWidth+"px";aa.addKeyMap(this.keyMap=Fa(Q,{moveFocus:function(x,J){W.changeActive(W.selectedHint+x,J)},setFocus:function(x){W.changeActive(x)},menuSize:function(){return W.screenAmount()},length:N.length,close:function(){Q.close()},pick:function(){W.pick()},data:ba}));if(Q.options.closeOnUnfocus){var y;aa.on("blur",this.onBlur=function(){y=setTimeout(function(){Q.close()},
100)});aa.on("focus",this.onFocus=function(){clearTimeout(y)})}aa.on("scroll",this.onScroll=function(){var x=aa.getScrollInfo(),J=aa.getWrapperElement().getBoundingClientRect();p||(p=aa.getScrollInfo());var da=ya+p.top-x.top,wa=da-(R.pageYOffset||(H.documentElement||H.body).scrollTop);c||(wa+=ja.offsetHeight);if(wa<=J.top||wa>=J.bottom)return Q.close();ja.style.top=da+"px";ja.style.left=ra+p.left-x.left+"px"});m.on(ja,"dblclick",function(x){(x=u(ja,x.target||x.srcElement))&&null!=x.hintId&&(W.changeActive(x.hintId),
W.pick())});m.on(ja,"click",function(x){(x=u(ja,x.target||x.srcElement))&&null!=x.hintId&&(W.changeActive(x.hintId),Q.options.completeOnSingleClick&&W.pick())});m.on(ja,"mousedown",function(){setTimeout(function(){aa.focus()},20)});O=this.getSelectedHintRange();0===O.from&&0===O.to||this.scrollToActive();m.signal(ba,"select",N[this.selectedHint],ja.childNodes[this.selectedHint]);return!0}function ha(Q,ba){if(!Q.somethingSelected())return ba;Q=[];for(var W=0;W<ba.length;W++)ba[W].supportsSelection&&
Q.push(ba[W]);return Q}function na(Q,ba,W,aa){Q.async?Q(ba,aa,W):(Q=Q(ba,W))&&Q.then?Q.then(aa):aa(Q)}m.showHint=function(Q,ba,W){if(!ba)return Q.showHint(W);W&&W.async&&(ba.async=!0);ba={hint:ba};if(W)for(var aa in W)ba[aa]=W[aa];return Q.showHint(ba)};m.defineExtension("showHint",function(Q){var ba=this.getCursor("start"),W=this.options.hintOptions,aa={},H;for(H in ea)aa[H]=ea[H];if(W)for(H in W)void 0!==W[H]&&(aa[H]=W[H]);if(Q)for(H in Q)void 0!==Q[H]&&(aa[H]=Q[H]);aa.hint.resolve&&(aa.hint=aa.hint.resolve(this,
ba));Q=aa;ba=this.listSelections();if(!(1<ba.length)){if(this.somethingSelected()){if(!Q.hint.supportsSelection)return;for(H=0;H<ba.length;H++)if(ba[H].head.line!=ba[H].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();ba=this.state.completionActive=new ka(this,Q);ba.options.hint&&(m.signal(this,"startCompletion",this),ba.update(!0))}});m.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});var Ca=window.requestAnimationFrame||
function(Q){return setTimeout(Q,1E3/60)},La=window.cancelAnimationFrame||clearTimeout;ka.prototype={close:function(){this.active()&&(this.tick=this.cm.state.completionActive=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&m.signal(this.data,"close"),this.widget&&this.widget.close(),m.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(Q,ba){var W=Q.list[ba],aa=this;
this.cm.operation(function(){W.hint?W.hint(aa.cm,Q,W):aa.cm.replaceRange("string"==typeof W?W:W.text,W.from||Q.from,W.to||Q.to,"complete");m.signal(Q,"pick",W);aa.cm.scrollIntoView()});this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(La(this.debounce),this.debounce=0);var Q=this.startPos;this.data&&(Q=this.data.from);var ba=this.cm.getCursor(),W=this.cm.getLine(ba.line);if(ba.line!=this.startPos.line||W.length-ba.ch!=this.startLen-this.startPos.ch||ba.ch<Q.ch||this.cm.somethingSelected()||
!ba.ch||this.options.closeCharacters.test(W.charAt(ba.ch-1)))this.close();else{var aa=this;this.debounce=Ca(function(){aa.update()});this.widget&&this.widget.disable()}},update:function(Q){if(null!=this.tick){var ba=this,W=++this.tick;na(this.options.hint,this.cm,this.options,function(aa){ba.tick==W&&ba.finishUpdate(aa,Q)})}},finishUpdate:function(Q,ba){this.data&&m.signal(this.data,"update");ba=this.widget&&this.widget.picked||ba&&this.options.completeSingle;this.widget&&this.widget.close();(this.data=
Q)&&Q.list.length&&(ba&&1==Q.list.length?this.pick(Q,0):(this.widget=new B(this,Q),m.signal(Q,"shown")))}};B.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null;this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints);this.completion.cm.removeKeyMap(this.keyMap);var Q=this.completion.cm.getInputField();Q.removeAttribute("aria-activedescendant");Q.removeAttribute("aria-owns");Q=this.completion.cm;this.completion.options.closeOnUnfocus&&(Q.off("blur",
this.onBlur),Q.off("focus",this.onFocus));Q.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var Q=this;this.keyMap={Enter:function(){Q.picked=!0}};this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(Q,ba){Q>=this.data.list.length?Q=ba?this.data.list.length-1:0:0>Q&&(Q=ba?0:this.data.list.length-1);if(this.selectedHint!=Q){if(ba=this.hints.childNodes[this.selectedHint])ba.className=
ba.className.replace(" CodeMirror-hint-active",""),ba.removeAttribute("aria-selected");ba=this.hints.childNodes[this.selectedHint=Q];ba.className+=" CodeMirror-hint-active";ba.setAttribute("aria-selected","true");this.completion.cm.getInputField().setAttribute("aria-activedescendant",ba.id);this.scrollToActive();m.signal(this.data,"select",this.data.list[this.selectedHint],ba)}},scrollToActive:function(){var Q=this.getSelectedHintRange(),ba=this.hints.childNodes[Q.from];Q=this.hints.childNodes[Q.to];
var W=this.hints.firstChild;ba.offsetTop<this.hints.scrollTop?this.hints.scrollTop=ba.offsetTop-W.offsetTop:Q.offsetTop+Q.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=Q.offsetTop+Q.offsetHeight-this.hints.clientHeight+W.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var Q=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-Q),to:Math.min(this.data.list.length-
1,this.selectedHint+Q)}}};m.registerHelper("hint","auto",{resolve:function(Q,ba){var W=Q.getHelpers(ba,"hint"),aa;return W.length?(Q=function(H,R,ja){function N(Y){if(Y==O.length)return R(null);na(O[Y],H,ja,function(E){E&&0<E.list.length?R(E):N(Y+1)})}var O=ha(H,W);N(0)},Q.async=!0,Q.supportsSelection=!0,Q):(aa=Q.getHelper(Q.getCursor(),"hintWords"))?function(H){return m.hint.fromList(H,{words:aa})}:m.hint.anyword?function(H,R){return m.hint.anyword(H,R)}:function(){}}});m.registerHelper("hint","fromList",
function(Q,ba){var W=Q.getCursor(),aa=Q.getTokenAt(W);Q=m.Pos(W.line,aa.start);aa.start<W.ch&&/\w/.test(aa.string.charAt(W.ch-aa.start-1))?aa=aa.string.substr(0,W.ch-aa.start):(aa="",Q=W);for(var H=[],R=0;R<ba.words.length;R++){var ja=ba.words[R];ja.slice(0,aa.length)==aa&&H.push(ja)}if(H.length)return{list:H,from:Q,to:W}});m.commands.autocomplete=m.showHint;var ea={hint:m.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,
completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};m.defineOption("hintOptions",null)})}
goog.provide("module$node_modules$codemirror$addon$hint$show_hint");
goog.global. module$node_modules$codemirror$addon$hint$show_hint=shadow.js.require(49, {});
