shadow$provide[2]=function(mc,Nb,Tb,Hb){(function(m,ka){"object"===typeof Hb&&"undefined"!==typeof Tb?ka(Hb):"function"===typeof define&&define.amd?define(["exports"],ka):ka(m.L={})})(this,function(m){function ka(a){var g,n;var z=1;for(n=arguments.length;z<n;z++){var T=arguments[z];for(g in T)a[g]=T[g]}return a}function Fa(a,g){var n=Array.prototype.slice;if(a.bind)return a.bind.apply(a,n.call(arguments,1));var z=n.call(arguments,2);return function(){return a.apply(g,z.length?z.concat(n.call(arguments)):
arguments)}}function u(a){a._leaflet_id=a._leaflet_id||++Qb;return a._leaflet_id}function B(a,g,n){var z,T,Da;var Ja=function(){z=!1;T&&(Da.apply(n,T),T=!1)};return Da=function(){z?T=arguments:(a.apply(n,arguments),setTimeout(Ja,g),z=!0)}}function ha(a,g,n){var z=g[1];g=g[0];var T=z-g;return a===z&&n?a:((a-g)%T+T)%T+g}function na(){return!1}function Ca(a,g){g=Math.pow(10,void 0===g?6:g);return Math.round(a*g)/g}function La(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function ea(a){return La(a).split(/\s+/)}
function Q(a,g){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?cb(a.options):{});for(var n in g)a.options[n]=g[n];return a.options}function ba(a,g,n){var z=[],T;for(T in a)z.push(encodeURIComponent(n?T.toUpperCase():T)+"\x3d"+encodeURIComponent(a[T]));return(g&&-1!==g.indexOf("?")?"\x26":"?")+z.join("\x26")}function W(a,g){return a.replace(ec,function(n,z){z=g[z];if(void 0===z)throw Error("No value provided for variable "+n);"function"===typeof z&&(z=z(g));return z})}function aa(a,
g){for(var n=0;n<a.length;n++)if(a[n]===g)return n;return-1}function H(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}function R(a){var g=+new Date,n=Math.max(0,16-(g-hc));hc=g+n;return window.setTimeout(a,n)}function ja(a,g,n){if(n&&Pb===R)a.call(g);else return Pb.call(window,Fa(a,g))}function N(a){a&&dc.call(window,a)}function O(){}function Y(a){if("undefined"!==typeof L&&L&&L.Mixin){a=Sb(a)?a:[a];for(var g=0;g<a.length;g++)a[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",
Error().stack)}}function E(a,g,n){this.x=n?Math.round(a):a;this.y=n?Math.round(g):g}function X(a,g,n){return a instanceof E?a:Sb(a)?new E(a[0],a[1]):void 0===a||null===a?a:"object"===typeof a&&"x"in a&&"y"in a?new E(a.x,a.y):new E(a,g,n)}function ra(a,g){if(a){a=g?[a,g]:a;g=0;for(var n=a.length;g<n;g++)this.extend(a[g])}}function ya(a,g){return!a||a instanceof ra?a:new ra(a,g)}function c(a,g){if(a){a=g?[a,g]:a;g=0;for(var n=a.length;g<n;g++)this.extend(a[g])}}function d(a,g){return a instanceof c?
a:new c(a,g)}function f(a,g,n){if(isNaN(a)||isNaN(g))throw Error("Invalid LatLng object: ("+a+", "+g+")");this.lat=+a;this.lng=+g;void 0!==n&&(this.alt=+n)}function k(a,g,n){return a instanceof f?a:Sb(a)&&"object"!==typeof a[0]?3===a.length?new f(a[0],a[1],a[2]):2===a.length?new f(a[0],a[1]):null:void 0===a||null===a?a:"object"===typeof a&&"lat"in a?new f(a.lat,"lng"in a?a.lng:a.lon,a.alt):void 0===g?null:new f(a,g,n)}function p(a,g,n,z){Sb(a)?(this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3]):
(this._a=a,this._b=g,this._c=n,this._d=z)}function v(a,g,n,z){return new p(a,g,n,z)}function y(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function x(a,g){var n="",z,T;var Da=0;for(z=a.length;Da<z;Da++){var Ja=a[Da];var Ra=0;for(T=Ja.length;Ra<T;Ra++){var eb=Ja[Ra];n+=(Ra?"L":"M")+eb.x+" "+eb.y}n+=g?Sd?"z":"x":""}return n||"M0 0"}function J(a){return 0<=navigator.userAgent.toLowerCase().indexOf(a)}function da(a,g,n,z){"touchstart"===g?ca(a,n,z):"touchmove"===g?tb(a,n,z):"touchend"===
g&&gb(a,n,z);return this}function wa(a,g,n){n=a["_leaflet_"+g+n];"touchstart"===g?a.removeEventListener(Ue,n,!1):"touchmove"===g?a.removeEventListener(df,n,!1):"touchend"===g&&(a.removeEventListener(t,n,!1),a.removeEventListener(C,n,!1));return this}function ca(a,g,n){var z=Fa(function(T){T.MSPOINTER_TYPE_TOUCH&&T.pointerType===T.MSPOINTER_TYPE_TOUCH&&ob(T);Wa(T,g)});a["_leaflet_touchstart"+n]=z;a.addEventListener(Ue,z,!1);ia||(document.addEventListener(Ue,fa,!0),document.addEventListener(df,Ha,!0),
document.addEventListener(t,Oa,!0),document.addEventListener(C,Oa,!0),ia=!0)}function fa(a){S[a.pointerId]=a}function Ha(a){S[a.pointerId]&&(S[a.pointerId]=a)}function Oa(a){delete S[a.pointerId]}function Wa(a,g){a.touches=[];for(var n in S)a.touches.push(S[n]);a.changedTouches=[a];g(a)}function tb(a,g,n){var z=function(T){T.pointerType===(T.MSPOINTER_TYPE_MOUSE||"mouse")&&0===T.buttons||Wa(T,g)};a["_leaflet_touchmove"+n]=z;a.addEventListener(df,z,!1)}function gb(a,g,n){var z=function(T){Wa(T,g)};
a["_leaflet_touchend"+n]=z;a.addEventListener(t,z,!1);a.addEventListener(C,z,!1)}function qb(a,g,n){function z(eb){if(Xd){if(!eb.isPrimary||"mouse"===eb.pointerType)return}else if(1<eb.touches.length)return;var Jb=Date.now(),Ib=Jb-(Da||Jb);Ja=eb.touches?eb.touches[0]:eb;Ra=0<Ib&&250>=Ib;Da=Jb}function T(eb){if(Ra&&!Ja.cancelBubble){if(Xd){if("mouse"===eb.pointerType)return;eb={};var Jb;for(Jb in Ja){var Ib=Ja[Jb];eb[Jb]=Ib&&Ib.bind?Ib.bind(Ja):Ib}Ja=eb}Ja.type="dblclick";Ja.button=0;g(Ja);Da=null}}
var Da,Ja,Ra=!1;a["_leaflet_"+va+n]=z;a["_leaflet_"+Ea+n]=T;a["_leaflet_dblclick"+n]=g;a.addEventListener(va,z,Yd?{passive:!1}:!1);a.addEventListener(Ea,T,Yd?{passive:!1}:!1);a.addEventListener("dblclick",g,!1);return this}function nb(a,g){var n=a["_leaflet_"+Ea+g],z=a["_leaflet_dblclick"+g];a.removeEventListener(va,a["_leaflet_"+va+g],Yd?{passive:!1}:!1);a.removeEventListener(Ea,n,Yd?{passive:!1}:!1);a.removeEventListener("dblclick",z,!1);return this}function Ma(a){return"string"===typeof a?document.getElementById(a):
a}function fb(a,g){var n=a.style[g]||a.currentStyle&&a.currentStyle[g];n&&"auto"!==n||!document.defaultView||(n=(a=document.defaultView.getComputedStyle(a,null))?a[g]:null);return"auto"===n?null:n}function oa(a,g,n){a=document.createElement(a);a.className=g||"";n&&n.appendChild(a);return a}function la(a){var g=a.parentNode;g&&g.removeChild(a)}function ua(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function G(a){var g=a.parentNode;g&&g.lastChild!==a&&g.appendChild(a)}function qa(a){var g=a.parentNode;
g&&g.firstChild!==a&&g.insertBefore(a,g.firstChild)}function Aa(a,g){if(void 0!==a.classList)return a.classList.contains(g);a=U(a);return 0<a.length&&(new RegExp("(^|\\s)"+g+"(\\s|$)")).test(a)}function Na(a,g){if(void 0!==a.classList){g=ea(g);for(var n=0,z=g.length;n<z;n++)a.classList.add(g[n])}else Aa(a,g)||(n=U(a),D(a,(n?n+" ":"")+g))}function K(a,g){void 0!==a.classList?a.classList.remove(g):D(a,La((" "+U(a)+" ").replace(" "+g+" "," ")))}function D(a,g){void 0===a.className.baseVal?a.className=
g:a.className.baseVal=g}function U(a){a.correspondingElement&&(a=a.correspondingElement);return void 0===a.className.baseVal?a.className:a.className.baseVal}function ma(a,g){if("opacity"in a.style)a.style.opacity=g;else if("filter"in a.style)a:{var n=!1;try{n=a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(z){if(1===g)break a}g=Math.round(100*g);n?(n.Enabled=100!==g,n.Opacity=g):a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(opacity\x3d"+g+")"}}function Ta(a){for(var g=document.documentElement.style,
n=0;n<a.length;n++)if(a[n]in g)return a[n];return!1}function za(a,g,n){g=g||new E(0,0);a.style[Ua]=(Tc?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(n?" scale("+n+")":"")}function Ia(a,g){a._leaflet_pos=g;Vd?za(a,g):(a.style.left=g.x+"px",a.style.top=g.y+"px")}function Pa(a){return a._leaflet_pos||new E(0,0)}function rb(){Rb(window,"dragstart",ob)}function wb(){Ga(window,"dragstart",ob)}function Cb(a){for(;-1===a.tabIndex;)a=a.parentNode;a.style&&(Gb(),$c=a,Gc=a.style.outline,
a.style.outline="none",Rb(window,"keydown",Gb))}function Gb(){$c&&($c.style.outline=Gc,Gc=$c=void 0,Ga(window,"keydown",Gb))}function gc(a){do a=a.parentNode;while(!(a.offsetWidth&&a.offsetHeight||a===document.body));return a}function $b(a){var g=a.getBoundingClientRect();return{x:g.width/a.offsetWidth||1,y:g.height/a.offsetHeight||1,boundingClientRect:g}}function Rb(a,g,n,z){if("object"===typeof g)for(var T in g)Eb(a,T,g[T],n);else{g=ea(g);T=0;for(var Da=g.length;T<Da;T++)Eb(a,g[T],n,z)}return this}
function Ga(a,g,n,z){if("object"===typeof g)for(var T in g)V(a,T,g[T],n);else if(g){g=ea(g);T=0;for(var Da=g.length;T<Da;T++)V(a,g[T],n,z)}else{for(Da in a[gd])V(a,Da,a[gd][Da]);delete a[gd]}return this}function bb(){if(Xd)return!(Kb||sc)}function Eb(a,g,n,z){var T=g+u(n)+(z?"_"+u(z):"");if(a[gd]&&a[gd][T])return this;var Da=function(Ra){return n.call(z||a,Ra||window.event)},Ja=Da;Xd&&0===g.indexOf("touch")?da(a,g,Da,T):fe&&"dblclick"===g&&!bb()?qb(a,Da,T):"addEventListener"in a?"touchstart"===g||
"touchmove"===g||"wheel"===g||"mousewheel"===g?a.addEventListener(Ud[g]||g,Da,Yd?{passive:!1}:!1):"mouseenter"===g||"mouseleave"===g?(Da=function(Ra){Ra=Ra||window.event;oc(a,Ra)&&Ja(Ra)},a.addEventListener(Ud[g],Da,!1)):a.addEventListener(g,Ja,!1):"attachEvent"in a&&a.attachEvent("on"+g,Da);a[gd]=a[gd]||{};a[gd][T]=Da}function V(a,g,n,z){n=g+u(n)+(z?"_"+u(z):"");z=a[gd]&&a[gd][n];if(!z)return this;Xd&&0===g.indexOf("touch")?wa(a,g,n):fe&&"dblclick"===g&&!bb()?nb(a,n):"removeEventListener"in a?a.removeEventListener(Ud[g]||
g,z,!1):"detachEvent"in a&&a.detachEvent("on"+g,z);a[gd][n]=null}function Ba(a){a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0;sb(a);return this}function db(a){Eb(a,"wheel",Ba);return this}function ub(a){Rb(a,"mousedown touchstart dblclick",Ba);Eb(a,"click",Vb);return this}function ob(a){a.preventDefault?a.preventDefault():a.returnValue=!1;return this}function Bb(a){ob(a);Ba(a);return this}function yb(a,g){if(!g)return new E(a.clientX,a.clientY);
var n=$b(g),z=n.boundingClientRect;return new E((a.clientX-z.left)/n.x-g.clientLeft,(a.clientY-z.top)/n.y-g.clientTop)}function Db(a){return Kb?a.wheelDeltaY/2:a.deltaY&&0===a.deltaMode?-a.deltaY/Mc:a.deltaY&&1===a.deltaMode?20*-a.deltaY:a.deltaY&&2===a.deltaMode?60*-a.deltaY:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&32765>Math.abs(a.detail)?20*-a.detail:a.detail?a.detail/-32765*60:0}function Vb(a){qd[a.type]=!0}function sb(a){var g=qd[a.type];qd[a.type]=!1;return g}
function oc(a,g){g=g.relatedTarget;if(!g)return!0;try{for(;g&&g!==a;)g=g.parentNode}catch(n){return!1}return g!==a}function uc(a,g){if(!g||!a.length)return a.slice();g*=g;for(var n=[a[0]],z=1,T=0,Da=a.length;z<Da;z++){var Ja=a[z],Ra=a[T],eb=Ra.x-Ja.x;Ja=Ra.y-Ja.y;eb*eb+Ja*Ja>g&&(n.push(a[z]),T=z)}T<Da-1&&n.push(a[Da-1]);a=n;n=a.length;z=new ("undefined"!==typeof Uint8Array?Uint8Array:Array)(n);z[0]=z[n-1]=1;ab(a,z,g,0,n-1);T=[];for(g=0;g<n;g++)z[g]&&T.push(a[g]);return a=T}function Va(a,g,n){return Math.sqrt(Bc(a,
g,n,!0))}function ab(a,g,n,z,T){var Da=0,Ja;for(Ja=z+1;Ja<=T-1;Ja++){var Ra=Bc(a[Ja],a[z],a[T],!0);if(Ra>Da){var eb=Ja;Da=Ra}}Da>n&&(g[eb]=1,ab(a,g,n,z,eb),ab(a,g,n,eb,T))}function Lb(a,g,n,z,T){z=z?Xe:Yc(a,n);var Da=Yc(g,n);for(Xe=Da;;){if(!(z|Da))return[a,g];if(z&Da)return!1;var Ja=z||Da;var Ra=fd(a,g,Ja,n,T);var eb=Yc(Ra,n);Ja===z?(a=Ra,z=eb):(g=Ra,Da=eb)}}function fd(a,g,n,z,T){var Da=g.x-a.x;g=g.y-a.y;var Ja=z.min;z=z.max;if(n&8){var Ra=a.x+Da*(z.y-a.y)/g;var eb=z.y}else n&4?(Ra=a.x+Da*(Ja.y-
a.y)/g,eb=Ja.y):n&2?(Ra=z.x,eb=a.y+g*(z.x-a.x)/Da):n&1&&(Ra=Ja.x,eb=a.y+g*(Ja.x-a.x)/Da);return new E(Ra,eb,T)}function Yc(a,g){var n=0;a.x<g.min.x?n|=1:a.x>g.max.x&&(n|=2);a.y<g.min.y?n|=4:a.y>g.max.y&&(n|=8);return n}function Bc(a,g,n,z){var T=g.x;g=g.y;var Da=n.x-T,Ja=n.y-g,Ra=Da*Da+Ja*Ja;0<Ra&&(Ra=((a.x-T)*Da+(a.y-g)*Ja)/Ra,1<Ra?(T=n.x,g=n.y):0<Ra&&(T+=Da*Ra,g+=Ja*Ra));Da=a.x-T;Ja=a.y-g;return z?Da*Da+Ja*Ja:new E(T,g)}function Zc(a){return!Sb(a[0])||"object"!==typeof a[0][0]&&"undefined"!==typeof a[0][0]}
function $d(a){console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead.");return Zc(a)}function Zd(a,g,n){var z=[1,4,2,8],T,Da,Ja;var Ra=0;for(Ja=a.length;Ra<Ja;Ra++)a[Ra]._code=Yc(a[Ra],g);for(Da=0;4>Da;Da++){var eb=z[Da];var Jb=[];Ra=0;Ja=a.length;for(T=Ja-1;Ra<Ja;T=Ra++){var Ib=a[Ra];T=a[T];Ib._code&eb?T._code&eb||(T=fd(T,Ib,eb,g,n),T._code=Yc(T,g),Jb.push(T)):(T._code&eb&&(T=fd(T,Ib,eb,g,n),T._code=Yc(T,g),Jb.push(T)),Jb.push(Ib))}a=Jb}return a}function wd(a,g){var n="Feature"===
a.type?a.geometry:a,z=n?n.coordinates:null,T=[],Da=g&&g.pointToLayer,Ja=g&&g.coordsToLatLng||Md,Ra,eb;if(!z&&!n)return null;switch(n.type){case "Point":return T=Ra=Ja(z),Da?Da(a,T):new Hd(T,g&&g.markersInheritOptions&&g);case "MultiPoint":var Jb=0;for(eb=z.length;Jb<eb;Jb++){Ra=Ja(z[Jb]);n=T;var Ib=n.push,Mb=g;Ra=Da?Da(a,Ra):new Hd(Ra,Mb&&Mb.markersInheritOptions&&Mb);Ib.call(n,Ra)}return new je(T);case "LineString":case "MultiLineString":return a=pd(z,"LineString"===n.type?0:1,Ja),new ae(a,g);case "Polygon":case "MultiPolygon":return a=
pd(z,"Polygon"===n.type?1:2,Ja),new ze(a,g);case "GeometryCollection":Jb=0;for(eb=n.geometries.length;Jb<eb;Jb++)(Da=wd({geometry:n.geometries[Jb],type:"Feature",properties:a.properties},g))&&T.push(Da);return new je(T);default:throw Error("Invalid GeoJSON object.");}}function Md(a){return new f(a[1],a[0],a[2])}function pd(a,g,n){for(var z=[],T=0,Da=a.length,Ja;T<Da;T++)Ja=g?pd(a[T],g-1,n):(n||Md)(a[T]),z.push(Ja);return z}function cc(a,g){g="number"===typeof g?g:6;return void 0!==a.alt?[Ca(a.lng,
g),Ca(a.lat,g),Ca(a.alt,g)]:[Ca(a.lng,g),Ca(a.lat,g)]}function xa(a,g,n,z){for(var T=[],Da=0,Ja=a.length;Da<Ja;Da++)T.push(g?xa(a[Da],g-1,n,z):cc(a[Da],z));!g&&n&&T.push(T[0]);return T}function Za(a,g){return a.feature?ka({},a.feature,{geometry:g}):zb(g)}function zb(a){return"Feature"===a.type||"FeatureCollection"===a.type?a:{type:"Feature",properties:{},geometry:a}}function Ob(a,g){return new ee(a,g)}function Wb(a,g){return new Ne(a,g)}function Xb(a){return re?new Nd(a):null}function kc(a){return Sd||
ce?new Re(a):null}var cb=Object.create||function(){function a(){}return function(g){a.prototype=g;return new a}}(),Qb=0,ec=/\{ *([\w_-]+) *\}/g,Sb=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},hc=0,Pb=window.requestAnimationFrame||H("RequestAnimationFrame")||R,dc=window.cancelAnimationFrame||H("CancelAnimationFrame")||H("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)},Ub={extend:ka,create:cb,bind:Fa,lastId:Qb,stamp:u,throttle:B,wrapNum:ha,
falseFn:na,formatNum:Ca,trim:La,splitWords:ea,setOptions:Q,getParamString:ba,template:W,isArray:Sb,indexOf:aa,emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d",requestFn:Pb,cancelFn:dc,requestAnimFrame:ja,cancelAnimFrame:N};O.extend=function(a){var g=function(){this.initialize&&this.initialize.apply(this,arguments);this.callInitHooks()},n=g.__super__=this.prototype,z=cb(n);z.constructor=g;g.prototype=z;for(var T in this)Object.prototype.hasOwnProperty.call(this,T)&&"prototype"!==
T&&"__super__"!==T&&(g[T]=this[T]);a.statics&&(ka(g,a.statics),delete a.statics);a.includes&&(Y(a.includes),ka.apply(null,[z].concat(a.includes)),delete a.includes);z.options&&(a.options=ka(cb(z.options),a.options));ka(z,a);z._initHooks=[];z.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this);this._initHooksCalled=!0;for(var Da=0,Ja=z._initHooks.length;Da<Ja;Da++)z._initHooks[Da].call(this)}};return g};O.include=function(a){ka(this.prototype,a);return this};
O.mergeOptions=function(a){ka(this.prototype.options,a);return this};O.addInitHook=function(a){var g=Array.prototype.slice.call(arguments,1);this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push("function"===typeof a?a:function(){this[a].apply(this,g)});return this};var r={on:function(a,g,n){if("object"===typeof a)for(var z in a)this._on(z,a[z],g);else{a=ea(a);z=0;for(var T=a.length;z<T;z++)this._on(a[z],g,n)}return this},off:function(a,g,n){if(a)if("object"===typeof a)for(var z in a)this._off(z,
a[z],g);else{a=ea(a);z=0;for(var T=a.length;z<T;z++)this._off(a[z],g,n)}else delete this._events;return this},_on:function(a,g,n){this._events=this._events||{};var z=this._events[a];z||(z=[],this._events[a]=z);n===this&&(n=void 0);a={fn:g,ctx:n};for(var T=0,Da=z.length;T<Da;T++)if(z[T].fn===g&&z[T].ctx===n)return;z.push(a)},_off:function(a,g,n){var z,T;if(this._events&&(z=this._events[a]))if(g){if(n===this&&(n=void 0),z){var Da=0;for(T=z.length;Da<T;Da++){var Ja=z[Da];if(Ja.ctx===n&&Ja.fn===g){Ja.fn=
na;this._firingCount&&(this._events[a]=z=z.slice());z.splice(Da,1);break}}}}else{Da=0;for(T=z.length;Da<T;Da++)z[Da].fn=na;delete this._events[a]}},fire:function(a,g,n){if(!this.listens(a,n))return this;g=ka({},g,{type:a,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events&&(a=this._events[a])){this._firingCount=this._firingCount+1||1;for(var z=0,T=a.length;z<T;z++){var Da=a[z];Da.fn.call(Da.ctx||this,g)}this._firingCount--}n&&this._propagateEvent(g);return this},listens:function(a,
g){var n=this._events&&this._events[a];if(n&&n.length)return!0;if(g)for(var z in this._eventParents)if(this._eventParents[z].listens(a,g))return!0;return!1},once:function(a,g,n){if("object"===typeof a){for(var z in a)this.once(z,a[z],g);return this}var T=Fa(function(){this.off(a,g,n).off(a,T,n)},this);return this.on(a,g,n).on(a,T,n)},addEventParent:function(a){this._eventParents=this._eventParents||{};this._eventParents[u(a)]=a;return this},removeEventParent:function(a){this._eventParents&&delete this._eventParents[u(a)];
return this},_propagateEvent:function(a){for(var g in this._eventParents)this._eventParents[g].fire(a.type,ka({layer:a.target,propagatedFrom:a.target},a),!0)}};r.addEventListener=r.on;r.removeEventListener=r.clearAllEventListeners=r.off;r.addOneTimeEventListener=r.once;r.fireEvent=r.fire;r.hasEventListeners=r.listens;var w=O.extend(r),F=Math.trunc||function(a){return 0<a?Math.floor(a):Math.ceil(a)};E.prototype={clone:function(){return new E(this.x,this.y)},add:function(a){return this.clone()._add(X(a))},
_add:function(a){this.x+=a.x;this.y+=a.y;return this},subtract:function(a){return this.clone()._subtract(X(a))},_subtract:function(a){this.x-=a.x;this.y-=a.y;return this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){this.x/=a;this.y/=a;return this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){this.x*=a;this.y*=a;return this},scaleBy:function(a){return new E(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new E(this.x/a.x,this.y/
a.y)},round:function(){return this.clone()._round()},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},floor:function(){return this.clone()._floor()},_floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){return this.clone()._ceil()},_ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},trunc:function(){return this.clone()._trunc()},_trunc:function(){this.x=F(this.x);this.y=F(this.y);return this},
distanceTo:function(a){a=X(a);var g=a.x-this.x;a=a.y-this.y;return Math.sqrt(g*g+a*a)},equals:function(a){a=X(a);return a.x===this.x&&a.y===this.y},contains:function(a){a=X(a);return Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+Ca(this.x)+", "+Ca(this.y)+")"}};ra.prototype={extend:function(a){a=X(a);this.min||this.max?(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(a.y,
this.max.y)):(this.min=a.clone(),this.max=a.clone());return this},getCenter:function(a){return new E((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return new E(this.min.x,this.max.y)},getTopRight:function(){return new E(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){a="number"===typeof a[0]||a instanceof E?X(a):ya(a);if(a instanceof
ra){var g=a.min;a=a.max}else g=a;return g.x>=this.min.x&&a.x<=this.max.x&&g.y>=this.min.y&&a.y<=this.max.y},intersects:function(a){a=ya(a);var g=this.min,n=this.max,z=a.min;a=a.max;var T=a.y>=g.y&&z.y<=n.y;return a.x>=g.x&&z.x<=n.x&&T},overlaps:function(a){a=ya(a);var g=this.min,n=this.max,z=a.min;a=a.max;var T=a.y>g.y&&z.y<n.y;return a.x>g.x&&z.x<n.x&&T},isValid:function(){return!(!this.min||!this.max)}};c.prototype={extend:function(a){var g=this._southWest,n=this._northEast;if(a instanceof f)var z=
a;else if(a instanceof c){if(z=a._southWest,a=a._northEast,!z||!a)return this}else return a?this.extend(k(a)||d(a)):this;g||n?(g.lat=Math.min(z.lat,g.lat),g.lng=Math.min(z.lng,g.lng),n.lat=Math.max(a.lat,n.lat),n.lng=Math.max(a.lng,n.lng)):(this._southWest=new f(z.lat,z.lng),this._northEast=new f(a.lat,a.lng));return this},pad:function(a){var g=this._southWest,n=this._northEast,z=Math.abs(g.lat-n.lat)*a;a*=Math.abs(g.lng-n.lng);return new c(new f(g.lat-z,g.lng-a),new f(n.lat+z,n.lng+a))},getCenter:function(){return new f((this._southWest.lat+
this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new f(this.getNorth(),this.getWest())},getSouthEast:function(){return new f(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){a=
"number"===typeof a[0]||a instanceof f||"lat"in a?k(a):d(a);var g=this._southWest,n=this._northEast;if(a instanceof c){var z=a.getSouthWest();a=a.getNorthEast()}else z=a;return z.lat>=g.lat&&a.lat<=n.lat&&z.lng>=g.lng&&a.lng<=n.lng},intersects:function(a){a=d(a);var g=this._southWest,n=this._northEast,z=a.getSouthWest();a=a.getNorthEast();var T=a.lng>=g.lng&&z.lng<=n.lng;return a.lat>=g.lat&&z.lat<=n.lat&&T},overlaps:function(a){a=d(a);var g=this._southWest,n=this._northEast,z=a.getSouthWest();a=
a.getNorthEast();var T=a.lng>g.lng&&z.lng<n.lng;return a.lat>g.lat&&z.lat<n.lat&&T},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join()},equals:function(a,g){if(!a)return!1;a=d(a);return this._southWest.equals(a.getSouthWest(),g)&&this._northEast.equals(a.getNorthEast(),g)},isValid:function(){return!(!this._southWest||!this._northEast)}};f.prototype={equals:function(a,g){if(!a)return!1;a=k(a);return Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-
a.lng))<=(void 0===g?1E-9:g)},toString:function(a){return"LatLng("+Ca(this.lat,a)+", "+Ca(this.lng,a)+")"},distanceTo:function(a){return sa.distance(this,k(a))},wrap:function(){return sa.wrapLatLng(this)},toBounds:function(a){a=180*a/40075017;var g=a/Math.cos(Math.PI/180*this.lat);return d([this.lat-a,this.lng-g],[this.lat+a,this.lng+g])},clone:function(){return new f(this.lat,this.lng,this.alt)}};var Z={latLngToPoint:function(a,g){a=this.projection.project(a);g=this.scale(g);return this.transformation._transform(a,
g)},pointToLatLng:function(a,g){g=this.scale(g);a=this.transformation.untransform(a,g);return this.projection.unproject(a)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var g=this.projection.bounds,n=this.scale(a);a=this.transformation.transform(g.min,n);g=this.transformation.transform(g.max,
n);return new ra(a,g)},infinite:!1,wrapLatLng:function(a){var g=this.wrapLng?ha(a.lng,this.wrapLng,!0):a.lng,n=this.wrapLat?ha(a.lat,this.wrapLat,!0):a.lat;return new f(n,g,a.alt)},wrapLatLngBounds:function(a){var g=a.getCenter(),n=this.wrapLatLng(g),z=g.lat-n.lat;g=g.lng-n.lng;if(0===z&&0===g)return a;n=a.getSouthWest();a=a.getNorthEast();n=new f(n.lat-z,n.lng-g);z=new f(a.lat-z,a.lng-g);return new c(n,z)}},sa=ka({},Z,{wrapLng:[-180,180],R:6371E3,distance:function(a,g){var n=Math.PI/180,z=Math.sin((g.lat-
a.lat)*n/2),T=Math.sin((g.lng-a.lng)*n/2);a=z*z+Math.cos(a.lat*n)*Math.cos(g.lat*n)*T*T;return 2*this.R*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}}),ta={R:6378137,MAX_LATITUDE:85.0511287798,project:function(a){var g=Math.PI/180,n=this.MAX_LATITUDE;n=Math.sin(Math.max(Math.min(n,a.lat),-n)*g);return new E(this.R*a.lng*g,this.R*Math.log((1+n)/(1-n))/2)},unproject:function(a){var g=180/Math.PI;return new f((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*g,a.x*g/this.R)},bounds:function(){var a=6378137*Math.PI;
return new ra([-a,-a],[a,a])}()};p.prototype={transform:function(a,g){return this._transform(a.clone(),g)},_transform:function(a,g){g=g||1;a.x=g*(this._a*a.x+this._b);a.y=g*(this._c*a.y+this._d);return a},untransform:function(a,g){g=g||1;return new E((a.x/g-this._b)/this._a,(a.y/g-this._d)/this._c)}};var Ya=ka({},sa,{code:"EPSG:3857",projection:ta,transformation:function(){var a=.5/(Math.PI*ta.R);return v(a,.5,-a,.5)}()}),ib=ka({},Ya,{code:"EPSG:900913"}),Qa=document.documentElement.style,lb="ActiveXObject"in
window,Ab=lb&&!document.addEventListener,Kb="msLaunchUri"in navigator&&!("documentMode"in document),rc=J("webkit"),xc=J("android"),bc=J("android 2")||J("android 3"),Dc=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Rc=xc&&J("Google")&&537>Dc&&!("AudioNode"in window),Lc=!!window.opera,ed=!Kb&&J("chrome"),Sc=J("gecko")&&!rc&&!Lc&&!lb,sc=!ed&&J("safari"),Fc=J("phantom"),Qd="OTransition"in Qa,Gd=0===navigator.platform.indexOf("Win"),Tc=lb&&"transition"in Qa,Ic="WebKitCSSMatrix"in window&&
"m11"in new window.WebKitCSSMatrix&&!bc,Xc="MozPerspective"in Qa,Vd=!window.L_DISABLE_3D&&(Tc||Ic||Xc)&&!Qd&&!Fc,Rd="undefined"!==typeof orientation||J("mobile"),Hc=Rd&&rc,gf=Rd&&Ic,ne=!window.PointerEvent&&window.MSPointerEvent,Xd=!(!window.PointerEvent&&!ne),fe=!window.L_NO_TOUCH&&(Xd||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),zc=Rd&&Lc,oe=Rd&&Sc,nd=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),Yd=function(){var a=
!1;try{var g=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",na,g);window.removeEventListener("testPassiveEventSupport",na,g)}catch(n){}return a}(),re=!!document.createElement("canvas").getContext,Sd=!(!document.createElementNS||!y("svg").createSVGRect),ce=!Sd&&function(){try{var a=document.createElement("div");a.innerHTML='\x3cv:shape adj\x3d"1"/\x3e';var g=a.firstChild;g.style.behavior="url(#default#VML)";return g&&"object"===typeof g.adj}catch(n){return!1}}(),
Ae={ie:lb,ielt9:Ab,edge:Kb,webkit:rc,android:xc,android23:bc,androidStock:Rc,opera:Lc,chrome:ed,gecko:Sc,safari:sc,phantom:Fc,opera12:Qd,win:Gd,ie3d:Tc,webkit3d:Ic,gecko3d:Xc,any3d:Vd,mobile:Rd,mobileWebkit:Hc,mobileWebkit3d:gf,msPointer:ne,pointer:Xd,touch:fe,mobileOpera:zc,mobileGecko:oe,retina:nd,passiveEvents:Yd,canvas:re,svg:Sd,vml:ce},Ue=ne?"MSPointerDown":"pointerdown",df=ne?"MSPointerMove":"pointermove",t=ne?"MSPointerUp":"pointerup",C=ne?"MSPointerCancel":"pointercancel",S={},ia=!1,va=ne?
"MSPointerDown":Xd?"pointerdown":"touchstart",Ea=ne?"MSPointerUp":Xd?"pointerup":"touchend",Ua=Ta(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),mb=Ta(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),hb="webkitTransition"===mb||"OTransition"===mb?mb+"End":"transitionend",kb;if("onselectstart"in document){var Yb=function(){Rb(window,"selectstart",ob)};var ic=function(){Ga(window,"selectstart",ob)}}else{var tc=Ta(["userSelect","WebkitUserSelect",
"OUserSelect","MozUserSelect","msUserSelect"]);Yb=function(){if(tc){var a=document.documentElement.style;kb=a[tc];a[tc]="none"}};ic=function(){tc&&(document.documentElement.style[tc]=kb,kb=void 0)}}var $c,Gc,ld={TRANSFORM:Ua,TRANSITION:mb,TRANSITION_END:hb,get:Ma,getStyle:fb,create:oa,remove:la,empty:ua,toFront:G,toBack:qa,hasClass:Aa,addClass:Na,removeClass:K,setClass:D,getClass:U,setOpacity:ma,testProp:Ta,setTransform:za,setPosition:Ia,getPosition:Pa,disableTextSelection:Yb,enableTextSelection:ic,
disableImageDrag:rb,enableImageDrag:wb,preventOutline:Cb,restoreOutline:Gb,getSizedParentNode:gc,getScale:$b},gd="_leaflet_events",Ud={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"},Mc=Gd&&ed?2*window.devicePixelRatio:Sc?window.devicePixelRatio:1,qd={},Id={on:Rb,off:Ga,stopPropagation:Ba,disableScrollPropagation:db,disableClickPropagation:ub,preventDefault:ob,stop:Bb,getMousePosition:yb,getWheelDelta:Db,fakeStop:Vb,skipped:sb,isExternalTarget:oc,addListener:Rb,
removeListener:Ga},Qc=w.extend({run:function(a,g,n,z){this.stop();this._el=a;this._inProgress=!0;this._duration=n||.25;this._easeOutPower=1/Math.max(z||.5,.2);this._startPos=Pa(a);this._offset=g.subtract(this._startPos);this._startTime=+new Date;this.fire("start");this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ja(this._animate,this);this._step()},_step:function(a){var g=+new Date-this._startTime,n=1E3*this._duration;g<n?this._runFrame(this._easeOut(g/
n),a):(this._runFrame(1),this._complete())},_runFrame:function(a,g){a=this._startPos.add(this._offset.multiplyBy(a));g&&a._round();Ia(this._el,a);this.fire("step")},_complete:function(){N(this._animId);this._inProgress=!1;this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Cc=w.extend({options:{crs:Ya,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,
transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,g){g=Q(this,g);this._handlers=[];this._layers={};this._zoomBoundLayers={};this._sizeChanged=!0;this._initContainer(a);this._initLayout();this._onResize=Fa(this._onResize,this);this._initEvents();g.maxBounds&&this.setMaxBounds(g.maxBounds);void 0!==g.zoom&&(this._zoom=this._limitZoom(g.zoom));g.center&&void 0!==g.zoom&&this.setView(k(g.center),g.zoom,{reset:!0});this.callInitHooks();if(this._zoomAnimated=mb&&Vd&&
!zc&&this.options.zoomAnimation)this._createAnimProxy(),Rb(this._proxy,hb,this._catchTransitionEnd,this);this._addLayers(this.options.layers)},setView:function(a,g,n){g=void 0===g?this._zoom:this._limitZoom(g);a=this._limitCenter(k(a),g,this.options.maxBounds);n=n||{};this._stop();if(this._loaded&&!n.reset&&!0!==n&&(void 0!==n.animate&&(n.zoom=ka({animate:n.animate},n.zoom),n.pan=ka({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,g,n.zoom):
this._tryAnimatedPan(a,n.pan)))return clearTimeout(this._sizeTimer),this;this._resetView(a,g);return this},setZoom:function(a,g){return this._loaded?this.setView(this.getCenter(),a,{zoom:g}):(this._zoom=a,this)},zoomIn:function(a,g){a=a||(Vd?this.options.zoomDelta:1);return this.setZoom(this._zoom+a,g)},zoomOut:function(a,g){a=a||(Vd?this.options.zoomDelta:1);return this.setZoom(this._zoom-a,g)},setZoomAround:function(a,g,n){var z=this.getZoomScale(g),T=this.getSize().divideBy(2);a=(a instanceof E?
a:this.latLngToContainerPoint(a)).subtract(T).multiplyBy(1-1/z);T=this.containerPointToLatLng(T.add(a));return this.setView(T,g,{zoom:n})},_getBoundsCenterZoom:function(a,g){g=g||{};a=a.getBounds?a.getBounds():d(a);var n=X(g.paddingTopLeft||g.padding||[0,0]),z=X(g.paddingBottomRight||g.padding||[0,0]),T=this.getBoundsZoom(a,!1,n.add(z));T="number"===typeof g.maxZoom?Math.min(g.maxZoom,T):T;if(Infinity===T)return{center:a.getCenter(),zoom:T};g=z.subtract(n).divideBy(2);n=this.project(a.getSouthWest(),
T);a=this.project(a.getNorthEast(),T);return{center:this.unproject(n.add(a).divideBy(2).add(g),T),zoom:T}},fitBounds:function(a,g){a=d(a);if(!a.isValid())throw Error("Bounds are not valid.");a=this._getBoundsCenterZoom(a,g);return this.setView(a.center,a.zoom,g)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,g){return this.setView(a,this._zoom,{pan:g})},panBy:function(a,g){a=X(a).round();g=g||{};if(!a.x&&!a.y)return this.fire("moveend");if(!0!==g.animate&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),
this.getZoom()),this;this._panAnim||(this._panAnim=new Qc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this));g.noMoveStart||this.fire("movestart");!1!==g.animate?(Na(this._mapPane,"leaflet-pan-anim"),a=this._getMapPanePos().subtract(a).round(),this._panAnim.run(this._mapPane,a,g.duration||.25,g.easeLinearity)):(this._rawPanBy(a),this.fire("move").fire("moveend"));return this},flyTo:function(a,g,n){function z(yc){yc=(Mb*Mb-Ib*Ib+2.0164*(yc?-1:1)*2.0164*fc*fc)/(4.0328*
(yc?Mb:Ib)*fc);yc=Math.sqrt(yc*yc+1)-yc;return 1E-9>yc?-18:Math.log(yc)}function T(yc){return(Math.exp(yc)+Math.exp(-yc))/2}function Da(){var yc=(Date.now()-nc)/Jc,qc=(1-Math.pow(1-yc,1.5))*Oc;if(1>=yc){this._flyToFrame=ja(Da,this);yc=this._move;var jc=this.unproject,Ec=Ja,kd=Ec.add,zd=Ra.subtract(Ja),Ad=zd.multiplyBy,cd=T(lc);var ad=lc+1.42*qc;ad=(Math.exp(ad)-Math.exp(-ad))/2/T(ad);jc=jc.call(this,kd.call(Ec,Ad.call(zd,Ib*(cd*ad-(Math.exp(lc)-Math.exp(-lc))/2)/2.0164/fc)),Jb);Ec=this.getScaleZoom;
qc=Ib*(T(lc)/T(lc+1.42*qc));yc.call(this,jc,Ec.call(this,Ib/qc,Jb),{flyTo:!0})}else this._move(a,g)._moveEnd(!0)}n=n||{};if(!1===n.animate||!Vd)return this.setView(a,g,n);this._stop();var Ja=this.project(this.getCenter()),Ra=this.project(a),eb=this.getSize(),Jb=this._zoom;a=k(a);g=void 0===g?Jb:g;var Ib=Math.max(eb.x,eb.y),Mb=Ib*this.getZoomScale(Jb,g),fc=Ra.distanceTo(Ja)||1,lc=z(0),nc=Date.now(),Oc=(z(1)-lc)/1.42,Jc=n.duration?1E3*n.duration:800*Oc;this._moveStart(!0,n.noMoveStart);Da.call(this);
return this},flyToBounds:function(a,g){a=this._getBoundsCenterZoom(a,g);return this.flyTo(a.center,a.zoom,g)},setMaxBounds:function(a){a=d(a);if(a.isValid())this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds);else return this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds);this.options.maxBounds=a;this._loaded&&this._panInsideMaxBounds();return this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(a){var g=this.options.minZoom;this.options.minZoom=a;
return this._loaded&&g!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var g=this.options.maxZoom;this.options.maxZoom=a;return this._loaded&&g!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,g){this._enforcingBounds=!0;var n=this.getCenter();a=this._limitCenter(n,this._zoom,d(a));n.equals(a)||this.panTo(a,g);this._enforcingBounds=!1;return this},panInside:function(a,
g){g=g||{};var n=X(g.paddingTopLeft||g.padding||[0,0]),z=X(g.paddingBottomRight||g.padding||[0,0]),T=this.getCenter();T=this.project(T);a=this.project(a);var Da=this.getPixelBounds(),Ja=Da.getSize().divideBy(2);Da=ya([Da.min.add(n),Da.max.subtract(z)]);if(!Da.contains(a)){this._enforcingBounds=!0;var Ra=T.subtract(a),eb=X(a.x+Ra.x,a.y+Ra.y);if(a.x<Da.min.x||a.x>Da.max.x)eb.x=T.x-Ra.x,eb.x=0<Ra.x?eb.x+(Ja.x-n.x):eb.x-(Ja.x-z.x);if(a.y<Da.min.y||a.y>Da.max.y)eb.y=T.y-Ra.y,eb.y=0<Ra.y?eb.y+(Ja.y-n.y):
eb.y-(Ja.y-z.y);this.panTo(this.unproject(eb),g);this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=ka({animate:!1,pan:!0},!0===a?{animate:!0}:a);var g=this.getSize();this._sizeChanged=!0;this._lastCenter=null;var n=this.getSize(),z=g.divideBy(2).round(),T=n.divideBy(2).round();z=z.subtract(T);if(!z.x&&!z.y)return this;a.animate&&a.pan?this.panBy(z):(a.pan&&this._rawPanBy(z),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=
setTimeout(Fa(this.fire,this,"moveend"),200)):this.fire("moveend"));return this.fire("resize",{oldSize:g,newSize:n})},stop:function(){this.setZoom(this._limitZoom(this._zoom));this.options.zoomSnap||this.fire("viewreset");return this._stop()},locate:function(a){a=this._locateOptions=ka({timeout:1E4,watch:!1},a);if(!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=Fa(this._handleGeolocationResponse,this),n=Fa(this._handleGeolocationError,
this);a.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,n,a):navigator.geolocation.getCurrentPosition(g,n,a);return this},stopLocate:function(){navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId);this._locateOptions&&(this._locateOptions.setView=!1);return this},_handleGeolocationError:function(a){var g=a.code;a=a.message||(1===g?"permission denied":2===g?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&
this.fitWorld();this.fire("locationerror",{code:g,message:"Geolocation error: "+a+"."})},_handleGeolocationResponse:function(a){var g=new f(a.coords.latitude,a.coords.longitude),n=g.toBounds(2*a.coords.accuracy),z=this._locateOptions;if(z.setView){var T=this.getBoundsZoom(n);this.setView(g,z.maxZoom?Math.min(T,z.maxZoom):T)}g={latlng:g,bounds:n,timestamp:a.timestamp};for(var Da in a.coords)"number"===typeof a.coords[Da]&&(g[Da]=a.coords[Da]);this.fire("locationfound",g)},addHandler:function(a,g){if(!g)return this;
g=this[a]=new g(this);this._handlers.push(g);this.options[a]&&g.enable();return this},remove:function(){this._initEvents(!0);this.off("moveend",this._panInsideMaxBounds);if(this._containerId!==this._container._leaflet_id)throw Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(g){this._containerId=this._container._leaflet_id=void 0}void 0!==this._locationWatchId&&this.stopLocate();this._stop();la(this._mapPane);this._clearControlPos&&
this._clearControlPos();this._resizeRequest&&(N(this._resizeRequest),this._resizeRequest=null);this._clearHandlers();this._loaded&&this.fire("unload");for(var a in this._layers)this._layers[a].remove();for(a in this._panes)la(this._panes[a]);this._layers=[];this._panes=[];delete this._mapPane;delete this._renderer;return this},createPane:function(a,g){var n="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":"");g=oa("div",n,g||this._mapPane);a&&(this._panes[a]=g);return g},getCenter:function(){this._checkIfLoaded();
return this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),g=this.unproject(a.getBottomLeft());a=this.unproject(a.getTopRight());return new c(g,a)},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?Infinity:this._layersMaxZoom:
this.options.maxZoom},getBoundsZoom:function(a,g,n){a=d(a);n=X(n||[0,0]);var z=this.getZoom()||0,T=this.getMinZoom(),Da=this.getMaxZoom(),Ja=a.getNorthWest();a=a.getSouthEast();n=this.getSize().subtract(n);var Ra=ya(this.project(a,z),this.project(Ja,z)).getSize();Ja=Vd?this.options.zoomSnap:1;a=n.x/Ra.x;n=n.y/Ra.y;z=this.getScaleZoom(g?Math.max(a,n):Math.min(a,n),z);Ja&&(z=Ja/100*Math.round(z/(Ja/100)),z=g?Math.ceil(z/Ja)*Ja:Math.floor(z/Ja)*Ja);return Math.max(T,Math.min(Da,z))},getSize:function(){if(!this._size||
this._sizeChanged)this._size=new E(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1;return this._size.clone()},getPixelBounds:function(a,g){a=this._getTopLeftPoint(a,g);return new ra(a,a.add(this.getSize()))},getPixelOrigin:function(){this._checkIfLoaded();return this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(void 0===a?this.getZoom():a)},getPane:function(a){return"string"===typeof a?this._panes[a]:a},getPanes:function(){return this._panes},
getContainer:function(){return this._container},getZoomScale:function(a,g){var n=this.options.crs;g=void 0===g?this._zoom:g;return n.scale(a)/n.scale(g)},getScaleZoom:function(a,g){var n=this.options.crs;g=void 0===g?this._zoom:g;a=n.zoom(a*n.scale(g));return isNaN(a)?Infinity:a},project:function(a,g){g=void 0===g?this._zoom:g;return this.options.crs.latLngToPoint(k(a),g)},unproject:function(a,g){g=void 0===g?this._zoom:g;return this.options.crs.pointToLatLng(X(a),g)},layerPointToLatLng:function(a){a=
X(a).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(a){return this.project(k(a))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(k(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(d(a))},distance:function(a,g){return this.options.crs.distance(k(a),k(g))},containerPointToLayerPoint:function(a){return X(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return X(a).add(this._getMapPanePos())},
containerPointToLatLng:function(a){a=this.containerPointToLayerPoint(X(a));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(k(a)))},mouseEventToContainerPoint:function(a){return yb(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){a=
this._container=Ma(a);if(!a)throw Error("Map container not found.");if(a._leaflet_id)throw Error("Map container is already initialized.");Rb(a,"scroll",this._onScroll,this);this._containerId=u(a)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Vd;Na(a,"leaflet-container"+(fe?" leaflet-touch":"")+(nd?" leaflet-retina":"")+(Ab?" leaflet-oldie":"")+(sc?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=fb(a,"position");"absolute"!==
g&&"relative"!==g&&"fixed"!==g&&(a.style.position="relative");this._initPanes();this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={};this._mapPane=this.createPane("mapPane",this._container);Ia(this._mapPane,new E(0,0));this.createPane("tilePane");this.createPane("shadowPane");this.createPane("overlayPane");this.createPane("markerPane");this.createPane("tooltipPane");this.createPane("popupPane");this.options.markerZoomAnimation||(Na(a.markerPane,
"leaflet-zoom-hide"),Na(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,g){Ia(this._mapPane,new E(0,0));var n=!this._loaded;this._loaded=!0;g=this._limitZoom(g);this.fire("viewprereset");var z=this._zoom!==g;this._moveStart(z,!1)._move(a,g)._moveEnd(z);this.fire("viewreset");n&&this.fire("load")},_moveStart:function(a,g){a&&this.fire("zoomstart");g||this.fire("movestart");return this},_move:function(a,g,n){void 0===g&&(g=this._zoom);var z=this._zoom!==g;this._zoom=g;this._lastCenter=a;this._pixelOrigin=
this._getNewPixelOrigin(a);(z||n&&n.pinch)&&this.fire("zoom",n);return this.fire("move",n)},_moveEnd:function(a){a&&this.fire("zoomend");return this.fire("moveend")},_stop:function(){N(this._flyToFrame);this._panAnim&&this._panAnim.stop();return this},_rawPanBy:function(a){Ia(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw Error("Set map center and zoom first.");
},_initEvents:function(a){this._targets={};this._targets[u(this._container)]=this;var g=a?Ga:Rb;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this);this.options.trackResize&&g(window,"resize",this._onResize,this);Vd&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){N(this._resizeRequest);this._resizeRequest=ja(function(){this.invalidateSize({debounceMoveend:!0})},
this)},_onScroll:function(){this._container.scrollTop=0;this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,g){for(var n=[],z,T="mouseout"===g||"mouseover"===g,Da=a.target||a.srcElement,Ja=!1;Da;){if((z=this._targets[u(Da)])&&("click"===g||"preclick"===g)&&!a._simulated&&this._draggableMoved(z)){Ja=!0;break}if(z&&z.listens(g,
!0)){if(T&&!oc(Da,a))break;n.push(z);if(T)break}if(Da===this._container)break;Da=Da.parentNode}n.length||Ja||T||!oc(Da,a)||(n=[this]);return n},_handleDOMEvent:function(a){if(this._loaded&&!sb(a)){var g=a.type;"mousedown"!==g&&"keypress"!==g&&"keyup"!==g&&"keydown"!==g||Cb(a.target||a.srcElement);this._fireDOMEvent(a,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,g,n){if("click"===a.type){var z=ka({},a);z.type="preclick";this._fireDOMEvent(z,z.type,
n)}if(!a._stopped&&(n=(n||[]).concat(this._findEventTargets(a,g)),n.length)){var T=n[0];"contextmenu"===g&&T.listens(g,!0)&&ob(a);z={originalEvent:a};if("keypress"!==a.type&&"keydown"!==a.type&&"keyup"!==a.type){var Da=T.getLatLng&&(!T._radius||10>=T._radius);z.containerPoint=Da?this.latLngToContainerPoint(T.getLatLng()):this.mouseEventToContainerPoint(a);z.layerPoint=this.containerPointToLayerPoint(z.containerPoint);z.latlng=Da?T.getLatLng():this.layerPointToLatLng(z.layerPoint)}for(a=0;a<n.length&&
!(n[a].fire(g,z,!0),z.originalEvent._stopped||!1===n[a].options.bubblingMouseEvents&&-1!==aa(this._mouseEvents,g));a++);}},_draggableMoved:function(a){a=a.dragging&&a.dragging.enabled()?a:this;return a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,g=this._handlers.length;a<g;a++)this._handlers[a].disable()},whenReady:function(a,g){if(this._loaded)a.call(g||this,{target:this});else this.on("load",a,g);return this},_getMapPanePos:function(){return Pa(this._mapPane)||
new E(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,g){return(a&&void 0!==g?this._getNewPixelOrigin(a,g):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,g){var n=this.getSize()._divideBy(2);return this.project(a,g)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,g,n){n=this._getNewPixelOrigin(n,g);return this.project(a,g)._subtract(n)},_latLngBoundsToNewLayerBounds:function(a,
g,n){n=this._getNewPixelOrigin(n,g);return ya([this.project(a.getSouthWest(),g)._subtract(n),this.project(a.getNorthWest(),g)._subtract(n),this.project(a.getSouthEast(),g)._subtract(n),this.project(a.getNorthEast(),g)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,g,n){if(!n)return a;var z=this.project(a,
g),T=this.getSize().divideBy(2);T=new ra(z.subtract(T),z.add(T));n=this._getBoundsOffset(T,n,g);return n.round().equals([0,0])?a:this.unproject(z.add(n),g)},_limitOffset:function(a,g){if(!g)return a;var n=this.getPixelBounds();n=new ra(n.min.add(a),n.max.add(a));return a.add(this._getBoundsOffset(n,g))},_getBoundsOffset:function(a,g,n){n=ya(this.project(g.getNorthEast(),n),this.project(g.getSouthWest(),n));g=n.min.subtract(a.min);n=n.max.subtract(a.max);a=this._rebound(g.x,-n.x);g=this._rebound(g.y,
-n.y);return new E(a,g)},_rebound:function(a,g){return 0<a+g?Math.round(a-g)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(g))},_limitZoom:function(a){var g=this.getMinZoom(),n=this.getMaxZoom(),z=Vd?this.options.zoomSnap:1;z&&(a=Math.round(a/z)*z);return Math.max(g,Math.min(n,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){K(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(a,g){a=this._getCenterOffset(a)._trunc();if(!0!==(g&&
g.animate)&&!this.getSize().contains(a))return!1;this.panBy(a,g);return!0},_createAnimProxy:function(){var a=this._proxy=oa("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a);this.on("zoomanim",function(g){var n=Ua,z=this._proxy.style[n];za(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1));z===this._proxy.style[n]&&this._animatingZoom&&this._onZoomTransitionEnd()},this);this.on("load moveend",this._animMoveEnd,this);this._on("unload",this._destroyAnimProxy,
this)},_destroyAnimProxy:function(){la(this._proxy);this.off("load moveend",this._animMoveEnd,this);delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),g=this.getZoom();za(this._proxy,this.project(a,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(a){this._animatingZoom&&0<=a.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,g,
n){if(this._animatingZoom)return!0;n=n||{};if(!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var z=this.getZoomScale(g);z=this._getCenterOffset(a)._divideBy(1-1/z);if(!0!==n.animate&&!this.getSize().contains(z))return!1;ja(function(){this._moveStart(!0,!1)._animateZoom(a,g,!0)},this);return!0},_animateZoom:function(a,g,n,z){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=g,Na(this._mapPane,
"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:g,noUpdate:z}),setTimeout(Fa(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&K(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),ja(function(){this._moveEnd(!0)},this))}}),md=O.extend({options:{position:"topright"},initialize:function(a){Q(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var g=
this._map;g&&g.removeControl(this);this.options.position=a;g&&g.addControl(this);return this},getContainer:function(){return this._container},addTo:function(a){this.remove();this._map=a;var g=this._container=this.onAdd(a),n=this.getPosition();a=a._controlCorners[n];Na(g,"leaflet-control");-1!==n.indexOf("bottom")?a.insertBefore(g,a.firstChild):a.appendChild(g);this._map.on("unload",this.remove,this);return this},remove:function(){if(!this._map)return this;la(this._container);if(this.onRemove)this.onRemove(this._map);
this._map.off("unload",this.remove,this);this._map=null;return this},_refocusOnMap:function(a){this._map&&a&&0<a.screenX&&0<a.screenY&&this._map.getContainer().focus()}}),Pc=function(a){return new md(a)};Cc.include({addControl:function(a){a.addTo(this);return this},removeControl:function(a){a.remove();return this},_initControlPos:function(){function a(z,T){g[z+T]=oa("div","leaflet-"+z+" leaflet-"+T,n)}var g=this._controlCorners={},n=this._controlContainer=oa("div","leaflet-control-container",this._container);
a("top","left");a("top","right");a("bottom","left");a("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)la(this._controlCorners[a]);la(this._controlContainer);delete this._controlCorners;delete this._controlContainer}});var Cd=md.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,g,n,z){return n<z?-1:z<n?1:0}},initialize:function(a,g,n){Q(this,n);this._layerControlInputs=[];this._layers=[];this._lastZIndex=
0;this._handlingClick=!1;for(var z in a)this._addLayer(a[z],z);for(z in g)this._addLayer(g[z],z,!0)},onAdd:function(a){this._initLayout();this._update();this._map=a;a.on("zoomend",this._checkDisabledLayers,this);for(a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){md.prototype.addTo.call(this,a);return this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=
0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,g){this._addLayer(a,g);return this._map?this._update():this},addOverlay:function(a,g){this._addLayer(a,g,!0);return this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);(a=this._getLayer(u(a)))&&this._layers.splice(this._layers.indexOf(a),1);return this._map?this._update():this},expand:function(){Na(this._container,"leaflet-control-layers-expanded");
this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);a<this._section.clientHeight?(Na(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):K(this._section,"leaflet-control-layers-scrollbar");this._checkDisabledLayers();return this},collapse:function(){K(this._container,"leaflet-control-layers-expanded");return this},_initLayout:function(){var a=this._container=oa("div","leaflet-control-layers"),g=this.options.collapsed;a.setAttribute("aria-haspopup",
!0);ub(a);db(a);var n=this._section=oa("section","leaflet-control-layers-list");g&&(this._map.on("click",this.collapse,this),xc||Rb(a,{mouseenter:this.expand,mouseleave:this.collapse},this));var z=this._layersLink=oa("a","leaflet-control-layers-toggle",a);z.href="#";z.title="Layers";fe?(Rb(z,"click",Bb),Rb(z,"click",this.expand,this)):Rb(z,"focus",this.expand,this);g||this.expand();this._baseLayersList=oa("div","leaflet-control-layers-base",n);this._separator=oa("div","leaflet-control-layers-separator",
n);this._overlaysList=oa("div","leaflet-control-layers-overlays",n);a.appendChild(n)},_getLayer:function(a){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&u(this._layers[g].layer)===a)return this._layers[g]},_addLayer:function(a,g,n){if(this._map)a.on("add remove",this._onLayerChange,this);this._layers.push({layer:a,name:g,overlay:n});this.options.sortLayers&&this._layers.sort(Fa(function(z,T){return this.options.sortFunction(z.layer,T.layer,z.name,T.name)},this));this.options.autoZIndex&&
a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex));this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ua(this._baseLayersList);ua(this._overlaysList);this._layerControlInputs=[];var a,g=0;for(a=0;a<this._layers.length;a++){var n=this._layers[a];this._addItem(n);var z=z||n.overlay;var T=T||!n.overlay;g+=n.overlay?0:1}this.options.hideSingleBase&&(T=T&&1<g,this._baseLayersList.style.display=T?"":"none");this._separator.style.display=z&&T?"":"none";return this},
_onLayerChange:function(a){this._handlingClick||this._update();var g=this._getLayer(u(a.target));(a=g.overlay?"add"===a.type?"overlayadd":"overlayremove":"add"===a.type?"baselayerchange":null)&&this._map.fire(a,g)},_createRadioElement:function(a,g){a='\x3cinput type\x3d"radio" class\x3d"leaflet-control-layers-selector" name\x3d"'+a+'"'+(g?' checked\x3d"checked"':"")+"/\x3e";g=document.createElement("div");g.innerHTML=a;return g.firstChild},_addItem:function(a){var g=document.createElement("label"),
n=this._map.hasLayer(a.layer);if(a.overlay){var z=document.createElement("input");z.type="checkbox";z.className="leaflet-control-layers-selector";z.defaultChecked=n}else z=this._createRadioElement("leaflet-base-layers_"+u(this),n);this._layerControlInputs.push(z);z.layerId=u(a.layer);Rb(z,"click",this._onInputClick,this);n=document.createElement("span");n.innerHTML=" "+a.name;var T=document.createElement("div");g.appendChild(T);T.appendChild(z);T.appendChild(n);(a.overlay?this._overlaysList:this._baseLayersList).appendChild(g);
this._checkDisabledLayers();return g},_onInputClick:function(){var a=this._layerControlInputs,g=[],n=[];this._handlingClick=!0;for(var z=a.length-1;0<=z;z--){var T=a[z];var Da=this._getLayer(T.layerId).layer;T.checked?g.push(Da):T.checked||n.push(Da)}for(z=0;z<n.length;z++)this._map.hasLayer(n[z])&&this._map.removeLayer(n[z]);for(z=0;z<g.length;z++)this._map.hasLayer(g[z])||this._map.addLayer(g[z]);this._handlingClick=!1;this._refocusOnMap()},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,
g,n,z=this._map.getZoom(),T=a.length-1;0<=T;T--)g=a[T],n=this._getLayer(g.layerId).layer,g.disabled=void 0!==n.options.minZoom&&z<n.options.minZoom||void 0!==n.options.maxZoom&&z>n.options.maxZoom},_expandIfNotCollapsed:function(){this._map&&!this.options.collapsed&&this.expand();return this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),jd=md.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"\x26#x2212;",zoomOutTitle:"Zoom out"},
onAdd:function(a){var g=oa("div","leaflet-control-zoom leaflet-bar"),n=this.options;this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,"leaflet-control-zoom-in",g,this._zoomIn);this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,"leaflet-control-zoom-out",g,this._zoomOut);this._updateDisabled();a.on("zoomend zoomlevelschange",this._updateDisabled,this);return g},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){this._disabled=
!0;this._updateDisabled();return this},enable:function(){this._disabled=!1;this._updateDisabled();return this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,g,n,z,T){n=oa("a",n,z);n.innerHTML=a;n.href="#";n.title=g;n.setAttribute("role","button");
n.setAttribute("aria-label",g);ub(n);Rb(n,"click",Bb);Rb(n,"click",T,this);Rb(n,"click",this._refocusOnMap,this);return n},_updateDisabled:function(){var a=this._map;K(this._zoomInButton,"leaflet-disabled");K(this._zoomOutButton,"leaflet-disabled");(this._disabled||a._zoom===a.getMinZoom())&&Na(this._zoomOutButton,"leaflet-disabled");(this._disabled||a._zoom===a.getMaxZoom())&&Na(this._zoomInButton,"leaflet-disabled")}});Cc.mergeOptions({zoomControl:!0});Cc.addInitHook(function(){this.options.zoomControl&&
(this.zoomControl=new jd,this.addControl(this.zoomControl))});var od=md.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var g=oa("div","leaflet-control-scale"),n=this.options;this._addScales(n,"leaflet-control-scale-line",g);a.on(n.updateWhenIdle?"moveend":"move",this._update,this);a.whenReady(this._update,this);return g},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,g,n){a.metric&&(this._mScale=
oa("div",g,n));a.imperial&&(this._iScale=oa("div",g,n))},_update:function(){var a=this._map,g=a.getSize().y/2;a=a.distance(a.containerPointToLatLng([0,g]),a.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(a)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a);this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var g=this._getRoundNum(a);this._updateScale(this._mScale,1E3>g?g+" m":g/1E3+" km",g/a)},_updateImperial:function(a){a*=3.2808399;
if(5280<a){a/=5280;var g=this._getRoundNum(a);this._updateScale(this._iScale,g+" mi",g/a)}else g=this._getRoundNum(a),this._updateScale(this._iScale,g+" ft",g/a)},_updateScale:function(a,g,n){a.style.width=Math.round(this.options.maxWidth*n)+"px";a.innerHTML=g},_getRoundNum:function(a){var g=Math.pow(10,(Math.floor(a)+"").length-1);a/=g;return g*(10<=a?10:5<=a?5:3<=a?3:2<=a?2:1)}}),rd=md.extend({options:{position:"bottomright",prefix:'\x3ca href\x3d"https://leafletjs.com" title\x3d"A JS library for interactive maps"\x3eLeaflet\x3c/a\x3e'},
initialize:function(a){Q(this,a);this._attributions={}},onAdd:function(a){a.attributionControl=this;this._container=oa("div","leaflet-control-attribution");ub(this._container);for(var g in a._layers)a._layers[g].getAttribution&&this.addAttribution(a._layers[g].getAttribution());this._update();return this._container},setPrefix:function(a){this.options.prefix=a;this._update();return this},addAttribution:function(a){if(!a)return this;this._attributions[a]||(this._attributions[a]=0);this._attributions[a]++;
this._update();return this},removeAttribution:function(a){if(!a)return this;this._attributions[a]&&(this._attributions[a]--,this._update());return this},_update:function(){if(this._map){var a=[];for(g in this._attributions)this._attributions[g]&&a.push(g);var g=[];this.options.prefix&&g.push(this.options.prefix);a.length&&g.push(a.join(", "));this._container.innerHTML=g.join(" | ")}}});Cc.mergeOptions({attributionControl:!0});Cc.addInitHook(function(){this.options.attributionControl&&(new rd).addTo(this)});
md.Layers=Cd;md.Zoom=jd;md.Scale=od;md.Attribution=rd;Pc.layers=function(a,g,n){return new Cd(a,g,n)};Pc.zoom=function(a){return new jd(a)};Pc.scale=function(a){return new od(a)};Pc.attribution=function(a){return new rd(a)};var Wc=O.extend({initialize:function(a){this._map=a},enable:function(){if(this._enabled)return this;this._enabled=!0;this.addHooks();return this},disable:function(){if(!this._enabled)return this;this._enabled=!1;this.removeHooks();return this},enabled:function(){return!!this._enabled}});
Wc.addTo=function(a,g){a.addHandler(g,this);return this};var hd={Events:r},Kc=fe?"touchstart mousedown":"mousedown",ud={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},qe={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},ye=w.extend({options:{clickTolerance:3},initialize:function(a,g,n,z){Q(this,z);this._element=a;this._dragStartTarget=g||a;this._preventOutline=n},enable:function(){this._enabled||(Rb(this._dragStartTarget,
Kc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ye._dragging===this&&this.finishDrag(),Ga(this._dragStartTarget,Kc,this._onDown,this),this._moved=this._enabled=!1)},_onDown:function(a){if(!a._simulated&&this._enabled&&(this._moved=!1,!(Aa(this._element,"leaflet-zoom-anim")||ye._dragging||a.shiftKey||1!==a.which&&1!==a.button&&!a.touches||(ye._dragging=this,this._preventOutline&&Cb(this._element),rb(),Yb(),this._moving)))){this.fire("down");var g=a.touches?a.touches[0]:
a,n=gc(this._element);this._startPoint=new E(g.clientX,g.clientY);this._parentScale=$b(n);Rb(document,qe[a.type],this._onMove,this);Rb(document,ud[a.type],this._onUp,this)}},_onMove:function(a){if(!a._simulated&&this._enabled)if(a.touches&&1<a.touches.length)this._moved=!0;else{var g=a.touches&&1===a.touches.length?a.touches[0]:a;g=(new E(g.clientX,g.clientY))._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,
ob(a),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Pa(this._element).subtract(g),Na(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Na(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,N(this._animRequest),this._lastEvent=a,this._animRequest=ja(this._updatePosition,this,
!0))}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a);Ia(this._element,this._newPos);this.fire("drag",a)},_onUp:function(a){!a._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){K(document.body,"leaflet-dragging");this._lastTarget&&(K(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var a in qe)Ga(document,qe[a],this._onMove,this),Ga(document,ud[a],this._onUp,this);wb();ic();this._moved&&this._moving&&(N(this._animRequest),
this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)}));this._moving=!1;ye._dragging=!1}}),Xe,Ye={simplify:uc,pointToSegmentDistance:Va,closestPointOnSegment:function(a,g,n){return Bc(a,g,n)},clipSegment:Lb,_getEdgeIntersection:fd,_getBitCode:Yc,_sqClosestPointOnSegment:Bc,isFlat:Zc,_flat:$d},cf={clipPolygon:Zd},ve={project:function(a){return new E(a.lng,a.lat)},unproject:function(a){return new f(a.y,a.x)},bounds:new ra([-180,-90],[180,90])},ue={R:6378137,R_MINOR:6356752.314245179,
bounds:new ra([-2.003750834279E7,-1.549657073972E7],[2.003750834279E7,1.876465623138E7]),project:function(a){var g=Math.PI/180,n=this.R,z=a.lat*g,T=this.R_MINOR/n;T=Math.sqrt(1-T*T);var Da=T*Math.sin(z);z=-n*Math.log(Math.max(Math.tan(Math.PI/4-z/2)/Math.pow((1-Da)/(1+Da),T/2),1E-10));return new E(a.lng*g*n,z)},unproject:function(a){var g=180/Math.PI,n=this.R,z=this.R_MINOR/n;z=Math.sqrt(1-z*z);for(var T=Math.exp(-a.y/n),Da=Math.PI/2-2*Math.atan(T),Ja=0,Ra=.1;15>Ja&&1E-7<Math.abs(Ra);Ja++)Ra=z*Math.sin(Da),
Ra=Math.pow((1-Ra)/(1+Ra),z/2),Ra=Math.PI/2-2*Math.atan(T*Ra)-Da,Da+=Ra;return new f(Da*g,a.x*g/n)}},ff={LonLat:ve,Mercator:ue,SphericalMercator:ta},Oe=ka({},sa,{code:"EPSG:3395",projection:ue,transformation:function(){var a=.5/(Math.PI*ue.R);return v(a,.5,-a,.5)}()}),bf=ka({},sa,{code:"EPSG:4326",projection:ve,transformation:v(1/180,1,-1/180,.5)}),mf=ka({},Z,{projection:ve,transformation:v(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,
g){var n=g.lng-a.lng;a=g.lat-a.lat;return Math.sqrt(n*n+a*a)},infinite:!0});Z.Earth=sa;Z.EPSG3395=Oe;Z.EPSG3857=Ya;Z.EPSG900913=ib;Z.EPSG4326=bf;Z.Simple=mf;var Bd=w.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){a.addLayer(this);return this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){a&&a.removeLayer(this);return this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},
addInteractiveTarget:function(a){this._map._targets[u(a)]=this;return this},removeInteractiveTarget:function(a){delete this._map._targets[u(a)];return this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var g=a.target;if(g.hasLayer(this)){this._map=g;this._zoomAnimated=g._zoomAnimated;if(this.getEvents){var n=this.getEvents();g.on(n,this);this.once("remove",function(){g.off(n,this)},this)}this.onAdd(g);this.getAttribution&&g.attributionControl&&g.attributionControl.addAttribution(this.getAttribution());
this.fire("add");g.fire("layeradd",{layer:this})}}});Cc.include({addLayer:function(a){if(!a._layerAdd)throw Error("The provided object is not a Layer.");var g=u(a);if(this._layers[g])return this;this._layers[g]=a;a._mapToAdd=this;a.beforeAdd&&a.beforeAdd(this);this.whenReady(a._layerAdd,a);return this},removeLayer:function(a){var g=u(a);if(!this._layers[g])return this;if(this._loaded)a.onRemove(this);a.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(a.getAttribution());
delete this._layers[g];this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove"));a._map=a._mapToAdd=null;return this},hasLayer:function(a){return!!a&&u(a)in this._layers},eachLayer:function(a,g){for(var n in this._layers)a.call(g,this._layers[n]);return this},_addLayers:function(a){a=a?Sb(a)?a:[a]:[];for(var g=0,n=a.length;g<n;g++)this.addLayer(a[g])},_addZoomLimit:function(a){if(isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))this._zoomBoundLayers[u(a)]=a,this._updateZoomLevels()},
_removeZoomLimit:function(a){a=u(a);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var a=Infinity,g=-Infinity,n=this._getZoomSpan(),z;for(z in this._zoomBoundLayers){var T=this._zoomBoundLayers[z].options;a=void 0===T.minZoom?a:Math.min(a,T.minZoom);g=void 0===T.maxZoom?g:Math.max(g,T.maxZoom)}this._layersMaxZoom=-Infinity===g?void 0:g;this._layersMinZoom=Infinity===a?void 0:a;n!==this._getZoomSpan()&&this.fire("zoomlevelschange");
void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom);void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ge=Bd.extend({initialize:function(a,g){Q(this,g);this._layers={};var n;if(a)for(g=0,n=a.length;g<n;g++)this.addLayer(a[g])},addLayer:function(a){var g=this.getLayerId(a);this._layers[g]=a;this._map&&this._map.addLayer(a);return this},removeLayer:function(a){a=
a in this._layers?a:this.getLayerId(a);this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]);delete this._layers[a];return this},hasLayer:function(a){return a?("number"===typeof a?a:this.getLayerId(a))in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var g=Array.prototype.slice.call(arguments,1),n;for(n in this._layers){var z=this._layers[n];z[a]&&z[a].apply(z,g)}return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,
a)},eachLayer:function(a,g){for(var n in this._layers)a.call(g,this._layers[n]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];this.eachLayer(a.push,a);return a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return u(a)}}),je=Ge.extend({addLayer:function(a){if(this.hasLayer(a))return this;a.addEventParent(this);Ge.prototype.addLayer.call(this,a);return this.fire("layeradd",{layer:a})},removeLayer:function(a){if(!this.hasLayer(a))return this;
a in this._layers&&(a=this._layers[a]);a.removeEventParent(this);Ge.prototype.removeLayer.call(this,a);return this.fire("layerremove",{layer:a})},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new c,g;for(g in this._layers){var n=this._layers[g];a.extend(n.getBounds?n.getBounds():n.getLatLng())}return a}}),Te=O.extend({options:{popupAnchor:[0,0],
tooltipAnchor:[0,0]},initialize:function(a){Q(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,g){var n=this._getIconUrl(a);if(!n){if("icon"===a)throw Error("iconUrl not set in Icon options (see the docs).");return null}g=this._createImg(n,g&&"IMG"===g.tagName?g:null);this._setIconStyles(g,a);return g},_setIconStyles:function(a,g){var n=this.options,z=n[g+"Size"];"number"===typeof z&&(z=[z,z]);z=
X(z);var T=X("shadow"===g&&n.shadowAnchor||n.iconAnchor||z&&z.divideBy(2,!0));a.className="leaflet-marker-"+g+" "+(n.className||"");T&&(a.style.marginLeft=-T.x+"px",a.style.marginTop=-T.y+"px");z&&(a.style.width=z.x+"px",a.style.height=z.y+"px")},_createImg:function(a,g){g=g||document.createElement("img");g.src=a;return g},_getIconUrl:function(a){return nd&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}}),xe=Te.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",
iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){xe.imagePath||(xe.imagePath=this._detectIconPath());return(this.options.imagePath||xe.imagePath)+Te.prototype._getIconUrl.call(this,a)},_detectIconPath:function(){var a=oa("div","leaflet-default-icon-path",document.body),g=fb(a,"background-image")||fb(a,"backgroundImage");document.body.removeChild(a);return g=null===g||0!==g.indexOf("url")?"":g.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,
"")}}),ke=Wc.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new ye(a,a,!0));this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable();Na(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable();this._marker._icon&&K(this._marker._icon,
"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var g=this._marker,n=g._map,z=this._marker.options.autoPanSpeed,T=this._marker.options.autoPanPadding,Da=Pa(g._icon),Ja=n.getPixelBounds(),Ra=n.getPixelOrigin();T=ya(Ja.min._subtract(Ra).add(T),Ja.max._subtract(Ra).subtract(T));T.contains(Da)||(z=X((Math.max(T.max.x,Da.x)-T.max.x)/(Ja.max.x-T.max.x)-(Math.min(T.min.x,Da.x)-T.min.x)/(Ja.min.x-T.min.x),(Math.max(T.max.y,Da.y)-T.max.y)/
(Ja.max.y-T.max.y)-(Math.min(T.min.y,Da.y)-T.min.y)/(Ja.min.y-T.min.y)).multiplyBy(z),n.panBy(z,{animate:!1}),this._draggable._newPos._add(z),this._draggable._startPos._add(z),Ia(g._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=ja(this._adjustPan.bind(this,a)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng();this._marker.closePopup&&this._marker.closePopup();this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(N(this._panRequest),
this._panRequest=ja(this._adjustPan.bind(this,a)))},_onDrag:function(a){var g=this._marker,n=g._shadow,z=Pa(g._icon),T=g._map.layerPointToLatLng(z);n&&Ia(n,z);g._latlng=T;a.latlng=T;a.oldLatLng=this._oldLatLng;g.fire("move",a).fire("drag",a)},_onDragEnd:function(a){N(this._panRequest);delete this._oldLatLng;this._marker.fire("moveend").fire("dragend",a)}}),Hd=Bd.extend({options:{icon:new xe,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",
shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,g){Q(this,g);this._latlng=k(a)},onAdd:function(a){if(this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation)a.on("zoomanim",this._animateZoom,this);this._initIcon();this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks());delete this.dragging;this._zoomAnimated&&a.off("zoomanim",
this._animateZoom,this);this._removeIcon();this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var g=this._latlng;this._latlng=k(a);this.update();return this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(a){this.options.zIndexOffset=a;return this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){this.options.icon=a;this._map&&(this._initIcon(),
this.update());this._popup&&this.bindPopup(this._popup,this._popup.options);return this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=a.icon.createIcon(this._icon),z=!1;n!==this._icon&&(this._icon&&this._removeIcon(),z=!0,a.title&&(n.title=a.title),"IMG"===n.tagName&&(n.alt=a.alt||
""));Na(n,g);a.keyboard&&(n.tabIndex="0");this._icon=n;if(a.riseOnHover)this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});n=a.icon.createShadow(this._shadow);var T=!1;n!==this._shadow&&(this._removeShadow(),T=!0);n&&(Na(n,g),n.alt="");this._shadow=n;1>a.opacity&&this._updateOpacity();z&&this.getPane().appendChild(this._icon);this._initInteraction();n&&T&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,
mouseout:this._resetZIndex});la(this._icon);this.removeInteractiveTarget(this._icon);this._icon=null},_removeShadow:function(){this._shadow&&la(this._shadow);this._shadow=null},_setPos:function(a){this._icon&&Ia(this._icon,a);this._shadow&&Ia(this._shadow,a);this._zIndex=a.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();
this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(Na(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ke)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable());this.dragging=new ke(this);a&&this.dragging.enable()}},setOpacity:function(a){this.options.opacity=a;this._map&&this._updateOpacity();return this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&ma(this._icon,a);this._shadow&&ma(this._shadow,
a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Od=Bd.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},
beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this);this._reset();this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){this._map&&this._renderer._updatePath(this);return this},setStyle:function(a){Q(this,a);this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds());return this},bringToFront:function(){this._renderer&&
this._renderer._bringToFront(this);return this},bringToBack:function(){this._renderer&&this._renderer._bringToBack(this);return this},getElement:function(){return this._path},_reset:function(){this._project();this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Pe=Od.extend({options:{fill:!0,radius:10},initialize:function(a,g){Q(this,g);this._latlng=k(a);this._radius=this.options.radius},setLatLng:function(a){var g=this._latlng;
this._latlng=k(a);this.redraw();return this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){this.options.radius=this._radius=a;return this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var g=a&&a.radius||this._radius;Od.prototype.setStyle.call(this,a);this.setRadius(g);return this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng);this._updateBounds()},_updateBounds:function(){var a=
this._radius,g=this._radiusY||a,n=this._clickTolerance();a=[a+n,g+n];this._pxBounds=new ra(this._point.subtract(a),this._point.add(a))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),He=Pe.extend({initialize:function(a,g,n){"number"===typeof g&&(g=
ka({},n,{radius:g}));Q(this,g);this._latlng=k(a);if(isNaN(this.options.radius))throw Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){this._mRadius=a;return this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new c(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Od.prototype.setStyle,_project:function(){var a=
this._latlng.lng,g=this._latlng.lat,n=this._map,z=n.options.crs;if(z.distance===sa.distance){var T=Math.PI/180;z=this._mRadius/sa.R/T;var Da=n.project([g+z,a]),Ja=n.project([g-z,a]);Ja=Da.add(Ja).divideBy(2);var Ra=n.unproject(Ja).lat;T=Math.acos((Math.cos(z*T)-Math.sin(g*T)*Math.sin(Ra*T))/(Math.cos(g*T)*Math.cos(Ra*T)))/T;if(isNaN(T)||0===T)T=z/Math.cos(Math.PI/180*g);this._point=Ja.subtract(n.getPixelOrigin());this._radius=isNaN(T)?0:Ja.x-n.project([Ra,a-T]).x;this._radiusY=Ja.y-Da.y}else a=z.unproject(z.project(this._latlng).subtract([this._mRadius,
0])),this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(a).x;this._updateBounds()}}),ae=Od.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,g){Q(this,g);this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){this._setLatLngs(a);return this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var g=Infinity,n=null,z=Bc,T,Da,Ja=0,Ra=this._parts.length;Ja<Ra;Ja++)for(var eb=
this._parts[Ja],Jb=1,Ib=eb.length;Jb<Ib;Jb++){T=eb[Jb-1];Da=eb[Jb];var Mb=z(a,T,Da,!0);Mb<g&&(g=Mb,n=z(a,T,Da))}n&&(n.distance=Math.sqrt(g));return n},getCenter:function(){if(!this._map)throw Error("Must add layer to map before using getCenter()");var a,g,n,z=this._rings[0],T=z.length;if(!T)return null;for(g=a=0;a<T-1;a++)g+=z[a].distanceTo(z[a+1])/2;if(0===g)return this._map.layerPointToLatLng(z[0]);for(n=a=0;a<T-1;a++){var Da=z[a];var Ja=z[a+1];var Ra=Da.distanceTo(Ja);n+=Ra;if(n>g)return a=(n-
g)/Ra,this._map.layerPointToLatLng([Ja.x-a*(Ja.x-Da.x),Ja.y-a*(Ja.y-Da.y)])}},getBounds:function(){return this._bounds},addLatLng:function(a,g){g=g||this._defaultShape();a=k(a);g.push(a);this._bounds.extend(a);return this.redraw()},_setLatLngs:function(a){this._bounds=new c;this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return Zc(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var g=[],n=Zc(a),z=0,T=a.length;z<T;z++)n?(g[z]=k(a[z]),this._bounds.extend(g[z])):
g[z]=this._convertLatLngs(a[z]);return g},_project:function(){var a=new ra;this._rings=[];this._projectLatlngs(this._latlngs,this._rings,a);this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance();a=new E(a,a);this._pxBounds=new ra([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)])},_projectLatlngs:function(a,g,n){var z=a.length,T;if(a[0]instanceof f){var Da=[];for(T=0;T<z;T++)Da[T]=this._map.latLngToLayerPoint(a[T]),
n.extend(Da[T]);g.push(Da)}else for(T=0;T<z;T++)this._projectLatlngs(a[T],g,n)},_clipPoints:function(){var a=this._renderer._bounds;this._parts=[];if(this._pxBounds&&this._pxBounds.intersects(a))if(this.options.noClip)this._parts=this._rings;else{var g=this._parts,n,z,T,Da;var Ja=n=0;for(z=this._rings.length;n<z;n++){var Ra=this._rings[n];var eb=0;for(T=Ra.length;eb<T-1;eb++)if(Da=Lb(Ra[eb],Ra[eb+1],a,eb,!0))if(g[Ja]=g[Ja]||[],g[Ja].push(Da[0]),Da[1]!==Ra[eb+1]||eb===T-2)g[Ja].push(Da[1]),Ja++}}},
_simplifyPoints:function(){for(var a=this._parts,g=this.options.smoothFactor,n=0,z=a.length;n<z;n++)a[n]=uc(a[n],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,g){var n,z,T=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;var Da=0;for(z=this._parts.length;Da<z;Da++){var Ja=this._parts[Da];var Ra=0;var eb=Ja.length;for(n=eb-1;Ra<eb;n=Ra++)if((g||
0!==Ra)&&Va(a,Ja[n],Ja[Ra])<=T)return!0}return!1}});ae._flat=$d;var ze=ae.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw Error("Must add layer to map before using getCenter()");var a,g,n,z,T=this._rings[0],Da=T.length;if(!Da)return null;var Ja=g=n=z=0;for(a=Da-1;Ja<Da;a=Ja++){var Ra=T[Ja];a=T[a];var eb=Ra.y*a.x-a.y*Ra.x;n+=(Ra.x+a.x)*eb;z+=(Ra.y+a.y)*eb;g+=3*eb}return this._map.layerPointToLatLng(0===g?T[0]:
[n/g,z/g])},_convertLatLngs:function(a){a=ae.prototype._convertLatLngs.call(this,a);var g=a.length;2<=g&&a[0]instanceof f&&a[0].equals(a[g-1])&&a.pop();return a},_setLatLngs:function(a){ae.prototype._setLatLngs.call(this,a);Zc(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Zc(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,g=this.options.weight;g=new E(g,g);a=new ra(a.min.subtract(g),a.max.add(g));this._parts=
[];if(this._pxBounds&&this._pxBounds.intersects(a))if(this.options.noClip)this._parts=this._rings;else{g=0;for(var n=this._rings.length,z;g<n;g++)z=Zd(this._rings[g],a,!0),z.length&&this._parts.push(z)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var g=!1,n,z;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;var T=0;for(z=this._parts.length;T<z;T++){var Da=this._parts[T];var Ja=0;var Ra=Da.length;for(n=Ra-1;Ja<Ra;n=Ja++){var eb=Da[Ja];n=Da[n];eb.y>
a.y!==n.y>a.y&&a.x<(n.x-eb.x)*(a.y-eb.y)/(n.y-eb.y)+eb.x&&(g=!g)}}return g||ae.prototype._containsPoint.call(this,a,!0)}}),ee=je.extend({initialize:function(a,g){Q(this,g);this._layers={};a&&this.addData(a)},addData:function(a){var g=Sb(a)?a:a.features,n;if(g){a=0;for(n=g.length;a<n;a++){var z=g[a];(z.geometries||z.geometry||z.features||z.coordinates)&&this.addData(z)}return this}g=this.options;if(g.filter&&!g.filter(a))return this;n=wd(a,g);if(!n)return this;n.feature=zb(a);n.defaultOptions=n.options;
this.resetStyle(n);if(g.onEachFeature)g.onEachFeature(a,n);return this.addLayer(n)},resetStyle:function(a){if(void 0===a)return this.eachLayer(this.resetStyle,this);a.options=ka({},a.defaultOptions);this._setLayerStyle(a,this.options.style);return this},setStyle:function(a){return this.eachLayer(function(g){this._setLayerStyle(g,a)},this)},_setLayerStyle:function(a,g){a.setStyle&&("function"===typeof g&&(g=g(a.feature)),a.setStyle(g))}}),Ze={toGeoJSON:function(a){return Za(this,{type:"Point",coordinates:cc(this.getLatLng(),
a)})}};Hd.include(Ze);He.include(Ze);Pe.include(Ze);ae.include({toGeoJSON:function(a){var g=!Zc(this._latlngs);a=xa(this._latlngs,g?1:0,!1,a);return Za(this,{type:(g?"Multi":"")+"LineString",coordinates:a})}});ze.include({toGeoJSON:function(a){var g=!Zc(this._latlngs),n=g&&!Zc(this._latlngs[0]);a=xa(this._latlngs,n?2:g?1:0,!0,a);g||(a=[a]);return Za(this,{type:(n?"Multi":"")+"Polygon",coordinates:a})}});Ge.include({toMultiPoint:function(a){var g=[];this.eachLayer(function(n){g.push(n.toGeoJSON(a).geometry.coordinates)});
return Za(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(a){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===g)return this.toMultiPoint(a);var n="GeometryCollection"===g,z=[];this.eachLayer(function(T){T.toGeoJSON&&(T=T.toGeoJSON(a),n?z.push(T.geometry):(T=zb(T),"FeatureCollection"===T.type?z.push.apply(z,T.features):z.push(T)))});return n?Za(this,{geometries:z,type:"GeometryCollection"}):{type:"FeatureCollection",features:z}}});var le=Bd.extend({options:{opacity:1,
alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,g,n){this._url=a;this._bounds=d(g);Q(this,n)},onAdd:function(){this._image||(this._initImage(),1>this.options.opacity&&this._updateOpacity());this.options.interactive&&(Na(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image));this.getPane().appendChild(this._image);this._reset()},onRemove:function(){la(this._image);this.options.interactive&&this.removeInteractiveTarget(this._image)},
setOpacity:function(a){this.options.opacity=a;this._image&&this._updateOpacity();return this},setStyle:function(a){a.opacity&&this.setOpacity(a.opacity);return this},bringToFront:function(){this._map&&G(this._image);return this},bringToBack:function(){this._map&&qa(this._image);return this},setUrl:function(a){this._url=a;this._image&&(this._image.src=a);return this},setBounds:function(a){this._bounds=d(a);this._map&&this._reset();return this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};
this._zoomAnimated&&(a.zoomanim=this._animateZoom);return a},setZIndex:function(a){this.options.zIndex=a;this._updateZIndex();return this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a="IMG"===this._url.tagName,g=this._image=a?this._url:oa("img");Na(g,"leaflet-image-layer");this._zoomAnimated&&Na(g,"leaflet-zoom-animated");this.options.className&&Na(g,this.options.className);g.onselectstart=na;g.onmousemove=na;g.onload=Fa(this.fire,
this,"load");g.onerror=Fa(this._overlayOnError,this,"error");if(this.options.crossOrigin||""===this.options.crossOrigin)g.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin;this.options.zIndex&&this._updateZIndex();a?this._url=g.src:(g.src=this._url,g.alt=this.options.alt)},_animateZoom:function(a){var g=this._map.getZoomScale(a.zoom);a=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;za(this._image,a,g)},_reset:function(){var a=this._image,g=new ra(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),
this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=g.getSize();Ia(a,g.min);a.style.width=n.x+"px";a.style.height=n.y+"px"},_updateOpacity:function(){ma(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)}}),se=le.extend({options:{autoplay:!0,
loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var a="VIDEO"===this._url.tagName,g=this._image=a?this._url:oa("video");Na(g,"leaflet-image-layer");this._zoomAnimated&&Na(g,"leaflet-zoom-animated");this.options.className&&Na(g,this.options.className);g.onselectstart=na;g.onmousemove=na;g.onloadeddata=Fa(this.fire,this,"load");if(a){a=g.getElementsByTagName("source");for(var n=[],z=0;z<a.length;z++)n.push(a[z].src);this._url=0<a.length?n:[g.src]}else for(Sb(this._url)||(this._url=[this._url]),
!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,a=0;a<this._url.length;a++)n=oa("source"),n.src=this._url[a],g.appendChild(n)}}),Le=le.extend({_initImage:function(){var a=this._image=this._url;Na(a,"leaflet-image-layer");this._zoomAnimated&&Na(a,"leaflet-zoom-animated");this.options.className&&Na(a,this.options.className);a.onselectstart=na;
a.onmousemove=na}}),Ed=Bd.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(a,g){Q(this,a);this._source=g},onAdd:function(a){this._zoomAnimated=a._zoomAnimated;this._container||this._initLayout();a._fadeAnimated&&ma(this._container,0);clearTimeout(this._removeTimeout);this.getPane().appendChild(this._container);this.update();a._fadeAnimated&&ma(this._container,1);this.bringToFront()},onRemove:function(a){a._fadeAnimated?(ma(this._container,0),this._removeTimeout=setTimeout(Fa(la,
void 0,this._container),200)):la(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(a){this._latlng=k(a);this._map&&(this._updatePosition(),this._adjustPan());return this},getContent:function(){return this._content},setContent:function(a){this._content=a;this.update();return this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility=
"",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};this._zoomAnimated&&(a.zoomanim=this._animateZoom);return a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){this._map&&G(this._container);return this},bringToBack:function(){this._map&&qa(this._container);return this},_prepareOpen:function(a,g,n){g instanceof Bd||(n=g,g=a);if(g instanceof je)for(var z in a._layers){g=a._layers[z];break}if(!n)if(g.getCenter)n=
g.getCenter();else if(g.getLatLng)n=g.getLatLng();else throw Error("Unable to get source layer LatLng.");this._source=g;this.update();return n},_updateContent:function(){if(this._content){var a=this._contentNode,g="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof g)a.innerHTML=g;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),
g=X(this.options.offset),n=this._getAnchor();this._zoomAnimated?Ia(this._container,a.add(n)):g=g.add(a).add(n);a=this._containerBottom=-g.y;g=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=a+"px";this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}}),be=Ed.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,
closeOnEscapeKey:!0,className:""},openOn:function(a){a.openPopup(this);return this},onAdd:function(a){Ed.prototype.onAdd.call(this,a);a.fire("popupopen",{popup:this});if(this._source&&(this._source.fire("popupopen",{popup:this},!0),!(this._source instanceof Od)))this._source.on("preclick",Ba)},onRemove:function(a){Ed.prototype.onRemove.call(this,a);a.fire("popupclose",{popup:this});this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Od||this._source.off("preclick",
Ba))},getEvents:function(){var a=Ed.prototype.getEvents.call(this);if(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)a.preclick=this._close;this.options.keepInView&&(a.moveend=this._adjustPan);return a},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var a=this._container=oa("div","leaflet-popup "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=oa("div","leaflet-popup-content-wrapper",a);this._contentNode=
oa("div","leaflet-popup-content",g);ub(a);db(this._contentNode);Rb(a,"contextmenu",Ba);this._tipContainer=oa("div","leaflet-popup-tip-container",a);this._tip=oa("div","leaflet-popup-tip",this._tipContainer);this.options.closeButton&&(a=this._closeButton=oa("a","leaflet-popup-close-button",a),a.href="#close",a.innerHTML="\x26#215;",Rb(a,"click",this._onCloseButtonClick,this))},_updateLayout:function(){var a=this._contentNode,g=a.style;g.width="";g.whiteSpace="nowrap";var n=a.offsetWidth;n=Math.min(n,
this.options.maxWidth);n=Math.max(n,this.options.minWidth);g.width=n+1+"px";g.whiteSpace="";g.height="";n=a.offsetHeight;var z=this.options.maxHeight;z&&n>z?(g.height=z+"px",Na(a,"leaflet-popup-scrolled")):K(a,"leaflet-popup-scrolled");this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);var g=this._getAnchor();Ia(this._container,a.add(g))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();
var a=this._map,g=parseInt(fb(this._container,"marginBottom"),10)||0;g=this._container.offsetHeight+g;var n=this._containerWidth,z=new E(this._containerLeft,-g-this._containerBottom);z._add(Pa(this._container));z=a.layerPointToContainerPoint(z);var T=X(this.options.autoPanPadding),Da=X(this.options.autoPanPaddingTopLeft||T);T=X(this.options.autoPanPaddingBottomRight||T);var Ja=a.getSize(),Ra=0,eb=0;z.x+n+T.x>Ja.x&&(Ra=z.x+n-Ja.x+T.x);0>z.x-Ra-Da.x&&(Ra=z.x-Da.x);z.y+g+T.y>Ja.y&&(eb=z.y+g-Ja.y+T.y);
0>z.y-eb-Da.y&&(eb=z.y-Da.y);(Ra||eb)&&a.fire("autopanstart").panBy([Ra,eb])}},_onCloseButtonClick:function(a){this._close();Bb(a)},_getAnchor:function(){return X(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Cc.mergeOptions({closePopupOnClick:!0});Cc.include({openPopup:function(a,g,n){a instanceof be||(a=(new be(n)).setContent(a));g&&a.setLatLng(g);if(this.hasLayer(a))return this;this._popup&&this._popup.options.autoClose&&this.closePopup();this._popup=a;return this.addLayer(a)},
closePopup:function(a){a&&a!==this._popup||(a=this._popup,this._popup=null);a&&this.removeLayer(a);return this}});Bd.include({bindPopup:function(a,g){if(a instanceof be)Q(a,g),this._popup=a,a._source=this;else{if(!this._popup||g)this._popup=new be(g,this);this._popup.setContent(a)}this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0);return this},unbindPopup:function(){this._popup&&(this.off({click:this._openPopup,
keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null);return this},openPopup:function(a,g){this._popup&&this._map&&(g=this._popup._prepareOpen(this,a,g),this._map.openPopup(this._popup,g));return this},closePopup:function(){this._popup&&this._popup._close();return this},togglePopup:function(a){this._popup&&(this._popup._map?this.closePopup():this.openPopup(a));return this},isPopupOpen:function(){return this._popup?this._popup.isOpen():
!1},setPopupContent:function(a){this._popup&&this._popup.setContent(a);return this},getPopup:function(){return this._popup},_openPopup:function(a){var g=a.layer||a.target;this._popup&&this._map&&(Bb(a),g instanceof Od?this.openPopup(a.layer||a.target,a.latlng):this._map.hasLayer(this._popup)&&this._popup._source===g?this.closePopup():this.openPopup(g,a.latlng))},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){13===a.originalEvent.keyCode&&this._openPopup(a)}});var te=
Ed.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(a){Ed.prototype.onAdd.call(this,a);this.setOpacity(this.options.opacity);a.fire("tooltipopen",{tooltip:this});this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(a){Ed.prototype.onRemove.call(this,a);a.fire("tooltipclose",{tooltip:this});this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var a=Ed.prototype.getEvents.call(this);
fe&&!this.options.permanent&&(a.preclick=this._close);return a},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=this._container=oa("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var g=this._map,n=this._container;var z=g.latLngToContainerPoint(g.getCenter());var T=g.layerPointToContainerPoint(a);g=this.options.direction;
var Da=n.offsetWidth;var Ja=n.offsetHeight;var Ra=X(this.options.offset),eb=this._getAnchor();"top"===g?z=Da/2:"bottom"===g?(z=Da/2,Ja=0):("center"===g?z=Da/2:"right"===g?z=0:"left"===g?z=Da:T.x<z.x?(g="right",z=0):(g="left",z=Da+2*(Ra.x+eb.x)),Ja/=2);a=a.subtract(X(z,Ja,!0)).add(Ra).add(eb);K(n,"leaflet-tooltip-right");K(n,"leaflet-tooltip-left");K(n,"leaflet-tooltip-top");K(n,"leaflet-tooltip-bottom");Na(n,"leaflet-tooltip-"+g);Ia(n,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);
this._setPosition(a)},setOpacity:function(a){this.options.opacity=a;this._container&&ma(this._container,a)},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(a)},_getAnchor:function(){return X(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Cc.include({openTooltip:function(a,g,n){a instanceof te||(a=(new te(n)).setContent(a));g&&a.setLatLng(g);return this.hasLayer(a)?this:this.addLayer(a)},
closeTooltip:function(a){a&&this.removeLayer(a);return this}});Bd.include({bindTooltip:function(a,g){if(a instanceof te)Q(a,g),this._tooltip=a,a._source=this;else{if(!this._tooltip||g)this._tooltip=new te(g,this);this._tooltip.setContent(a)}this._initTooltipInteractions();this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip();return this},unbindTooltip:function(){this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null);return this},
_initTooltipInteractions:function(a){if(a||!this._tooltipHandlersAdded){var g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),fe&&(g.click=this._openTooltip));this[a?"off":"on"](g);this._tooltipHandlersAdded=!a}},openTooltip:function(a,g){this._tooltip&&this._map&&(g=this._tooltip._prepareOpen(this,a,g),this._map.openTooltip(this._tooltip,
g),this._tooltip.options.interactive&&this._tooltip._container&&(Na(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container)));return this},closeTooltip:function(){this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(K(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container)));return this},toggleTooltip:function(a){this._tooltip&&(this._tooltip._map?this.closeTooltip():
this.openTooltip(a));return this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){this._tooltip&&this._tooltip.setContent(a);return this},getTooltip:function(){return this._tooltip},_openTooltip:function(a){this._tooltip&&this._map&&this.openTooltip(a.layer||a.target,this._tooltip.options.sticky?a.latlng:void 0)},_moveTooltip:function(a){var g=a.latlng;this._tooltip.options.sticky&&a.originalEvent&&(a=this._map.mouseEventToContainerPoint(a.originalEvent),a=this._map.containerPointToLayerPoint(a),
g=this._map.layerPointToLatLng(a));this._tooltip.setLatLng(g)}});var Fe=Te.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){a=a&&"DIV"===a.tagName?a:document.createElement("div");var g=this.options;g.html instanceof Element?(ua(a),a.appendChild(g.html)):a.innerHTML=!1!==g.html?g.html:"";g.bgPos&&(g=X(g.bgPos),a.style.backgroundPosition=-g.x+"px "+-g.y+"px");this._setIconStyles(a,"icon");return a},createShadow:function(){return null}});Te.Default=
xe;var Qe=Bd.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Rd,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){Q(this,a)},onAdd:function(){this._initContainer();this._levels={};this._tiles={};this._resetView();this._update()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles();la(this._container);a._removeZoomLimit(this);
this._container=null;this._tileZoom=void 0},bringToFront:function(){this._map&&(G(this._container),this._setAutoZIndex(Math.max));return this},bringToBack:function(){this._map&&(qa(this._container),this._setAutoZIndex(Math.min));return this},getContainer:function(){return this._container},setOpacity:function(a){this.options.opacity=a;this._updateOpacity();return this},setZIndex:function(a){this.options.zIndex=a;this._updateZIndex();return this},isLoading:function(){return this._loading},redraw:function(){this._map&&
(this._removeAllTiles(),this._update());return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};this.options.updateWhenIdle||(this._onMove||(this._onMove=B(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove);this._zoomAnimated&&(a.zoomanim=this._animateZoom);return a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof
E?a:new E(a,a)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var g=this.getPane().children,n=-a(-Infinity,Infinity),z=0,T=g.length,Da;z<T;z++)Da=g[z].style.zIndex,g[z]!==this._container&&Da&&(n=a(n,+Da));isFinite(n)&&(this.options.zIndex=n+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ab){ma(this._container,this.options.opacity);var a=
+new Date,g=!1,n=!1,z;for(z in this._tiles){var T=this._tiles[z];if(T.current&&T.loaded){var Da=Math.min(1,(a-T.loaded)/200);ma(T.el,Da);1>Da?g=!0:(T.active?n=!0:this._onOpaqueTile(T),T.active=!0)}}n&&!this._noPrune&&this._pruneTiles();g&&(N(this._fadeFrame),this._fadeFrame=ja(this._updateOpacity,this))}},_onOpaqueTile:na,_initContainer:function(){this._container||(this._container=oa("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),1>this.options.opacity&&this._updateOpacity(),
this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,g=this.options.maxZoom;if(void 0!==a){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===a?(this._levels[n].el.style.zIndex=g-Math.abs(a-n),this._onUpdateLevel(n)):(la(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);n=this._levels[a];var z=this._map;n||(n=this._levels[a]={},n.el=oa("div","leaflet-tile-container leaflet-zoom-animated",
this._container),n.el.style.zIndex=g,n.origin=z.project(z.unproject(z.getPixelOrigin()),a).round(),n.zoom=a,this._setZoomTransform(n,z.getCenter(),z.getZoom()),this._onCreateLevel(n));return this._level=n}},_onUpdateLevel:na,_onRemoveLevel:na,_onCreateLevel:na,_pruneTiles:function(){if(this._map){var a;var g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom)this._removeAllTiles();else{for(a in this._tiles)g=this._tiles[a],g.retain=g.current;for(a in this._tiles)g=this._tiles[a],
g.current&&!g.active&&(g=g.coords,this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2));for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}}},_removeTilesAtZoom:function(a){for(var g in this._tiles)this._tiles[g].coords.z===a&&this._removeTile(g)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)la(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles();
this._tileZoom=void 0},_retainParent:function(a,g,n,z){a=Math.floor(a/2);g=Math.floor(g/2);--n;var T=new E(+a,+g);T.z=+n;T=this._tileCoordsToKey(T);if((T=this._tiles[T])&&T.active)return T.retain=!0;T&&T.loaded&&(T.retain=!0);return n>z?this._retainParent(a,g,n,z):!1},_retainChildren:function(a,g,n,z){for(var T=2*a;T<2*a+2;T++)for(var Da=2*g;Da<2*g+2;Da++){var Ja=new E(T,Da);Ja.z=n+1;Ja=this._tileCoordsToKey(Ja);(Ja=this._tiles[Ja])&&Ja.active?Ja.retain=!0:(Ja&&Ja.loaded&&(Ja.retain=!0),n+1<z&&this._retainChildren(T,
Da,n+1,z))}},_resetView:function(a){a=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var g=this.options;return void 0!==g.minNativeZoom&&a<g.minNativeZoom?g.minNativeZoom:void 0!==g.maxNativeZoom&&g.maxNativeZoom<a?g.maxNativeZoom:a},_setView:function(a,g,n,z){var T=Math.round(g);T=void 0!==this.options.maxZoom&&T>this.options.maxZoom||void 0!==this.options.minZoom&&T<
this.options.minZoom?void 0:this._clampZoom(T);var Da=this.options.updateWhenZooming&&T!==this._tileZoom;if(!z||Da)this._tileZoom=T,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==T&&this._update(a),n||this._pruneTiles(),this._noPrune=!!n;this._setZoomTransforms(a,g)},_setZoomTransforms:function(a,g){for(var n in this._levels)this._setZoomTransform(this._levels[n],a,g)},_setZoomTransform:function(a,g,n){var z=this._map.getZoomScale(n,a.zoom);g=a.origin.multiplyBy(z).subtract(this._map._getNewPixelOrigin(g,
n)).round();Vd?za(a.el,g,z):Ia(a.el,g)},_resetGrid:function(){var a=this._map,g=a.options.crs,n=this._tileSize=this.getTileSize(),z=this._tileZoom,T=this._map.getPixelWorldBounds(this._tileZoom);T&&(this._globalTileRange=this._pxBoundsToTileRange(T));this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,g.wrapLng[0]],z).x/n.x),Math.ceil(a.project([0,g.wrapLng[1]],z).x/n.y)];this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([g.wrapLat[0],0],z).y/n.x),Math.ceil(a.project([g.wrapLat[1],
0],z).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(a){var g=this._map,n=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom();n=g.getZoomScale(n,this._tileZoom);a=g.project(a,this._tileZoom).floor();g=g.getSize().divideBy(2*n);return new ra(a.subtract(g),a.add(g))},_update:function(a){var g=this._map;if(g){var n=this._clampZoom(g.getZoom());void 0===a&&(a=g.getCenter());if(void 0!==this._tileZoom){g=this._getTiledPixelBounds(a);
var z=this._pxBoundsToTileRange(g),T=z.getCenter();g=[];var Da=this.options.keepBuffer;Da=new ra(z.getBottomLeft().subtract([Da,-Da]),z.getTopRight().add([Da,-Da]));if(!(isFinite(z.min.x)&&isFinite(z.min.y)&&isFinite(z.max.x)&&isFinite(z.max.y)))throw Error("Attempted to load an infinite number of tiles");for(var Ja in this._tiles){var Ra=this._tiles[Ja].coords;Ra.z===this._tileZoom&&Da.contains(new E(Ra.x,Ra.y))||(this._tiles[Ja].current=!1)}if(1<Math.abs(n-this._tileZoom))this._setView(a,n);else{for(n=
z.min.y;n<=z.max.y;n++)for(a=z.min.x;a<=z.max.x;a++)Ja=new E(a,n),Ja.z=this._tileZoom,this._isValidTile(Ja)&&((Da=this._tiles[this._tileCoordsToKey(Ja)])?Da.current=!0:g.push(Ja));g.sort(function(eb,Jb){return eb.distanceTo(T)-Jb.distanceTo(T)});if(0!==g.length){this._loading||(this._loading=!0,this.fire("loading"));z=document.createDocumentFragment();for(a=0;a<g.length;a++)this._addTile(g[a],z);this._level.el.appendChild(z)}}}}},_isValidTile:function(a){var g=this._map.options.crs;if(!g.infinite){var n=
this._globalTileRange;if(!g.wrapLng&&(a.x<n.min.x||a.x>n.max.x)||!g.wrapLat&&(a.y<n.min.y||a.y>n.max.y))return!1}if(!this.options.bounds)return!0;a=this._tileCoordsToBounds(a);return d(this.options.bounds).overlaps(a)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var g=this._map,n=this.getTileSize(),z=a.scaleBy(n);n=z.add(n);z=g.unproject(z,a.z);a=g.unproject(n,a.z);return[z,a]},_tileCoordsToBounds:function(a){a=this._tileCoordsToNwSe(a);
a=new c(a[0],a[1]);this.options.noWrap||(a=this._map.wrapLatLngBounds(a));return a},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){a=a.split(":");var g=new E(+a[0],+a[1]);g.z=+a[2];return g},_removeTile:function(a){var g=this._tiles[a];g&&(la(g.el),delete this._tiles[a],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Na(a,"leaflet-tile");var g=this.getTileSize();a.style.width=g.x+"px";a.style.height=g.y+"px";a.onselectstart=
na;a.onmousemove=na;Ab&&1>this.options.opacity&&ma(a,this.options.opacity);xc&&!bc&&(a.style.WebkitBackfaceVisibility="hidden")},_addTile:function(a,g){var n=this._getTilePos(a),z=this._tileCoordsToKey(a),T=this.createTile(this._wrapCoords(a),Fa(this._tileReady,this,a));this._initTile(T);2>this.createTile.length&&ja(Fa(this._tileReady,this,a,null,T));Ia(T,n);this._tiles[z]={el:T,coords:a,current:!0};g.appendChild(T);this.fire("tileloadstart",{tile:T,coords:a})},_tileReady:function(a,g,n){g&&this.fire("tileerror",
{error:g,tile:n,coords:a});n=this._tileCoordsToKey(a);if(n=this._tiles[n])n.loaded=+new Date,this._map._fadeAnimated?(ma(n.el,0),N(this._fadeFrame),this._fadeFrame=ja(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),g||(Na(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ab||!this._map._fadeAnimated?ja(this._pruneTiles,this):setTimeout(Fa(this._pruneTiles,this),250))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},
_wrapCoords:function(a){var g=new E(this._wrapX?ha(a.x,this._wrapX):a.x,this._wrapY?ha(a.y,this._wrapY):a.y);g.z=a.z;return g},_pxBoundsToTileRange:function(a){var g=this.getTileSize();return new ra(a.min.unscaleBy(g).floor(),a.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}}),Ne=Qe.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},
initialize:function(a,g){this._url=a;g=Q(this,g);g.detectRetina&&nd&&0<g.maxZoom&&(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom++):(g.zoomOffset++,g.maxZoom--),g.minZoom=Math.max(0,g.minZoom));"string"===typeof g.subdomains&&(g.subdomains=g.subdomains.split(""));if(!xc)this.on("tileunload",this._onTileRemove)},setUrl:function(a,g){this._url===a&&void 0===g&&(g=!0);this._url=a;g||this.redraw();return this},createTile:function(a,g){var n=document.createElement("img");
Rb(n,"load",Fa(this._tileOnLoad,this,g,n));Rb(n,"error",Fa(this._tileOnError,this,g,n));if(this.options.crossOrigin||""===this.options.crossOrigin)n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin;n.alt="";n.setAttribute("role","presentation");n.src=this.getTileUrl(a);return n},getTileUrl:function(a){var g={r:nd?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};this._map&&!this._map.options.crs.infinite&&(a=this._globalTileRange.max.y-a.y,this.options.tms&&
(g.y=a),g["-y"]=a);return W(this._url,ka(g,this.options))},_tileOnLoad:function(a,g){Ab?setTimeout(Fa(a,this,null,g),0):a(null,g)},_tileOnError:function(a,g,n){var z=this.options.errorTileUrl;z&&g.getAttribute("src")!==z&&(g.src=z);a(n,g)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,g=this.options.maxZoom,n=this.options.zoomOffset;this.options.zoomReverse&&(a=g-a);return a+n},_getSubdomain:function(a){return this.options.subdomains[Math.abs(a.x+a.y)%
this.options.subdomains.length]},_abortLoading:function(){var a;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom){var g=this._tiles[a].el;g.onload=na;g.onerror=na;g.complete||(g.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d",la(g),delete this._tiles[a])}},_removeTile:function(a){var g=this._tiles[a];if(g)return Rc||g.el.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d"),Qe.prototype._removeTile.call(this,a)},_tileReady:function(a,
g,n){if(this._map&&(!n||"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d"!==n.getAttribute("src")))return Qe.prototype._tileReady.call(this,a,g,n)}}),bd=Ne.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,g){this._url=a;a=ka({},this.defaultWmsParams);for(var n in g)n in this.options||(a[n]=g[n]);g=Q(this,g);g=g.detectRetina&&nd?2:1;n=this.getTileSize();
a.width=n.x*g;a.height=n.y*g;this.wmsParams=a},onAdd:function(a){this._crs=this.options.crs||a.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);this.wmsParams[1.3<=this._wmsVersion?"crs":"srs"]=this._crs.code;Ne.prototype.onAdd.call(this,a)},getTileUrl:function(a){var g=this._tileCoordsToNwSe(a),n=this._crs;n=ya(n.project(g[0]),n.project(g[1]));g=n.min;n=n.max;g=(1.3<=this._wmsVersion&&this._crs===bf?[g.y,g.x,n.y,n.x]:[g.x,g.y,n.x,n.y]).join(",");a=Ne.prototype.getTileUrl.call(this,
a);return a+ba(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"\x26BBOX\x3d":"\x26bbox\x3d")+g},setParams:function(a,g){ka(this.wmsParams,a);g||this.redraw();return this}});Ne.WMS=bd;Wb.wms=function(a,g){return new bd(a,g)};var Pd=Bd.extend({options:{padding:.1,tolerance:0},initialize:function(a){Q(this,a);u(this);this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Na(this._container,"leaflet-zoom-animated"));this.getPane().appendChild(this._container);
this._update();this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this);this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};this._zoomAnimated&&(a.zoomanim=this._onAnimZoom);return a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,g){var n=
this._map.getZoomScale(g,this._zoom),z=Pa(this._container),T=this._map.getSize().multiplyBy(.5+this.options.padding),Da=this._map.project(this._center,g);a=this._map.project(a,g).subtract(Da);z=T.multiplyBy(-n).add(z).add(T).subtract(a);Vd?za(this._container,z,n):Ia(this._container,z)},_reset:function(){this._update();this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},
_update:function(){var a=this.options.padding,g=this._map.getSize(),n=this._map.containerPointToLayerPoint(g.multiplyBy(-a)).round();this._bounds=new ra(n,n.add(g.multiplyBy(1+2*a)).round());this._center=this._map.getCenter();this._zoom=this._map.getZoom()}}),Nd=Pd.extend({getEvents:function(){var a=Pd.prototype.getEvents.call(this);a.viewprereset=this._onViewPreReset;return a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Pd.prototype.onAdd.call(this);this._draw()},_initContainer:function(){var a=
this._container=document.createElement("canvas");Rb(a,"mousemove",this._onMouseMove,this);Rb(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this);Rb(a,"mouseout",this._handleMouseOut,this);this._ctx=a.getContext("2d")},_destroyContainer:function(){N(this._redrawRequest);delete this._ctx;la(this._container);Ga(this._container);delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){this._redrawBounds=null;for(var a in this._layers){var g=this._layers[a];g._update()}this._redraw()}},
_update:function(){if(!this._map._animatingZoom||!this._bounds){Pd.prototype._update.call(this);var a=this._bounds,g=this._container,n=a.getSize(),z=nd?2:1;Ia(g,a.min);g.width=z*n.x;g.height=z*n.y;g.style.width=n.x+"px";g.style.height=n.y+"px";nd&&this._ctx.scale(2,2);this._ctx.translate(-a.min.x,-a.min.y);this.fire("update")}},_reset:function(){Pd.prototype._reset.call(this);this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a);
this._layers[u(a)]=a;a=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a);this._drawLast=a;this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var g=a._order,n=g.next;g=g.prev;n?n.prev=g:this._drawLast=g;g?g.next=n:this._drawFirst=n;delete a._order;delete this._layers[u(a)];this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a);a._project();a._update();this._requestRedraw(a)},
_updateStyle:function(a){this._updateDashArray(a);this._requestRedraw(a)},_updateDashArray:function(a){if("string"===typeof a.options.dashArray){var g=a.options.dashArray.split(/[, ]+/),n=[],z;for(z=0;z<g.length;z++){var T=Number(g[z]);if(isNaN(T))return;n.push(T)}a.options._dashArray=n}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||ja(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var g=
(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ra;this._redrawBounds.extend(a._pxBounds.min.subtract([g,g]));this._redrawBounds.extend(a._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null;this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil());this._clear();this._draw();this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var g=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,
0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a=this._redrawBounds;this._ctx.save();if(a){var g=a.getSize();this._ctx.beginPath();this._ctx.rect(a.min.x,a.min.y,g.x,g.y);this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)g=n.layer,(!a||g._pxBounds&&g._pxBounds.intersects(a))&&g._updatePath();this._drawing=!1;this._ctx.restore()},_updatePoly:function(a,g){if(this._drawing){var n,z,T=a._parts,Da=T.length,
Ja=this._ctx;if(Da){Ja.beginPath();for(n=0;n<Da;n++){var Ra=0;for(z=T[n].length;Ra<z;Ra++){var eb=T[n][Ra];Ja[Ra?"lineTo":"moveTo"](eb.x,eb.y)}g&&Ja.closePath()}this._fillStroke(Ja,a)}}},_updateCircle:function(a){if(this._drawing&&!a._empty()){var g=a._point,n=this._ctx,z=Math.max(Math.round(a._radius),1),T=(Math.max(Math.round(a._radiusY),1)||z)/z;1!==T&&(n.save(),n.scale(1,T));n.beginPath();n.arc(g.x,g.y/T,z,0,2*Math.PI,!1);1!==T&&n.restore();this._fillStroke(n,a)}},_fillStroke:function(a,g){var n=
g.options;n.fill&&(a.globalAlpha=n.fillOpacity,a.fillStyle=n.fillColor||n.color,a.fill(n.fillRule||"evenodd"));n.stroke&&0!==n.weight&&(a.setLineDash&&a.setLineDash(g.options&&g.options._dashArray||[]),a.globalAlpha=n.opacity,a.lineWidth=n.weight,a.strokeStyle=n.color,a.lineCap=n.lineCap,a.lineJoin=n.lineJoin,a.stroke())},_onClick:function(a){for(var g=this._map.mouseEventToLayerPoint(a),n,z,T=this._drawFirst;T;T=T.next)n=T.layer,n.options.interactive&&n._containsPoint(g)&&("click"!==a.type&&"preclick"===
a.type||!this._map._draggableMoved(n))&&(z=n);z&&(Vb(a),this._fireEvent([z],a))},_onMouseMove:function(a){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var g=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,g)}},_handleMouseOut:function(a){var g=this._hoveredLayer;g&&(K(this._container,"leaflet-interactive"),this._fireEvent([g],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,g){if(!this._mouseHoverThrottled){for(var n,
z,T=this._drawFirst;T;T=T.next)n=T.layer,n.options.interactive&&n._containsPoint(g)&&(z=n);z!==this._hoveredLayer&&(this._handleMouseOut(a),z&&(Na(this._container,"leaflet-interactive"),this._fireEvent([z],a,"mouseover"),this._hoveredLayer=z));this._hoveredLayer&&this._fireEvent([this._hoveredLayer],a);this._mouseHoverThrottled=!0;setTimeout(Fa(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,g,n){this._map._fireDOMEvent(g,n||g.type,a)},_bringToFront:function(a){var g=a._order;
if(g){var n=g.next,z=g.prev;n&&((n.prev=z)?z.next=n:n&&(this._drawFirst=n),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(a))}},_bringToBack:function(a){var g=a._order;if(g){var n=g.next,z=g.prev;z&&((z.next=n)?n.prev=z:z&&(this._drawLast=z),g.prev=null,g.next=this._drawFirst,this._drawFirst=this._drawFirst.prev=g,this._requestRedraw(a))}}}),me=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("\x3clvml:"+
a+' class\x3d"lvml"\x3e')}}catch(a){return function(g){return document.createElement("\x3c"+g+' xmlns\x3d"urn:schemas-microsoft.com:vml" class\x3d"lvml"\x3e')}}}(),dd={_initContainer:function(){this._container=oa("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Pd.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var g=a._container=me("shape");Na(g,"leaflet-vml-shape "+(this.options.className||""));g.coordsize="1 1";a._path=me("path");g.appendChild(a._path);
this._updateStyle(a);this._layers[u(a)]=a},_addPath:function(a){var g=a._container;this._container.appendChild(g);a.options.interactive&&a.addInteractiveTarget(g)},_removePath:function(a){var g=a._container;la(g);a.removeInteractiveTarget(g);delete this._layers[u(a)]},_updateStyle:function(a){var g=a._stroke,n=a._fill,z=a.options,T=a._container;T.stroked=!!z.stroke;T.filled=!!z.fill;z.stroke?(g||(g=a._stroke=me("stroke")),T.appendChild(g),g.weight=z.weight+"px",g.color=z.color,g.opacity=z.opacity,
g.dashStyle=z.dashArray?Sb(z.dashArray)?z.dashArray.join(" "):z.dashArray.replace(/( *, *)/g," "):"",g.endcap=z.lineCap.replace("butt","flat"),g.joinstyle=z.lineJoin):g&&(T.removeChild(g),a._stroke=null);z.fill?(n||(n=a._fill=me("fill")),T.appendChild(n),n.color=z.fillColor||z.color,n.opacity=z.fillOpacity):n&&(T.removeChild(n),a._fill=null)},_updateCircle:function(a){var g=a._point.round(),n=Math.round(a._radius),z=Math.round(a._radiusY||n);this._setPath(a,a._empty()?"M0 0":"AL "+g.x+","+g.y+" "+
n+","+z+" 0,23592600")},_setPath:function(a,g){a._path.v=g},_bringToFront:function(a){G(a._container)},_bringToBack:function(a){qa(a._container)}},we=ce?me:y,Re=Pd.extend({getEvents:function(){var a=Pd.prototype.getEvents.call(this);a.zoomstart=this._onZoomStart;return a},_initContainer:function(){this._container=we("svg");this._container.setAttribute("pointer-events","none");this._rootGroup=we("g");this._container.appendChild(this._rootGroup)},_destroyContainer:function(){la(this._container);Ga(this._container);
delete this._container;delete this._rootGroup;delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){Pd.prototype._update.call(this);var a=this._bounds,g=a.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(g)||(this._svgSize=g,n.setAttribute("width",g.x),n.setAttribute("height",g.y));Ia(n,a.min);n.setAttribute("viewBox",[a.min.x,a.min.y,g.x,g.y].join(" "));this.fire("update")}},_initPath:function(a){var g=a._path=
we("path");a.options.className&&Na(g,a.options.className);a.options.interactive&&Na(g,"leaflet-interactive");this._updateStyle(a);this._layers[u(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer();this._rootGroup.appendChild(a._path);a.addInteractiveTarget(a._path)},_removePath:function(a){la(a._path);a.removeInteractiveTarget(a._path);delete this._layers[u(a)]},_updatePath:function(a){a._project();a._update()},_updateStyle:function(a){var g=a._path;a=a.options;g&&(a.stroke?(g.setAttribute("stroke",
a.color),g.setAttribute("stroke-opacity",a.opacity),g.setAttribute("stroke-width",a.weight),g.setAttribute("stroke-linecap",a.lineCap),g.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?g.setAttribute("stroke-dasharray",a.dashArray):g.removeAttribute("stroke-dasharray"),a.dashOffset?g.setAttribute("stroke-dashoffset",a.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),a.fill?(g.setAttribute("fill",a.fillColor||a.color),g.setAttribute("fill-opacity",a.fillOpacity),
g.setAttribute("fill-rule",a.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(a,g){this._setPath(a,x(a._parts,g))},_updateCircle:function(a){var g=a._point,n=Math.max(Math.round(a._radius),1),z="a"+n+","+(Math.max(Math.round(a._radiusY),1)||n)+" 0 1,0 ";g=a._empty()?"M0 0":"M"+(g.x-n)+","+g.y+z+2*n+",0 "+z+2*-n+",0 ";this._setPath(a,g)},_setPath:function(a,g){a._path.setAttribute("d",g)},_bringToFront:function(a){G(a._path)},_bringToBack:function(a){qa(a._path)}});ce&&Re.include(dd);
Cc.include({getRenderer:function(a){a=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;a||(a=this._renderer=this._createRenderer());this.hasLayer(a)||this.addLayer(a);return a},_getPaneRenderer:function(a){if("overlayPane"===a||void 0===a)return!1;var g=this._paneRenderers[a];void 0===g&&(g=this._createRenderer({pane:a}),this._paneRenderers[a]=g);return g},_createRenderer:function(a){return this.options.preferCanvas&&Xb(a)||kc(a)}});var Me=ze.extend({initialize:function(a,
g){ze.prototype.initialize.call(this,this._boundsToLatLngs(a),g)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){a=d(a);return[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});Re.create=we;Re.pointsToPath=x;ee.geometryToLayer=wd;ee.coordsToLatLng=Md;ee.coordsToLatLngs=pd;ee.latLngToCoords=cc;ee.latLngsToCoords=xa;ee.getFeature=Za;ee.asFeature=zb;Cc.mergeOptions({boxZoom:!0});var Sa=Wc.extend({initialize:function(a){this._map=
a;this._container=a._container;this._pane=a._panes.overlayPane;this._resetStateTimeout=0;a.on("unload",this._destroy,this)},addHooks:function(){Rb(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ga(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){la(this._pane);delete this._pane},_resetState:function(){this._resetStateTimeout=0;this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),
this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||1!==a.which&&1!==a.button)return!1;this._clearDeferredResetState();this._resetState();Yb();rb();this._startPoint=this._map.mouseEventToContainerPoint(a);Rb(document,{contextmenu:Bb,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=oa("div","leaflet-zoom-box",this._container),Na(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart"));
this._point=this._map.mouseEventToContainerPoint(a);a=new ra(this._point,this._startPoint);var g=a.getSize();Ia(this._box,a.min);this._box.style.width=g.x+"px";this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(la(this._box),K(this._container,"leaflet-crosshair"));ic();wb();Ga(document,{contextmenu:Bb,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(1===a.which||1===a.button)this._finish(),this._moved&&(this._clearDeferredResetState(),
this._resetStateTimeout=setTimeout(Fa(this._resetState,this),0),a=new c(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a}))},_onKeyDown:function(a){27===a.keyCode&&this._finish()}});Cc.addInitHook("addHandler","boxZoom",Sa);Cc.mergeOptions({doubleClickZoom:!0});var jb=Wc.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",
this._onDoubleClick,this)},_onDoubleClick:function(a){var g=this._map,n=g.getZoom(),z=g.options.zoomDelta;n=a.originalEvent.shiftKey?n-z:n+z;"center"===g.options.doubleClickZoom?g.setZoom(n):g.setZoomAround(a.containerPoint,n)}});Cc.addInitHook("addHandler","doubleClickZoom",jb);Cc.mergeOptions({dragging:!0,inertia:!bc,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var $a=Wc.extend({addHooks:function(){if(!this._draggable){var a=this._map;
this._draggable=new ye(a._mapPane,a._container);this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);this._draggable.on("predrag",this._onPreDragLimit,this);a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Na(this._map._container,"leaflet-grab leaflet-touch-drag");this._draggable.enable();this._positions=[];this._times=[]},removeHooks:function(){K(this._map._container,
"leaflet-grab");K(this._map._container,"leaflet-touch-drag");this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;a._stop();if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=d(this._map.options.maxBounds);this._offsetLimit=ya(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize()));
this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart");a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var g=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n);this._times.push(g);this._prunePositions(g)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;1<this._positions.length&&
50<a-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2);this._initialWorldOffset=this._map.latLngToLayerPoint([0,0]).subtract(a).x;this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,g){return a-(a-g)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var a=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;a.x<g.min.x&&(a.x=this._viscousLimit(a.x,
g.min.x));a.y<g.min.y&&(a.y=this._viscousLimit(a.y,g.min.y));a.x>g.max.x&&(a.x=this._viscousLimit(a.x,g.max.x));a.y>g.max.y&&(a.y=this._viscousLimit(a.y,g.max.y));this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,g=Math.round(a/2),n=this._initialWorldOffset,z=this._draggable._newPos.x,T=(z-g+n)%a+g-n;a=(z+g+n)%a-g-n;n=Math.abs(T+n)<Math.abs(a+n)?T:a;this._draggable._absPos=this._draggable._newPos.clone();this._draggable._newPos.x=n},_onDragEnd:function(a){var g=
this._map,n=g.options,z=!n.inertia||2>this._times.length;g.fire("dragend",a);if(z)g.fire("moveend");else{this._prunePositions(+new Date);a=this._lastPos.subtract(this._positions[0]);var T=n.easeLinearity;z=a.multiplyBy(T/((this._lastTime-this._times[0])/1E3));var Da=z.distanceTo([0,0]);a=Math.min(n.inertiaMaxSpeed,Da);z=z.multiplyBy(a/Da);var Ja=a/(n.inertiaDeceleration*T),Ra=z.multiplyBy(-Ja/2).round();Ra.x||Ra.y?(Ra=g._limitOffset(Ra,g.options.maxBounds),ja(function(){g.panBy(Ra,{duration:Ja,easeLinearity:T,
noMoveStart:!0,animate:!0})})):g.fire("moveend")}}});Cc.addInitHook("addHandler","dragging",$a);Cc.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Fb=Wc.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a;this._setPanDelta(a.options.keyboardPanDelta);this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;0>=a.tabIndex&&(a.tabIndex="0");Rb(a,{focus:this._onFocus,blur:this._onBlur,
mousedown:this._onMouseDown},this);this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks();Ga(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,g=document.documentElement,n=a.scrollTop||g.scrollTop;a=a.scrollLeft||g.scrollLeft;this._map._container.focus();window.scrollTo(a,
n)}},_onFocus:function(){this._focused=!0;this._map.fire("focus")},_onBlur:function(){this._focused=!1;this._map.fire("blur")},_setPanDelta:function(a){var g=this._panKeys={},n=this.keyCodes,z;var T=0;for(z=n.left.length;T<z;T++)g[n.left[T]]=[-1*a,0];T=0;for(z=n.right.length;T<z;T++)g[n.right[T]]=[a,0];T=0;for(z=n.down.length;T<z;T++)g[n.down[T]]=[0,a];T=0;for(z=n.up.length;T<z;T++)g[n.up[T]]=[0,-1*a]},_setZoomDelta:function(a){var g=this._zoomKeys={},n=this.keyCodes,z;var T=0;for(z=n.zoomIn.length;T<
z;T++)g[n.zoomIn[T]]=a;T=0;for(z=n.zoomOut.length;T<z;T++)g[n.zoomOut[T]]=-a},_addHooks:function(){Rb(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ga(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var g=a.keyCode,n=this._map;if(g in this._panKeys)n._panAnim&&n._panAnim._inProgress||(g=this._panKeys[g],a.shiftKey&&(g=X(g).multiplyBy(3)),n.panBy(g),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds));else if(g in this._zoomKeys)n.setZoom(n.getZoom()+
(a.shiftKey?3:1)*this._zoomKeys[g]);else if(27===g&&n._popup&&n._popup.options.closeOnEscapeKey)n.closePopup();else return;Bb(a)}}});Cc.addInitHook("addHandler","keyboard",Fb);Cc.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ac=Wc.extend({addHooks:function(){Rb(this._map._container,"wheel",this._onWheelScroll,this);this._delta=0},removeHooks:function(){Ga(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var g=Db(a),n=this._map.options.wheelDebounceTime;
this._delta+=g;this._lastMousePos=this._map.mouseEventToContainerPoint(a);this._startTime||(this._startTime=+new Date);g=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(Fa(this._performZoom,this),g);Bb(a)},_performZoom:function(){var a=this._map,g=a.getZoom(),n=this._map.options.zoomSnap||0;a._stop();var z=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2;n=n?Math.ceil(z/n)*n:z;n=a._limitZoom(g+(0<this._delta?
n:-n))-g;this._delta=0;this._startTime=null;n&&("center"===a.options.scrollWheelZoom?a.setZoom(g+n):a.setZoomAround(this._lastMousePos,g+n))}});Cc.addInitHook("addHandler","scrollWheelZoom",ac);Cc.mergeOptions({tap:!0,tapTolerance:15});var pc=Wc.extend({addHooks:function(){Rb(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ga(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(a.touches)if(ob(a),this._fireClick=!0,1<a.touches.length)this._fireClick=
!1,clearTimeout(this._holdTimeout);else{var g=a.touches[0];a=g.target;this._startPos=this._newPos=new E(g.clientX,g.clientY);a.tagName&&"a"===a.tagName.toLowerCase()&&Na(a,"leaflet-active");this._holdTimeout=setTimeout(Fa(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",g))},this),1E3);this._simulateEvent("mousedown",g);Rb(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(a){clearTimeout(this._holdTimeout);Ga(document,{touchmove:this._onMove,
touchend:this._onUp},this);if(this._fireClick&&a&&a.changedTouches){a=a.changedTouches[0];var g=a.target;g&&g.tagName&&"a"===g.tagName.toLowerCase()&&K(g,"leaflet-active");this._simulateEvent("mouseup",a);this._isTapValid()&&this._simulateEvent("click",a)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(a){a=a.touches[0];this._newPos=new E(a.clientX,a.clientY);this._simulateEvent("mousemove",a)},_simulateEvent:function(a,g){var n=
document.createEvent("MouseEvents");n._simulated=!0;g.target._simulatedClick=!0;n.initMouseEvent(a,!0,!0,window,1,g.screenX,g.screenY,g.clientX,g.clientY,!1,!1,!1,!1,0,null);g.target.dispatchEvent(n)}});!fe||Xd&&!sc||Cc.addInitHook("addHandler","tap",pc);Cc.mergeOptions({touchZoom:fe&&!bc,bounceAtZoomLimits:!0});var wc=Wc.extend({addHooks:function(){Na(this._map._container,"leaflet-touch-zoom");Rb(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){K(this._map._container,
"leaflet-touch-zoom");Ga(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var g=this._map;if(a.touches&&2===a.touches.length&&!g._animatingZoom&&!this._zooming){var n=g.mouseEventToContainerPoint(a.touches[0]),z=g.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=g.getSize()._divideBy(2);this._startLatLng=g.containerPointToLatLng(this._centerPoint);"center"!==g.options.touchZoom&&(this._pinchStartLatLng=g.containerPointToLatLng(n.add(z)._divideBy(2)));
this._startDist=n.distanceTo(z);this._startZoom=g.getZoom();this._moved=!1;this._zooming=!0;g._stop();Rb(document,"touchmove",this._onTouchMove,this);Rb(document,"touchend",this._onTouchEnd,this);ob(a)}},_onTouchMove:function(a){if(a.touches&&2===a.touches.length&&this._zooming){var g=this._map,n=g.mouseEventToContainerPoint(a.touches[0]),z=g.mouseEventToContainerPoint(a.touches[1]),T=n.distanceTo(z)/this._startDist;this._zoom=g.getScaleZoom(T,this._startZoom);!g.options.bounceAtZoomLimits&&(this._zoom<
g.getMinZoom()&&1>T||this._zoom>g.getMaxZoom()&&1<T)&&(this._zoom=g._limitZoom(this._zoom));if("center"===g.options.touchZoom){if(this._center=this._startLatLng,1===T)return}else{n=n._add(z)._divideBy(2)._subtract(this._centerPoint);if(1===T&&0===n.x&&0===n.y)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(n),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0);N(this._animRequest);g=Fa(g._move,g,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=
ja(g,this,!0);ob(a)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,N(this._animRequest),Ga(document,"touchmove",this._onTouchMove,this),Ga(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Cc.addInitHook("addHandler","touchZoom",wc);Cc.BoxZoom=Sa;Cc.DoubleClickZoom=
jb;Cc.Drag=$a;Cc.Keyboard=Fb;Cc.ScrollWheelZoom=ac;Cc.Tap=pc;Cc.TouchZoom=wc;m.version="1.7.1";m.Control=md;m.control=Pc;m.Browser=Ae;m.Evented=w;m.Mixin=hd;m.Util=Ub;m.Class=O;m.Handler=Wc;m.extend=ka;m.bind=Fa;m.stamp=u;m.setOptions=Q;m.DomEvent=Id;m.DomUtil=ld;m.PosAnimation=Qc;m.Draggable=ye;m.LineUtil=Ye;m.PolyUtil=cf;m.Point=E;m.point=X;m.Bounds=ra;m.bounds=ya;m.Transformation=p;m.transformation=v;m.Projection=ff;m.LatLng=f;m.latLng=k;m.LatLngBounds=c;m.latLngBounds=d;m.CRS=Z;m.GeoJSON=ee;m.geoJSON=
Ob;m.geoJson=Ob;m.Layer=Bd;m.LayerGroup=Ge;m.layerGroup=function(a,g){return new Ge(a,g)};m.FeatureGroup=je;m.featureGroup=function(a,g){return new je(a,g)};m.ImageOverlay=le;m.imageOverlay=function(a,g,n){return new le(a,g,n)};m.VideoOverlay=se;m.videoOverlay=function(a,g,n){return new se(a,g,n)};m.SVGOverlay=Le;m.svgOverlay=function(a,g,n){return new Le(a,g,n)};m.DivOverlay=Ed;m.Popup=be;m.popup=function(a,g){return new be(a,g)};m.Tooltip=te;m.tooltip=function(a,g){return new te(a,g)};m.Icon=Te;
m.icon=function(a){return new Te(a)};m.DivIcon=Fe;m.divIcon=function(a){return new Fe(a)};m.Marker=Hd;m.marker=function(a,g){return new Hd(a,g)};m.TileLayer=Ne;m.tileLayer=Wb;m.GridLayer=Qe;m.gridLayer=function(a){return new Qe(a)};m.SVG=Re;m.svg=kc;m.Renderer=Pd;m.Canvas=Nd;m.canvas=Xb;m.Path=Od;m.CircleMarker=Pe;m.circleMarker=function(a,g){return new Pe(a,g)};m.Circle=He;m.circle=function(a,g,n){return new He(a,g,n)};m.Polyline=ae;m.polyline=function(a,g){return new ae(a,g)};m.Polygon=ze;m.polygon=
function(a,g){return new ze(a,g)};m.Rectangle=Me;m.rectangle=function(a,g){return new Me(a,g)};m.Map=Cc;m.map=function(a,g){return new Cc(a,g)};var I=window.L;m.noConflict=function(){window.L=I;return this};window.L=m})}
goog.provide("module$node_modules$leaflet$dist$leaflet_src");
goog.global. module$node_modules$leaflet$dist$leaflet_src=shadow.js.require(2, {});
