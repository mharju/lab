shadow$provide[14]=function(mc,Nb,Tb,Hb){var m=Nb(13);mc=function(){function ka(aa){if(!aa||!aa.length)return 0;for(var H=0,R=0;H<aa.length;H++)R=(R<<5)-R+aa.charCodeAt(H)|0;return R}function Fa(aa,H){aa=aa.getElementsByTagName(H);return aa.length?aa[0]:null}function u(aa){for(var H=0,R=[];H<aa.length;H++)R[H]=parseFloat(aa[H]);return R}function B(aa){aa&&aa.normalize&&aa.normalize();return aa&&aa.textContent||""}function ha(aa){aa=aa.replace(Q,"").split(ba);for(var H=[],R=0;R<aa.length;R++)H.push(u(aa[R].replace(ea,
"").split(",")));return H}function na(aa){var H=[parseFloat(aa.getAttribute("lon")),parseFloat(aa.getAttribute("lat"))],R=Fa(aa,"ele"),ja=Fa(aa,"gpxtpx:hr")||Fa(aa,"hr");aa=Fa(aa,"time");R&&(R=parseFloat(B(R)),isNaN(R)||H.push(R));return{coordinates:H,time:aa?B(aa):null,heartRate:ja?parseFloat(B(ja)):null}}function Ca(){return{type:"FeatureCollection",features:[]}}function La(aa){return void 0!==aa.xml?aa.xml:W.serializeToString(aa)}var ea=/\s*/g,Q=/^\s*|\s*$/g,ba=/\s+/,W;"undefined"!==typeof XMLSerializer?
W=new XMLSerializer:"object"!==typeof Hb||"object"!==typeof m||m.browser||(W=new (Nb(12).XMLSerializer));return{kml:function(aa){function H(ya){ya=ya||"";"#"===ya.substr(0,1)&&(ya=ya.substr(1));if(6===ya.length||3===ya.length)var c=ya;if(8===ya.length){var d=parseInt(ya.substr(0,2),16)/255;c="#"+ya.substr(2)}return[c,isNaN(d)?void 0:d]}function R(ya){var c,d,f,k=[],p=[];if(Fa(ya,"MultiGeometry"))return R(Fa(ya,"MultiGeometry"));if(Fa(ya,"MultiTrack"))return R(Fa(ya,"MultiTrack"));if(Fa(ya,"gx:MultiTrack"))return R(Fa(ya,
"gx:MultiTrack"));for(d=0;d<Y.length;d++)if(c=ya.getElementsByTagName(Y[d]))for(f=0;f<c.length;f++){var v=c[f];if("Point"===Y[d])k.push({type:"Point",coordinates:u(B(Fa(v,"coordinates")).replace(ea,"").split(","))});else if("LineString"===Y[d])k.push({type:"LineString",coordinates:ha(B(Fa(v,"coordinates")))});else if("Polygon"===Y[d]){var y=v.getElementsByTagName("LinearRing");var x=[];for(v=0;v<y.length;v++)x.push(ha(B(Fa(y[v],"coordinates"))));k.push({type:"Polygon",coordinates:x})}else if("Track"===
Y[d]||"gx:Track"===Y[d]){x=v;var J=x.getElementsByTagName("coord");y=[];v=[];0===J.length&&(J=x.getElementsByTagName("gx:coord"));for(var da=0;da<J.length;da++)y.push(u(B(J[da]).split(" ")));x=x.getElementsByTagName("when");for(J=0;J<x.length;J++)v.push(B(x[J]));k.push({type:"LineString",coordinates:y});v.length&&p.push(v)}}return{geoms:k,coordTimes:p}}function ja(ya){var c=R(ya),d={},f=B(Fa(ya,"name")),k=B(Fa(ya,"styleUrl")),p=B(Fa(ya,"description")),v=Fa(ya,"TimeSpan");var y=Fa(ya,"ExtendedData");
var x=Fa(ya,"LineStyle"),J=Fa(ya,"PolyStyle");if(!c.geoms.length)return[];f&&(d.name=f);"#"!==k[0]&&(k="#"+k);k&&O[k]&&(d.styleUrl=k,d.styleHash=O[k]);p&&(d.description=p);v&&(f=B(Fa(v,"begin")),v=B(Fa(v,"end")),d.timespan={begin:f,end:v});x&&(f=H(B(Fa(x,"color"))),v=f[0],f=f[1],x=parseFloat(B(Fa(x,"width"))),v&&(d.stroke=v),isNaN(f)||(d["stroke-opacity"]=f),isNaN(x)||(d["stroke-width"]=x));J&&(v=H(B(Fa(J,"color"))),x=v[0],v=v[1],f=B(Fa(J,"fill")),J=B(Fa(J,"outline")),x&&(d.fill=x),isNaN(v)||(d["fill-opacity"]=
v),f&&(d["fill-opacity"]="1"===f?1:0),J&&(d["stroke-opacity"]="1"===J?1:0));if(y){J=y.getElementsByTagName("Data");x=y.getElementsByTagName("SimpleData");for(y=0;y<J.length;y++)d[J[y].getAttribute("name")]=B(Fa(J[y],"value"));for(y=0;y<x.length;y++)d[x[y].getAttribute("name")]=B(x[y])}c.coordTimes.length&&(d.coordTimes=1===c.coordTimes.length?c.coordTimes[0]:c.coordTimes);c={type:"Feature",geometry:1===c.geoms.length?c.geoms[0]:{type:"GeometryCollection",geometries:c.geoms},properties:d};ya.getAttribute("id")&&
(c.id=ya.getAttribute("id"));return[c]}var N=Ca(),O={},Y=["Polygon","LineString","Point","Track","gx:Track"],E=aa.getElementsByTagName("Placemark"),X=aa.getElementsByTagName("Style");aa=aa.getElementsByTagName("StyleMap");for(var ra=0;ra<X.length;ra++)O["#"+X[ra].getAttribute("id")]=ka(La(X[ra])).toString(16);for(X=0;X<aa.length;X++)O["#"+aa[X].getAttribute("id")]=ka(La(aa[X])).toString(16);for(X=0;X<E.length;X++)N.features=N.features.concat(ja(E[X]));return N},gpx:function(aa){function H(c,d){c=
c.getElementsByTagName(d);d=[];var f=[],k=[],p=c.length;if(2>p)return{};for(var v=0;v<p;v++){var y=na(c[v]);d.push(y.coordinates);y.time&&f.push(y.time);y.heartRate&&k.push(y.heartRate)}return{line:d,times:f,heartRates:k}}function R(c){for(var d=c.getElementsByTagName("trkseg"),f=[],k=[],p=[],v,y=0;y<d.length;y++)v=H(d[y],"trkpt"),v.line&&f.push(v.line),v.times&&v.times.length&&k.push(v.times),v.heartRates&&v.heartRates.length&&p.push(v.heartRates);if(0!==f.length)return c=O(c),k.length&&(c.coordTimes=
1===f.length?k[0]:k),p.length&&(c.heartRates=1===f.length?p[0]:p),{type:"Feature",properties:c,geometry:{type:1===f.length?"LineString":"MultiLineString",coordinates:1===f.length?f[0]:f}}}function ja(c){var d=H(c,"rtept");if(d.line)return{type:"Feature",properties:O(c),geometry:{type:"LineString",coordinates:d.line}}}function N(c){var d=O(c);d.sym=B(Fa(c,"sym"));return{type:"Feature",properties:d,geometry:{type:"Point",coordinates:na(c).coordinates}}}function O(c){var d="name desc author copyright link time keywords".split(" "),
f={},k;for(k=0;k<d.length;k++)f[d[k]]=B(Fa(c,d[k]));c={};for(var p in f)f[p]&&(c[p]=f[p]);return c}var Y=aa.getElementsByTagName("trk"),E=aa.getElementsByTagName("rte"),X=aa.getElementsByTagName("wpt"),ra=Ca(),ya;for(aa=0;aa<Y.length;aa++)(ya=R(Y[aa]))&&ra.features.push(ya);for(aa=0;aa<E.length;aa++)(ya=ja(E[aa]))&&ra.features.push(ya);for(aa=0;aa<X.length;aa++)ra.features.push(N(X[aa]));return ra}}}();"undefined"!==typeof Tb&&(Tb.exports=mc)}
goog.provide("module$node_modules$togeojson$togeojson");
goog.global. module$node_modules$togeojson$togeojson=shadow.js.require(14, {});
