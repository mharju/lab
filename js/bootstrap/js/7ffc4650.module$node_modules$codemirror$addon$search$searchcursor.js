shadow$provide[51]=function(mc,Nb,Tb,Hb){(function(m){"object"==typeof Hb&&"object"==typeof Tb?m(Nb(1)):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],m):m(CodeMirror)})(function(m){function ka(H,R){var ja=H.flags;for(var N=ja=null!=ja?ja:(H.ignoreCase?"i":"")+(H.global?"g":"")+(H.multiline?"m":""),O=0;O<R.length;O++)-1==N.indexOf(R.charAt(O))&&(N+=R.charAt(O));return ja==N?H:new RegExp(H.source,N)}function Fa(H,R,ja){R=ka(R,"g");var N=ja.line,O=ja.ch;for(ja=H.lastLine();N<=
ja;N++,O=0)if(R.lastIndex=O,O=H.getLine(N),O=R.exec(O))return{from:ba(N,O.index),to:ba(N,O.index+O[0].length),match:O}}function u(H,R,ja){if(!/\\s|\\n|\n|\\W|\\D|\[\^/.test(R.source))return Fa(H,R,ja);R=ka(R,"gm");for(var N,O=1,Y=ja.line,E=H.lastLine();Y<=E;){for(var X=0;X<O&&!(Y>E);X++){var ra=H.getLine(Y++);N=null==N?ra:N+"\n"+ra}O*=2;R.lastIndex=ja.ch;if(X=R.exec(N))return R=N.slice(0,X.index).split("\n"),H=X[0].split("\n"),ja=ja.line+R.length-1,R=R[R.length-1].length,{from:ba(ja,R),to:ba(ja+H.length-
1,1==H.length?R+H[0].length:H[H.length-1].length),match:X}}}function B(H,R,ja){for(var N,O=0;O<=H.length;){R.lastIndex=O;O=R.exec(H);if(!O)break;var Y=O.index+O[0].length;if(Y>H.length-ja)break;if(!N||Y>N.index+N[0].length)N=O;O=O.index+1}return N}function ha(H,R,ja){R=ka(R,"g");var N=ja.line,O=ja.ch;for(ja=H.firstLine();N>=ja;N--,O=-1){var Y=H.getLine(N);if(O=B(Y,R,0>O?0:Y.length-O))return{from:ba(N,O.index),to:ba(N,O.index+O[0].length),match:O}}}function na(H,R,ja){if(!/\\s|\\n|\n|\\W|\\D|\[\^/.test(R.source))return ha(H,
R,ja);R=ka(R,"gm");var N=1,O=H.getLine(ja.line).length-ja.ch;ja=ja.line;for(var Y=H.firstLine();ja>=Y;){for(var E=0;E<N&&ja>=Y;E++){var X=H.getLine(ja--);var ra=null==ra?X:X+"\n"+ra}N*=2;if(E=B(ra,R,O))return R=ra.slice(0,E.index).split("\n"),H=E[0].split("\n"),ja+=R.length,R=R[R.length-1].length,{from:ba(ja,R),to:ba(ja+H.length-1,1==H.length?R+H[0].length:H[H.length-1].length),match:E}}}function Ca(H,R,ja,N){if(H.length==R.length)return ja;var O=0;for(R=ja+Math.max(0,H.length-R.length);;){if(O==
R)return O;var Y=O+R>>1,E=N(H.slice(0,Y)).length;if(E==ja)return Y;E>ja?R=Y:O=Y+1}}function La(H,R,ja,N){if(!R.length)return null;N=N?W:aa;R=N(R).split(/\r|\n\r?/);var O=ja.line;ja=ja.ch;var Y=H.lastLine()+1-R.length;a:for(;O<=Y;O++,ja=0){var E=H.getLine(O).slice(ja),X=N(E);if(1==R.length){var ra=X.indexOf(R[0]);if(-1==ra)continue a;Ca(E,X,ra,N);return{from:ba(O,Ca(E,X,ra,N)+ja),to:ba(O,Ca(E,X,ra+R[0].length,N)+ja)}}ra=X.length-R[0].length;if(X.slice(ra)!=R[0])continue a;for(var ya=1;ya<R.length-
1;ya++)if(N(H.getLine(O+ya))!=R[ya])continue a;ya=H.getLine(O+R.length-1);var c=N(ya),d=R[R.length-1];if(c.slice(0,d.length)!=d)continue a;return{from:ba(O,Ca(E,X,ra,N)+ja),to:ba(O+R.length-1,Ca(ya,c,d.length,N))}}}function ea(H,R,ja,N){if(!R.length)return null;N=N?W:aa;R=N(R).split(/\r|\n\r?/);var O=ja.line,Y=ja.ch,E=H.firstLine()-1+R.length;a:for(;O>=E;O--,Y=-1){var X=H.getLine(O);-1<Y&&(X=X.slice(0,Y));Y=N(X);if(1==R.length){ja=Y.lastIndexOf(R[0]);if(-1==ja)continue a;return{from:ba(O,Ca(X,Y,ja,
N)),to:ba(O,Ca(X,Y,ja+R[0].length,N))}}var ra=R[R.length-1];if(Y.slice(0,ra.length)!=ra)continue a;var ya=1;for(ja=O-R.length+1;ya<R.length-1;ya++)if(N(H.getLine(ja+ya))!=R[ya])continue a;ja=H.getLine(O+1-R.length);ya=N(ja);if(ya.slice(ya.length-R[0].length)!=R[0])continue a;return{from:ba(O+1-R.length,Ca(ja,ya,ja.length-R[0].length,N)),to:ba(O,Ca(X,Y,ra.length,N))}}}function Q(H,R,ja,N){this.afterEmptyMatch=this.atOccurrence=!1;this.doc=H;ja=ja?H.clipPos(ja):ba(0,0);this.pos={from:ja,to:ja};if("object"==
typeof N)var O=N.caseFold;else O=N,N=null;"string"==typeof R?(null==O&&(O=!1),this.matches=function(Y,E){return(Y?ea:La)(H,R,E,O)}):(R=ka(R,"gm"),this.matches=N&&!1===N.multiline?function(Y,E){return(Y?ha:Fa)(H,R,E)}:function(Y,E){return(Y?na:u)(H,R,E)})}var ba=m.Pos;if(String.prototype.normalize){var W=function(H){return H.normalize("NFD").toLowerCase()};var aa=function(H){return H.normalize("NFD")}}else W=function(H){return H.toLowerCase()},aa=function(H){return H};Q.prototype={findNext:function(){return this.find(!1)},
findPrevious:function(){return this.find(!0)},find:function(H){var R=this.doc.clipPos(H?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(R=ba(R.line,R.ch),H?(R.ch--,0>R.ch&&(R.line--,R.ch=(this.doc.getLine(R.line)||"").length)):(R.ch++,R.ch>(this.doc.getLine(R.line)||"").length&&(R.ch=0,R.line++)),0!=m.cmpPos(R,this.doc.clipPos(R))))return this.atOccurrence=!1;this.afterEmptyMatch=(R=this.matches(H,R))&&0==m.cmpPos(R.from,R.to);if(R)return this.pos=R,this.atOccurrence=!0,this.pos.match||
!0;H=ba(H?this.doc.firstLine():this.doc.lastLine()+1,0);this.pos={from:H,to:H};return this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(H,R){this.atOccurrence&&(H=m.splitLines(H),this.doc.replaceRange(H,this.pos.from,this.pos.to,R),this.pos.to=ba(this.pos.from.line+H.length-1,H[H.length-1].length+(1==H.length?this.pos.from.ch:0)))}};m.defineExtension("getSearchCursor",function(H,R,ja){return new Q(this.doc,
H,R,ja)});m.defineDocExtension("getSearchCursor",function(H,R,ja){return new Q(this,H,R,ja)});m.defineExtension("selectMatches",function(H,R){var ja=[];for(H=this.getSearchCursor(H,this.getCursor("from"),R);H.findNext()&&!(0<m.cmpPos(H.to(),this.getCursor("to")));)ja.push({anchor:H.from(),head:H.to()});ja.length&&this.setSelections(ja,0)})})}
goog.provide("module$node_modules$codemirror$addon$search$searchcursor");
goog.global. module$node_modules$codemirror$addon$search$searchcursor=shadow.js.require(51, {});
