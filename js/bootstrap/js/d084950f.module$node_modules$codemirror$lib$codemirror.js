shadow$provide[1]=function(mc,Nb,Tb,Hb){(function(m,ka){"object"===typeof Hb&&"undefined"!==typeof Tb?Tb.exports=ka():"function"===typeof define&&define.amd?define(ka):(m=m||self,m.CodeMirror=ka())})(this,function(){function m(b){return new RegExp("(^|\\s)"+b+"(?:$|\\s)\\s*")}function ka(b){for(var e=b.childNodes.length;0<e;--e)b.removeChild(b.firstChild);return b}function Fa(b,e){return ka(b).appendChild(e)}function u(b,e,l,h){b=document.createElement(b);l&&(b.className=l);h&&(b.style.cssText=h);
if("string"==typeof e)b.appendChild(document.createTextNode(e));else if(e)for(l=0;l<e.length;++l)b.appendChild(e[l]);return b}function B(b,e,l,h){b=u(b,e,l,h);b.setAttribute("role","presentation");return b}function ha(b,e){3==e.nodeType&&(e=e.parentNode);if(b.contains)return b.contains(e);do if(11==e.nodeType&&(e=e.host),e==b)return!0;while(e=e.parentNode)}function na(){try{var b=document.activeElement}catch(e){b=document.body||null}for(;b&&b.shadowRoot&&b.shadowRoot.activeElement;)b=b.shadowRoot.activeElement;
return b}function Ca(b,e){var l=b.className;m(e).test(l)||(b.className+=(l?" ":"")+e)}function La(b,e){b=b.split(" ");for(var l=0;l<b.length;l++)b[l]&&!m(b[l]).test(e)&&(e+=" "+b[l]);return e}function ea(b){var e=Array.prototype.slice.call(arguments,1);return function(){return b.apply(null,e)}}function Q(b,e,l){e||(e={});for(var h in b)!b.hasOwnProperty(h)||!1===l&&e.hasOwnProperty(h)||(e[h]=b[h]);return e}function ba(b,e,l,h,q){null==e&&(e=b.search(/[^\s\u00a0]/),-1==e&&(e=b.length));h=h||0;for(q=
q||0;;){var A=b.indexOf("\t",h);if(0>A||A>=e)return q+(e-h);q+=A-h;q+=l-q%l;h=A+1}}function W(b,e){for(var l=0;l<b.length;++l)if(b[l]==e)return l;return-1}function aa(b,e,l){for(var h=0,q=0;;){var A=b.indexOf("\t",h);-1==A&&(A=b.length);var M=A-h;if(A==b.length||q+M>=e)return h+Math.min(M,e-q);q+=A-h;q+=l-q%l;h=A+1;if(q>=e)return h}}function H(b){for(;Zf.length<=b;)Zf.push(R(Zf)+" ");return Zf[b]}function R(b){return b[b.length-1]}function ja(b,e){for(var l=[],h=0;h<b.length;h++)l[h]=e(b[h],h);return l}
function N(b,e,l){for(var h=0,q=l(e);h<b.length&&l(b[h])<=q;)h++;b.splice(h,0,e)}function O(){}function Y(b,e){Object.create?b=Object.create(b):(O.prototype=b,b=new O);e&&Q(e,b);return b}function E(b){return/\w/.test(b)||""<b&&(b.toUpperCase()!=b.toLowerCase()||gh.test(b))}function X(b,e){return e?-1<e.source.indexOf("\\w")&&E(b)?!0:e.test(b):E(b)}function ra(b){for(var e in b)if(b.hasOwnProperty(e)&&b[e])return!1;return!0}function ya(b){return 768<=b.charCodeAt(0)&&hh.test(b)}function c(b,e,l){for(;(0>
l?0<e:e<b.length)&&ya(b.charAt(e));)e+=l;return e}function d(b,e,l){for(var h=e>l?-1:1;;){if(e==l)return e;var q=(e+l)/2;q=0>h?Math.ceil(q):Math.floor(q);if(q==e)return b(q)?e:l;b(q)?l=q:e=q+h}}function f(b,e,l,h){if(!b)return h(e,l,"ltr",0);for(var q=!1,A=0;A<b.length;++A){var M=b[A];if(M.from<l&&M.to>e||e==l&&M.to==e)h(Math.max(M.from,e),Math.min(M.to,l),1==M.level?"rtl":"ltr",A),q=!0}q||h(e,l,"ltr")}function k(b,e,l){var h;Gf=null;for(var q=0;q<b.length;++q){var A=b[q];if(A.from<e&&A.to>e)return q;
A.to==e&&(A.from!=A.to&&"before"==l?h=q:Gf=q);A.from==e&&(A.from!=A.to&&"before"!=l?h=q:Gf=q)}return null!=h?h:Gf}function p(b,e){var l=b.order;null==l&&(l=b.order=ih(b.text,e));return l}function v(b,e,l){if(b.removeEventListener)b.removeEventListener(e,l,!1);else if(b.detachEvent)b.detachEvent("on"+e,l);else{var h=(b=b._handlers)&&b[e];h&&(l=W(h,l),-1<l&&(b[e]=h.slice(0,l).concat(h.slice(l+1))))}}function y(b,e){var l=b._handlers&&b._handlers[e]||$f;if(l.length)for(var h=Array.prototype.slice.call(arguments,
2),q=0;q<l.length;++q)l[q].apply(null,h)}function x(b,e,l){"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}});y(b,l||e.type,b,e);return Ha(e)||e.codemirrorIgnore}function J(b){var e=b._handlers&&b._handlers.cursorActivity;if(e){b=b.curOp.cursorActivityHandlers||(b.curOp.cursorActivityHandlers=[]);for(var l=0;l<e.length;++l)-1==W(b,e[l])&&b.push(e[l])}}function da(b,e){return 0<(b._handlers&&b._handlers[e]||$f).length}function wa(b){b.prototype.on=function(e,l){Uc(this,
e,l)};b.prototype.off=function(e,l){v(this,e,l)}}function ca(b){b.preventDefault?b.preventDefault():b.returnValue=!1}function fa(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0}function Ha(b){return null!=b.defaultPrevented?b.defaultPrevented:0==b.returnValue}function Oa(b){ca(b);fa(b)}function Wa(b){var e=b.which;null==e&&(b.button&1?e=1:b.button&2?e=3:b.button&4&&(e=2));$e&&b.ctrlKey&&1==e&&(e=3);return e}function tb(b,e){2<arguments.length&&(e.dependencies=Array.prototype.slice.call(arguments,
2));ng[b]=e}function gb(b){if("string"==typeof b&&zf.hasOwnProperty(b))b=zf[b];else if(b&&"string"==typeof b.name&&zf.hasOwnProperty(b.name)){var e=zf[b.name];"string"==typeof e&&(e={name:e});b=Y(e,b);b.name=e.name}else{if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+xml$/.test(b))return gb("application/xml");if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+json$/.test(b))return gb("application/json")}return"string"==typeof b?{name:b}:b||{name:"null"}}function qb(b,e){e=gb(e);var l=ng[e.name];if(!l)return qb(b,
"text/plain");b=l(b,e);if(Af.hasOwnProperty(e.name)){l=Af[e.name];for(var h in l)l.hasOwnProperty(h)&&(b.hasOwnProperty(h)&&(b["_"+h]=b[h]),b[h]=l[h])}b.name=e.name;e.helperType&&(b.helperType=e.helperType);if(e.modeProps)for(var q in e.modeProps)b[q]=e.modeProps[q];return b}function nb(b,e){b=Af.hasOwnProperty(b)?Af[b]:Af[b]={};Q(e,b)}function Ma(b,e){if(!0===e)return e;if(b.copyState)return b.copyState(e);b={};for(var l in e){var h=e[l];h instanceof Array&&(h=h.concat([]));b[l]=h}return b}function fb(b,
e){for(var l;b.innerMode;){l=b.innerMode(e);if(!l||l.mode==b)break;e=l.state;b=l.mode}return l||{mode:b,state:e}}function oa(b,e,l){return b.startState?b.startState(e,l):!0}function la(b,e){e-=b.first;if(0>e||e>=b.size)throw Error("There is no line "+(e+b.first)+" in the document.");for(;!b.lines;)for(var l=0;;++l){var h=b.children[l],q=h.chunkSize();if(e<q){b=h;break}e-=q}return b.lines[e]}function ua(b,e,l){var h=[],q=e.line;b.iter(e.line,l.line+1,function(A){A=A.text;q==l.line&&(A=A.slice(0,l.ch));
q==e.line&&(A=A.slice(e.ch));h.push(A);++q});return h}function G(b,e,l){var h=[];b.iter(e,l,function(q){h.push(q.text)});return h}function qa(b,e){if(e-=b.height)for(;b;b=b.parent)b.height+=e}function Aa(b){if(null==b.parent)return null;var e=b.parent;b=W(e.lines,b);for(var l=e.parent;l;e=l,l=l.parent)for(var h=0;l.children[h]!=e;++h)b+=l.children[h].chunkSize();return b+e.first}function Na(b,e){var l=b.first;a:do{for(var h=0;h<b.children.length;++h){var q=b.children[h],A=q.height;if(e<A){b=q;continue a}e-=
A;l+=q.chunkSize()}return l}while(!b.lines);for(h=0;h<b.lines.length;++h){q=b.lines[h].height;if(e<q)break;e-=q}return l+h}function K(b,e){return e>=b.first&&e<b.first+b.size}function D(b,e){return String(b.lineNumberFormatter(e+b.firstLineNumber))}function U(b,e,l){void 0===l&&(l=null);if(!(this instanceof U))return new U(b,e,l);this.line=b;this.ch=e;this.sticky=l}function ma(b,e){return b.line-e.line||b.ch-e.ch}function Ta(b,e){return b.sticky==e.sticky&&0==ma(b,e)}function za(b){return U(b.line,
b.ch)}function Ia(b,e){return 0>ma(b,e)?e:b}function Pa(b,e){return 0>ma(b,e)?b:e}function rb(b,e){if(e.line<b.first)return U(b.first,0);var l=b.first+b.size-1;if(e.line>l)return U(l,la(b,l).text.length);b=la(b,e.line).text.length;l=e.ch;e=null==l||l>b?U(e.line,b):0>l?U(e.line,0):e;return e}function wb(b,e){for(var l=[],h=0;h<e.length;h++)l[h]=rb(b,e[h]);return l}function Cb(b,e,l,h){var q=[b.state.modeGen],A={};V(b,e.text,b.doc.mode,l,function(pa,Ka){return q.push(pa,Ka)},A,h);var M=l.state;h=function(pa){l.baseTokens=
q;var Ka=b.state.overlays[pa],Xa=1,pb=0;l.state=!0;V(b,e.text,Ka.mode,l,function(vb,xb){for(var Zb=Xa;pb<vb;){var vc=q[Xa];vc>vb&&q.splice(Xa,1,vb,q[Xa+1],vc);Xa+=2;pb=Math.min(vb,vc)}if(xb)if(Ka.opaque)q.splice(Zb,Xa-Zb,vb,"overlay "+xb),Xa=Zb+2;else for(;Zb<Xa;Zb+=2)vb=q[Zb+1],q[Zb+1]=(vb?vb+" ":"")+"overlay "+xb},A);l.state=M;l.baseTokens=null;l.baseTokenPos=1};for(var P=0;P<b.state.overlays.length;++P)h(P);return{styles:q,classes:A.bgClass||A.textClass?A:null}}function Gb(b,e,l){if(!e.styles||
e.styles[0]!=b.state.modeGen){var h=gc(b,Aa(e)),q=e.text.length>b.options.maxHighlightLength&&Ma(b.doc.mode,h.state),A=Cb(b,e,h);q&&(h.state=q);e.stateAfter=h.save(!q);e.styles=A.styles;A.classes?e.styleClasses=A.classes:e.styleClasses&&(e.styleClasses=null);l===b.doc.highlightFrontier&&(b.doc.modeFrontier=Math.max(b.doc.modeFrontier,++b.doc.highlightFrontier))}return e.styles}function gc(b,e,l){var h=b.doc,q=b.display;if(!h.mode.startState)return new hf(h,!0,e);var A=Ba(b,e,l),M=A>h.first&&la(h,
A-1).stateAfter,P=M?hf.fromSaved(h,M,A):new hf(h,oa(h.mode),A);h.iter(A,e,function(pa){$b(b,pa.text,P);var Ka=P.line;pa.stateAfter=Ka==e-1||0==Ka%5||Ka>=q.viewFrom&&Ka<q.viewTo?P.save():null;P.nextLine()});l&&(h.modeFrontier=P.line);return P}function $b(b,e,l,h){var q=b.doc.mode;b=new ge(e,b.options.tabSize,l);b.start=b.pos=h||0;for(""==e&&Rb(q,l.state);!b.eol();)Ga(q,b,l.state),b.start=b.pos}function Rb(b,e){if(b.blankLine)return b.blankLine(e);if(b.innerMode&&(b=fb(b,e),b.mode.blankLine))return b.mode.blankLine(b.state)}
function Ga(b,e,l,h){for(var q=0;10>q;q++){h&&(h[0]=fb(b,l).mode);var A=b.token(e,l);if(e.pos>e.start)return A}throw Error("Mode "+b.name+" failed to advance stream.");}function bb(b,e,l,h){var q=b.doc,A=q.mode;e=rb(q,e);var M=la(q,e.line);l=gc(b,e.line,l);b=new ge(M.text,b.options.tabSize,l);var P;for(h&&(P=[]);(h||b.pos<e.ch)&&!b.eol();){b.start=b.pos;var pa=Ga(A,b,l.state);h&&P.push(new Dg(b,pa,Ma(q.mode,l.state)))}return h?P:new Dg(b,pa,l.state)}function Eb(b,e){if(b)for(;;){var l=b.match(/(?:^|\s+)line-(background-)?(\S+)/);
if(!l)break;b=b.slice(0,l.index)+b.slice(l.index+l[0].length);var h=l[1]?"bgClass":"textClass";null==e[h]?e[h]=l[2]:(new RegExp("(?:^|\\s)"+l[2]+"(?:$|\\s)")).test(e[h])||(e[h]+=" "+l[2])}return b}function V(b,e,l,h,q,A,M){var P=l.flattenSpans;null==P&&(P=b.options.flattenSpans);var pa=0,Ka=null,Xa=new ge(e,b.options.tabSize,h),pb=b.options.addModeClass&&[null];for(""==e&&Eb(Rb(l,h.state),A);!Xa.eol();){if(Xa.pos>b.options.maxHighlightLength){P=!1;M&&$b(b,e,h,Xa.pos);Xa.pos=e.length;var vb=null}else vb=
Eb(Ga(l,Xa,h.state,pb),A);if(pb){var xb=pb[0].name;xb&&(vb="m-"+(vb?xb+" "+vb:xb))}if(!P||Ka!=vb){for(;pa<Xa.start;)pa=Math.min(Xa.start,pa+5E3),q(pa,Ka);Ka=vb}Xa.start=Xa.pos}for(;pa<Xa.pos;)b=Math.min(Xa.pos,pa+5E3),q(b,Ka),pa=b}function Ba(b,e,l){for(var h,q,A=b.doc,M=l?-1:e-(b.doc.mode.innerMode?1E3:100);e>M;--e){if(e<=A.first)return A.first;var P=la(A,e-1),pa=P.stateAfter;if(pa&&(!l||e+(pa instanceof ag?pa.lookAhead:0)<=A.modeFrontier))return e;P=ba(P.text,null,b.options.tabSize);if(null==q||
h>P)q=e-1,h=P}return q}function db(b,e){b.modeFrontier=Math.min(b.modeFrontier,e);if(!(b.highlightFrontier<e-10)){for(var l=b.first,h=e-1;h>l;h--){var q=la(b,h).stateAfter;if(q&&(!(q instanceof ag)||h+q.lookAhead<e)){l=h+1;break}}b.highlightFrontier=Math.min(b.highlightFrontier,l)}}function ub(b,e,l){this.marker=b;this.from=e;this.to=l}function ob(b,e){if(b)for(var l=0;l<b.length;++l){var h=b[l];if(h.marker==e)return h}}function Bb(b,e){if(e.full)return null;var l=K(b,e.from.line)&&la(b,e.from.line).markedSpans,
h=K(b,e.to.line)&&la(b,e.to.line).markedSpans;if(!l&&!h)return null;b=e.from.ch;var q=e.to.ch,A=0==ma(e.from,e.to),M;if(l)for(var P=0;P<l.length;++P){var pa=l[P],Ka=pa.marker;if(null==pa.from||(Ka.inclusiveLeft?pa.from<=b:pa.from<b)||!(pa.from!=b||"bookmark"!=Ka.type||A&&pa.marker.insertLeft)){var Xa=null==pa.to||(Ka.inclusiveRight?pa.to>=b:pa.to>b);(M||(M=[])).push(new ub(Ka,pa.from,Xa?null:pa.to))}}l=M;var pb;if(h)for(M=0;M<h.length;++M)if(P=h[M],pa=P.marker,null==P.to||(pa.inclusiveRight?P.to>=
q:P.to>q)||P.from==q&&"bookmark"==pa.type&&(!A||P.marker.insertLeft))Ka=null==P.from||(pa.inclusiveLeft?P.from<=q:P.from<q),(pb||(pb=[])).push(new ub(pa,Ka?null:P.from-q,null==P.to?null:P.to-q));h=1==e.text.length;q=R(e.text).length+(h?b:0);if(l)for(A=0;A<l.length;++A)if(M=l[A],null==M.to)(P=ob(pb,M.marker),P)?h&&(M.to=null==P.to?null:P.to+q):M.to=b;if(pb)for(b=0;b<pb.length;++b)A=pb[b],null!=A.to&&(A.to+=q),null==A.from?ob(l,A.marker)||(A.from=q,h&&(l||(l=[])).push(A)):(A.from+=q,h&&(l||(l=[])).push(A));
l&&(l=yb(l));pb&&pb!=l&&(pb=yb(pb));b=[l];if(!h){e=e.text.length-2;var vb;if(0<e&&l)for(h=0;h<l.length;++h)null==l[h].to&&(vb||(vb=[])).push(new ub(l[h].marker,null,null));for(l=0;l<e;++l)b.push(vb);b.push(pb)}return b}function yb(b){for(var e=0;e<b.length;++e){var l=b[e];null!=l.from&&l.from==l.to&&!1!==l.marker.clearWhenEmpty&&b.splice(e--,1)}return b.length?b:null}function Db(b,e,l){var h=null;b.iter(e.line,l.line+1,function(Xa){if(Xa.markedSpans)for(var pb=0;pb<Xa.markedSpans.length;++pb){var vb=
Xa.markedSpans[pb].marker;!vb.readOnly||h&&-1!=W(h,vb)||(h||(h=[])).push(vb)}});if(!h)return null;b=[{from:e,to:l}];for(e=0;e<h.length;++e){l=h[e];for(var q=l.find(0),A=0;A<b.length;++A){var M=b[A];if(!(0>ma(M.to,q.from)||0<ma(M.from,q.to))){var P=[A,1],pa=ma(M.from,q.from),Ka=ma(M.to,q.to);(0>pa||!l.inclusiveLeft&&!pa)&&P.push({from:M.from,to:q.from});(0<Ka||!l.inclusiveRight&&!Ka)&&P.push({from:q.to,to:M.to});b.splice.apply(b,P);A+=P.length-3}}}return b}function Vb(b){var e=b.markedSpans;if(e){for(var l=
0;l<e.length;++l)e[l].marker.detachLine(b);b.markedSpans=null}}function sb(b,e){if(e){for(var l=0;l<e.length;++l)e[l].marker.attachLine(b);b.markedSpans=e}}function oc(b,e){var l=b.lines.length-e.lines.length;if(0!=l)return l;l=b.find();var h=e.find(),q=ma(l.from,h.from)||(b.inclusiveLeft?-1:0)-(e.inclusiveLeft?-1:0);return q?-q:(l=ma(l.to,h.to)||(b.inclusiveRight?1:0)-(e.inclusiveRight?1:0))?l:e.id-b.id}function uc(b,e){b=nf&&b.markedSpans;if(b)for(var l,h=0;h<b.length;++h)if(l=b[h],l.marker.collapsed&&
null==(e?l.from:l.to)&&(!q||0>oc(q,l.marker)))var q=l.marker;return q}function Va(b,e,l,h,q){b=la(b,e);if(b=nf&&b.markedSpans)for(e=0;e<b.length;++e){var A=b[e];if(A.marker.collapsed){var M=A.marker.find(0),P=ma(M.from,l)||(A.marker.inclusiveLeft?-1:0)-(q.inclusiveLeft?-1:0),pa=ma(M.to,h)||(A.marker.inclusiveRight?1:0)-(q.inclusiveRight?1:0);if(!(0<=P&&0>=pa||0>=P&&0<=pa)&&(0>=P&&(A.marker.inclusiveRight&&q.inclusiveLeft?0<=ma(M.to,l):0<ma(M.to,l))||0<=P&&(A.marker.inclusiveRight&&q.inclusiveLeft?
0>=ma(M.from,h):0>ma(M.from,h))))return!0}}}function ab(b){for(var e;e=uc(b,!0);)b=e.find(-1,!0).line;return b}function Lb(b,e){b=la(b,e);var l=ab(b);return b==l?e:Aa(l)}function fd(b,e){if(e>b.lastLine())return e;var l=la(b,e);if(!Yc(b,l))return e;for(;b=uc(l,!1);)l=b.find(1,!0).line;return Aa(l)+1}function Yc(b,e){var l=nf&&e.markedSpans;if(l)for(var h,q=0;q<l.length;++q)if(h=l[q],h.marker.collapsed&&(null==h.from||!h.marker.widgetNode&&0==h.from&&h.marker.inclusiveLeft&&Bc(b,e,h)))return!0}function Bc(b,
e,l){if(null==l.to)return e=l.marker.find(1,!0),Bc(b,e.line,ob(e.line.markedSpans,l.marker));if(l.marker.inclusiveRight&&l.to==e.text.length)return!0;for(var h,q=0;q<e.markedSpans.length;++q)if(h=e.markedSpans[q],h.marker.collapsed&&!h.marker.widgetNode&&h.from==l.to&&(null==h.to||h.to!=l.from)&&(h.marker.inclusiveLeft||l.marker.inclusiveRight)&&Bc(b,e,h))return!0}function Zc(b){b=ab(b);for(var e=0,l=b.parent,h=0;h<l.lines.length;++h){var q=l.lines[h];if(q==b)break;else e+=q.height}for(b=l.parent;b;l=
b,b=l.parent)for(h=0;h<b.children.length&&(q=b.children[h],q!=l);++h)e+=q.height;return e}function $d(b){if(0==b.height)return 0;for(var e=b.text.length,l,h=b;l=uc(h,!0);)l=l.find(0,!0),h=l.from.line,e+=l.from.ch-l.to.ch;for(h=b;l=uc(h,!1);)b=l.find(0,!0),e-=h.text.length-b.from.ch,h=b.to.line,e+=h.text.length-b.to.ch;return e}function Zd(b){var e=b.display;b=b.doc;e.maxLine=la(b,b.first);e.maxLineLength=$d(e.maxLine);e.maxLineChanged=!0;b.iter(function(l){var h=$d(l);h>e.maxLineLength&&(e.maxLineLength=
h,e.maxLine=l)})}function wd(b,e){if(!b||/^\s*$/.test(b))return null;e=e.addModeClass?jh:kh;return e[b]||(e[b]=b.replace(/\S+/g,"cm-$\x26"))}function Md(b,e){var l=B("span",null,null,Ce?"padding-right: .1px":null);l={pre:B("pre",[l],"CodeMirror-line"),content:l,col:0,pos:0,cm:b,trailingSpace:!1,splitSpaces:b.getOption("lineWrapping")};e.measure={};for(var h=0;h<=(e.rest?e.rest.length:0);h++){var q=h?e.rest[h-1]:e.line,A=void 0;l.pos=0;l.addToken=cc;var M=b.display.measure;if(null!=og)M=og;else{var P=
Fa(M,document.createTextNode("AخA")),pa=Hf(P,0,1).getBoundingClientRect();P=Hf(P,1,2).getBoundingClientRect();ka(M);M=pa&&pa.left!=pa.right?og=3>P.right-pa.right:!1}M&&(A=p(q,b.doc.direction))&&(l.addToken=xa(l.addToken,A));l.map=[];var Ka=e!=b.display.externalMeasured&&Aa(q);a:{var Xa=P=pa=M=void 0,pb=void 0,vb=void 0,xb=void 0;A=l;Ka=Gb(b,q,Ka);var Zb=q.markedSpans,vc=q.text,Vc=0;if(Zb)for(var pe=vc.length,Nc=0,Fd=1,xd="",Jd=0;;){if(Jd==Nc){pb=Xa=P=vb="";pa=M=null;Jd=Infinity;for(var Ld=[],id=void 0,
Kd=0;Kd<Zb.length;++Kd){var td=Zb[Kd],yd=td.marker;if("bookmark"==yd.type&&td.from==Nc&&yd.widgetNode)Ld.push(yd);else if(td.from<=Nc&&(null==td.to||td.to>Nc||yd.collapsed&&td.to==Nc&&td.from==Nc)){null!=td.to&&td.to!=Nc&&Jd>td.to&&(Jd=td.to,Xa="");yd.className&&(pb+=" "+yd.className);yd.css&&(vb=(vb?vb+";":"")+yd.css);yd.startStyle&&td.from==Nc&&(P+=" "+yd.startStyle);yd.endStyle&&td.to==Jd&&(id||(id=[])).push(yd.endStyle,td.to);yd.title&&((M||(M={})).title=yd.title);if(yd.attributes)for(var De in yd.attributes)(M||
(M={}))[De]=yd.attributes[De];yd.collapsed&&(!pa||0>oc(pa.marker,yd))&&(pa=td)}else td.from>Nc&&Jd>td.from&&(Jd=td.from)}if(id)for(Kd=0;Kd<id.length;Kd+=2)id[Kd+1]==Jd&&(Xa+=" "+id[Kd]);if(!pa||pa.from==Nc)for(id=0;id<Ld.length;++id)Za(A,0,Ld[id]);if(pa&&(pa.from||0)==Nc){Za(A,(null==pa.to?pe+1:pa.to)-Nc,pa.marker,null==pa.from);if(null==pa.to)break a;pa.to==Nc&&(pa=!1)}}if(Nc>=pe)break;for(Ld=Math.min(pe,Jd);;){if(xd){id=Nc+xd.length;pa||(Kd=id>Ld?xd.slice(0,Ld-Nc):xd,A.addToken(A,Kd,xb?xb+pb:pb,
P,Nc+Kd.length==Jd?Xa:"",vb,M));if(id>=Ld){xd=xd.slice(Ld-Nc);Nc=Ld;break}Nc=id;P=""}xd=vc.slice(Vc,Vc=Ka[Fd++]);xb=wd(Ka[Fd++],A.cm.options)}}else for(M=1;M<Ka.length;M+=2)A.addToken(A,vc.slice(Vc,Vc=Ka[M]),wd(Ka[M+1],A.cm.options))}q.styleClasses&&(q.styleClasses.bgClass&&(l.bgClass=La(q.styleClasses.bgClass,l.bgClass||"")),q.styleClasses.textClass&&(l.textClass=La(q.styleClasses.textClass,l.textClass||"")));0==l.map.length&&(q=l.map,A=q.push,M=l.content,pa=M.appendChild,P=b.display.measure,null==
pg&&(Xa=u("span","​"),Fa(P,u("span",[Xa,document.createTextNode("x")])),0!=P.firstChild.offsetHeight&&(pg=1>=Xa.offsetWidth&&2<Xa.offsetHeight&&!(sd&&8>Td))),P=pg?u("span","​"):u("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px"),P.setAttribute("cm-text",""),A.call(q,0,0,pa.call(M,P)));0==h?(e.measure.map=l.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(l.map),(e.measure.caches||(e.measure.caches=[])).push({}))}Ce&&(De=l.content.lastChild,/\bcm-tab\b/.test(De.className)||
De.querySelector&&De.querySelector(".cm-tab"))&&(l.content.className="cm-tab-wrap-hack");y(b,"renderLine",b,e.line,l.pre);l.pre.className&&(l.textClass=La(l.pre.className,l.textClass||""));return l}function pd(b){var e=u("span","•","cm-invalidchar");e.title="\\u"+b.charCodeAt(0).toString(16);e.setAttribute("aria-label",e.title);return e}function cc(b,e,l,h,q,A,M){if(e){if(b.splitSpaces){var P=b.trailingSpace;if(1<e.length&&!/  /.test(e))P=e;else{for(var pa="",Ka=0;Ka<e.length;Ka++){var Xa=e.charAt(Ka);
" "!=Xa||!P||Ka!=e.length-1&&32!=e.charCodeAt(Ka+1)||(Xa=" ");pa+=Xa;P=" "==Xa}P=pa}}else P=e;pa=P;Ka=b.cm.state.specialChars;Xa=!1;if(Ka.test(e)){P=document.createDocumentFragment();for(var pb=0;;){Ka.lastIndex=pb;var vb=Ka.exec(e),xb=vb?vb.index-pb:e.length-pb;if(xb){var Zb=document.createTextNode(pa.slice(pb,pb+xb));sd&&9>Td?P.appendChild(u("span",[Zb])):P.appendChild(Zb);b.map.push(b.pos,b.pos+xb,Zb);b.col+=xb;b.pos+=xb}if(!vb)break;pb+=xb+1;"\t"==vb[0]?(vb=b.cm.options.tabSize,vb-=b.col%vb,xb=
P.appendChild(u("span",H(vb),"cm-tab")),xb.setAttribute("role","presentation"),xb.setAttribute("cm-text","\t"),b.col+=vb):("\r"==vb[0]||"\n"==vb[0]?(xb=P.appendChild(u("span","\r"==vb[0]?"␍":"␤","cm-invalidchar")),xb.setAttribute("cm-text",vb[0])):(xb=b.cm.options.specialCharPlaceholder(vb[0]),xb.setAttribute("cm-text",vb[0]),sd&&9>Td?P.appendChild(u("span",[xb])):P.appendChild(xb)),b.col+=1);b.map.push(b.pos,b.pos+1,xb);b.pos++}}else b.col+=e.length,P=document.createTextNode(pa),b.map.push(b.pos,
b.pos+e.length,P),sd&&9>Td&&(Xa=!0),b.pos+=e.length;b.trailingSpace=32==pa.charCodeAt(e.length-1);if(l||h||q||Xa||A||M){e=l||"";h&&(e+=h);q&&(e+=q);h=u("span",[P],e,A);if(M)for(var vc in M)M.hasOwnProperty(vc)&&"style"!=vc&&"class"!=vc&&h.setAttribute(vc,M[vc]);return b.content.appendChild(h)}b.content.appendChild(P)}}function xa(b,e){return function(l,h,q,A,M,P,pa){q=q?q+" cm-force-border":"cm-force-border";for(var Ka=l.pos,Xa=Ka+h.length;;){for(var pb=void 0,vb=0;vb<e.length&&!(pb=e[vb],pb.to>Ka&&
pb.from<=Ka);vb++);if(pb.to>=Xa)return b(l,h,q,A,M,P,pa);b(l,h.slice(0,pb.to-Ka),q,A,null,P,pa);A=null;h=h.slice(pb.to-Ka);Ka=pb.to}}}function Za(b,e,l,h){var q=!h&&l.widgetNode;q&&b.map.push(b.pos,b.pos+e,q);!h&&b.cm.display.input.needsContentAttribute&&(q||(q=b.content.appendChild(document.createElement("span"))),q.setAttribute("cm-marker",l.id));q&&(b.cm.display.input.setUneditable(q),b.content.appendChild(q));b.pos+=e;b.trailingSpace=!1}function zb(b,e,l){for(var h=this.line=e,q;h=uc(h,!1);)h=
h.find(1,!0).line,(q||(q=[])).push(h);this.size=(this.rest=q)?Aa(R(this.rest))-l+1:1;this.node=this.text=null;this.hidden=Yc(b,e)}function Ob(b,e,l){var h=[],q;for(q=e;q<l;)e=new zb(b.doc,la(b.doc,q),q),q+=e.size,h.push(e);return h}function Wb(b,e){if(b=b.ownsGroup)try{var l=b.delayedCallbacks,h=0;do{for(;h<l.length;h++)l[h].call(null);for(var q=0;q<b.ops.length;q++){var A=b.ops[q];if(A.cursorActivityHandlers)for(;A.cursorActivityCalled<A.cursorActivityHandlers.length;)A.cursorActivityHandlers[A.cursorActivityCalled++].call(null,
A.cm)}}while(h<l.length)}finally{Bf=null,e(b)}}function Xb(b,e){var l=b._handlers&&b._handlers[e]||$f;if(l.length){var h=Array.prototype.slice.call(arguments,2);if(Bf)var q=Bf.delayedCallbacks;else If?q=If:(q=If=[],setTimeout(kc,0));for(var A=function(P){q.push(function(){return l[P].apply(null,h)})},M=0;M<l.length;++M)A(M)}}function kc(){var b=If;If=null;for(var e=0;e<b.length;++e)b[e]()}function cb(b,e,l,h){for(var q=0;q<e.changes.length;q++){var A=e.changes[q];if("text"==A){A=b;var M=e,P=M.text.className,
pa=ec(A,M);M.text==M.node&&(M.node=pa.pre);M.text.parentNode.replaceChild(pa.pre,M.text);M.text=pa.pre;pa.bgClass!=M.bgClass||pa.textClass!=M.textClass?(M.bgClass=pa.bgClass,M.textClass=pa.textClass,Sb(A,M)):P&&(M.text.className=P)}else if("gutter"==A)hc(b,e,l,h);else if("class"==A)Sb(b,e);else if("widget"==A){A=b;M=e;P=h;M.alignable&&(M.alignable=null);pa=m("CodeMirror-linewidget");for(var Ka=M.node.firstChild,Xa;Ka;Ka=Xa)Xa=Ka.nextSibling,pa.test(Ka.className)&&M.node.removeChild(Ka);dc(A,M,P)}}e.changes=
null}function Qb(b){b.node==b.text&&(b.node=u("div",null,null,"position: relative"),b.text.parentNode&&b.text.parentNode.replaceChild(b.node,b.text),b.node.appendChild(b.text),sd&&8>Td&&(b.node.style.zIndex=2));return b.node}function ec(b,e){var l=b.display.externalMeasured;return l&&l.line==e.line?(b.display.externalMeasured=null,e.measure=l.measure,l.built):Md(b,e)}function Sb(b,e){var l=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;l&&(l+=" CodeMirror-linebackground");if(e.background)l?
e.background.className=l:(e.background.parentNode.removeChild(e.background),e.background=null);else if(l){var h=Qb(e);e.background=h.insertBefore(u("div",null,l),h.firstChild);b.display.input.setUneditable(e.background)}e.line.wrapClass?Qb(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");e.text.className=(e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass)||""}function hc(b,e,l,h){e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null);e.gutterBackground&&(e.node.removeChild(e.gutterBackground),
e.gutterBackground=null);if(e.line.gutterClass){var q=Qb(e);e.gutterBackground=u("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(b.options.fixedGutter?h.fixedPos:-h.gutterTotalWidth)+"px; width: "+h.gutterTotalWidth+"px");b.display.input.setUneditable(e.gutterBackground);q.insertBefore(e.gutterBackground,e.text)}q=e.line.gutterMarkers;if(b.options.lineNumbers||q){var A=Qb(e),M=e.gutter=u("div",null,"CodeMirror-gutter-wrapper","left: "+(b.options.fixedGutter?h.fixedPos:-h.gutterTotalWidth)+
"px");M.setAttribute("aria-hidden","true");b.display.input.setUneditable(M);A.insertBefore(M,e.text);e.line.gutterClass&&(M.className+=" "+e.line.gutterClass);!b.options.lineNumbers||q&&q["CodeMirror-linenumbers"]||(e.lineNumber=M.appendChild(u("div",D(b.options,l),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+h.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+b.display.lineNumInnerWidth+"px")));if(q)for(e=0;e<b.display.gutterSpecs.length;++e)l=b.display.gutterSpecs[e].className,(A=q.hasOwnProperty(l)&&
q[l])&&M.appendChild(u("div",[A],"CodeMirror-gutter-elt","left: "+h.gutterLeft[l]+"px; width: "+h.gutterWidth[l]+"px"))}}function Pb(b,e,l,h){var q=ec(b,e);e.text=e.node=q.pre;q.bgClass&&(e.bgClass=q.bgClass);q.textClass&&(e.textClass=q.textClass);Sb(b,e);hc(b,e,l,h);dc(b,e,h);return e.node}function dc(b,e,l){Ub(b,e.line,e,l,!0);if(e.rest)for(var h=0;h<e.rest.length;h++)Ub(b,e.rest[h],e,l,!1)}function Ub(b,e,l,h,q){if(e.widgets){var A=Qb(l),M=0;for(e=e.widgets;M<e.length;++M){var P=e[M],pa=u("div",
[P.node],"CodeMirror-linewidget"+(P.className?" "+P.className:""));P.handleMouseEvents||pa.setAttribute("cm-ignore-events","true");var Ka=P,Xa=pa,pb=h;if(Ka.noHScroll){(l.alignable||(l.alignable=[])).push(Xa);var vb=pb.wrapperWidth;Xa.style.left=pb.fixedPos+"px";Ka.coverGutter||(vb-=pb.gutterTotalWidth,Xa.style.paddingLeft=pb.gutterTotalWidth+"px");Xa.style.width=vb+"px"}Ka.coverGutter&&(Xa.style.zIndex=5,Xa.style.position="relative",Ka.noHScroll||(Xa.style.marginLeft=-pb.gutterTotalWidth+"px"));
b.display.input.setUneditable(pa);q&&P.above?A.insertBefore(pa,l.gutter||l.text):A.appendChild(pa);Xb(P,"redraw")}}}function r(b){if(null!=b.height)return b.height;var e=b.doc.cm;if(!e)return 0;if(!ha(document.body,b.node)){var l="position: relative;";b.coverGutter&&(l+="margin-left: -"+e.display.gutters.offsetWidth+"px;");b.noHScroll&&(l+="width: "+e.display.wrapper.clientWidth+"px;");Fa(e.display.measure,u("div",[b.node],null,l))}return b.height=b.node.parentNode.offsetHeight}function w(b,e){for(e=
e.target||e.srcElement;e!=b.wrapper;e=e.parentNode)if(!e||1==e.nodeType&&"true"==e.getAttribute("cm-ignore-events")||e.parentNode==b.sizer&&e!=b.mover)return!0}function F(b){return b.mover.offsetHeight-b.lineSpace.offsetHeight}function Z(b){if(b.cachedPaddingH)return b.cachedPaddingH;var e=Fa(b.measure,u("pre","x","CodeMirror-line-like"));e=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle;e={left:parseInt(e.paddingLeft),right:parseInt(e.paddingRight)};isNaN(e.left)||isNaN(e.right)||
(b.cachedPaddingH=e);return e}function sa(b){return 50-b.display.nativeBarWidth}function ta(b){return b.display.scroller.clientWidth-sa(b)-b.display.barWidth}function Ya(b){return b.display.scroller.clientHeight-sa(b)-b.display.barHeight}function ib(b,e,l){if(b.line==e)return{map:b.measure.map,cache:b.measure.cache};if(b.rest){for(var h=0;h<b.rest.length;h++)if(b.rest[h]==e)return{map:b.measure.maps[h],cache:b.measure.caches[h]};for(e=0;e<b.rest.length;e++)if(Aa(b.rest[e])>l)return{map:b.measure.maps[e],
cache:b.measure.caches[e],before:!0}}}function Qa(b,e){if(e>=b.display.viewFrom&&e<b.display.viewTo)return b.display.view[re(b,e)];if((b=b.display.externalMeasured)&&e>=b.lineN&&e<b.lineN+b.size)return b}function lb(b,e){var l=Aa(e),h=Qa(b,l);h&&!h.text?h=null:h&&h.changes&&(cb(b,h,l,fe(b)),b.curOp.forceUpdate=!0);if(!h){var q=ab(e);h=Aa(q);q=b.display.externalMeasured=new zb(b.doc,q,h);q.lineN=h;h=q.built=Md(b,q);q.text=h.pre;Fa(b.display.lineMeasure,h.pre);h=q}b=ib(h,e,l);return{line:e,view:h,rect:null,
map:b.map,cache:b.cache,before:b.before,hasHeights:!1}}function Ab(b,e,l,h,q){e.before&&(l=-1);var A=l+(h||"");if(e.cache.hasOwnProperty(A))b=e.cache[A];else{e.rect||(e.rect=e.view.text.getBoundingClientRect());if(!e.hasHeights){var M=e.view,P=e.rect,pa=b.options.lineWrapping,Ka=pa&&ta(b);if(!M.measure.heights||pa&&M.measure.width!=Ka){var Xa=M.measure.heights=[];if(pa)for(M.measure.width=Ka,M=M.text.firstChild.getClientRects(),pa=0;pa<M.length-1;pa++){Ka=M[pa];var pb=M[pa+1];2<Math.abs(Ka.bottom-
pb.bottom)&&Xa.push((Ka.bottom+pb.top)/2-P.top)}Xa.push(P.bottom-P.top)}e.hasHeights=!0}Xa=h;M=Kb(e.map,l,Xa);h=M.node;P=M.start;pa=M.end;l=M.collapse;if(3==h.nodeType){for(var vb=0;4>vb;vb++){for(;P&&ya(e.line.text.charAt(M.coverStart+P));)--P;for(;M.coverStart+pa<M.coverEnd&&ya(e.line.text.charAt(M.coverStart+pa));)++pa;if(sd&&9>Td&&0==P&&pa==M.coverEnd-M.coverStart)var xb=h.parentNode.getBoundingClientRect();else{xb=Hf(h,P,pa).getClientRects();pa=Eg;if("left"==Xa)for(Ka=0;Ka<xb.length&&(pa=xb[Ka]).left==
pa.right;Ka++);else for(Ka=xb.length-1;0<=Ka&&(pa=xb[Ka]).left==pa.right;Ka--);xb=pa}if(xb.left||xb.right||0==P)break;pa=P;--P;l="right"}sd&&11>Td&&((vb=!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI)||(null!=qg?vb=qg:(Xa=Fa(b.display.measure,u("span","x")),vb=Xa.getBoundingClientRect(),Xa=Hf(Xa,0,1).getBoundingClientRect(),vb=qg=1<Math.abs(vb.left-Xa.left)),vb=!vb),vb||(vb=screen.logicalXDPI/screen.deviceXDPI,Xa=screen.logicalYDPI/screen.deviceYDPI,xb={left:xb.left*
vb,right:xb.right*vb,top:xb.top*Xa,bottom:xb.bottom*Xa}))}else 0<P&&(l=Xa="right"),xb=b.options.lineWrapping&&1<(vb=h.getClientRects()).length?vb["right"==Xa?vb.length-1:0]:h.getBoundingClientRect();!(sd&&9>Td)||P||xb&&(xb.left||xb.right)||(xb=(xb=h.parentNode.getClientRects()[0])?{left:xb.left,right:xb.left+Xd(b.display),top:xb.top,bottom:xb.bottom}:Eg);h=xb.top-e.rect.top;P=xb.bottom-e.rect.top;vb=(h+P)/2;Xa=e.view.measure.heights;for(M=0;M<Xa.length-1&&!(vb<Xa[M]);M++);l={left:("right"==l?xb.right:
xb.left)-e.rect.left,right:("left"==l?xb.left:xb.right)-e.rect.left,top:M?Xa[M-1]:0,bottom:Xa[M]};xb.left||xb.right||(l.bogus=!0);b.options.singleCursorHeightPerLine||(l.rtop=h,l.rbottom=P);b=l;b.bogus||(e.cache[A]=b)}return{left:b.left,right:b.right,top:q?b.rtop:b.top,bottom:q?b.rbottom:b.bottom}}function Kb(b,e,l){for(var h,q,A,M,P,pa,Ka=0;Ka<b.length;Ka+=3){P=b[Ka];pa=b[Ka+1];if(e<P)q=0,A=1,M="left";else if(e<pa)q=e-P,A=q+1;else if(Ka==b.length-3||e==pa&&b[Ka+3]>e)A=pa-P,q=A-1,e>=pa&&(M="right");
if(null!=q){h=b[Ka+2];P==pa&&l==(h.insertLeft?"left":"right")&&(M=l);if("left"==l&&0==q)for(;Ka&&b[Ka-2]==b[Ka-3]&&b[Ka-1].insertLeft;)h=b[(Ka-=3)+2],M="left";if("right"==l&&q==pa-P)for(;Ka<b.length-3&&b[Ka+3]==b[Ka+4]&&!b[Ka+5].insertLeft;)h=b[(Ka+=3)+2],M="right";break}}return{node:h,start:q,end:A,collapse:M,coverStart:P,coverEnd:pa}}function rc(b){if(b.measure&&(b.measure.cache={},b.measure.heights=null,b.rest))for(var e=0;e<b.rest.length;e++)b.measure.caches[e]={}}function xc(b){b.display.externalMeasure=
null;ka(b.display.lineMeasure);for(var e=0;e<b.display.view.length;e++)rc(b.display.view[e])}function bc(b){xc(b);b.display.cachedCharWidth=b.display.cachedTextHeight=b.display.cachedPaddingH=null;b.options.lineWrapping||(b.display.maxLineChanged=!0);b.display.lineNumChars=null}function Dc(){return bg&&cg?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Rc(){return bg&&
cg?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Lc(b){b=ab(b).widgets;var e=0;if(b)for(var l=0;l<b.length;++l)b[l].above&&(e+=r(b[l]));return e}function ed(b,e,l,h,q){q||(q=Lc(e),l.top+=q,l.bottom+=q);if("line"==h)return l;h||(h="local");e=Zc(e);e="local"==h?e+b.display.lineSpace.offsetTop:e-b.display.viewOffset;if("page"==h||"window"==h)b=b.display.lineSpace.getBoundingClientRect(),
e+=b.top+("window"==h?0:Rc()),h=b.left+("window"==h?0:Dc()),l.left+=h,l.right+=h;l.top+=e;l.bottom+=e;return l}function Sc(b,e,l){if("div"==l)return e;var h=e.left;e=e.top;"page"==l?(h-=Dc(),e-=Rc()):"local"!=l&&l||(l=b.display.sizer.getBoundingClientRect(),h+=l.left,e+=l.top);b=b.display.lineSpace.getBoundingClientRect();return{left:h-b.left,top:e-b.top}}function sc(b,e,l,h,q){h||(h=la(b.doc,e.line));var A=h;e=e.ch;h=Ab(b,lb(b,h),e,q);return ed(b,A,h,l)}function Fc(b,e,l,h,q,A){function M(vb,xb){vb=
Ab(b,q,vb,xb?"right":"left",A);xb?vb.left=vb.right:vb.right=vb.left;return ed(b,h,vb,l)}function P(vb,xb,Zb){return M(Zb?vb-1:vb,1==pa[xb].level!=Zb)}h=h||la(b.doc,e.line);q||(q=lb(b,h));var pa=p(h,b.doc.direction),Ka=e.ch;e=e.sticky;Ka>=h.text.length?(Ka=h.text.length,e="before"):0>=Ka&&(Ka=0,e="after");if(!pa)return M("before"==e?Ka-1:Ka,"before"==e);var Xa=k(pa,Ka,e),pb=Gf;Xa=P(Ka,Xa,"before"==e);null!=pb&&(Xa.other=P(Ka,pb,"before"!=e));return Xa}function Qd(b,e){var l=0;e=rb(b.doc,e);b.options.lineWrapping||
(l=Xd(b.display)*e.ch);e=la(b.doc,e.line);b=Zc(e)+b.display.lineSpace.offsetTop;return{left:l,right:l,top:b,bottom:b+e.height}}function Gd(b,e,l,h,q){b=U(b,e,l);b.xRel=q;h&&(b.outside=h);return b}function Tc(b,e,l){var h=b.doc;l+=b.display.viewOffset;if(0>l)return Gd(h.first,0,null,-1,-1);var q=Na(h,l),A=h.first+h.size-1;if(q>A)return Gd(h.first+h.size-1,la(h,A).text.length,null,1,1);0>e&&(e=0);for(var M=la(h,q);;){A=Rd(b,M,q,e,l);var P=void 0;var pa=A.ch+(0<A.xRel||0<A.outside?1:0);if(M=nf&&M.markedSpans)for(var Ka=
0;Ka<M.length;++Ka){var Xa=M[Ka];Xa.marker.collapsed&&(null==Xa.from||Xa.from<pa)&&(null==Xa.to||Xa.to>pa)&&(!P||0>oc(P,Xa.marker))&&(P=Xa.marker)}if(!P)return A;A=P.find(1);if(A.line==q)return A;M=la(h,q=A.line)}}function Ic(b,e,l,h){h-=Lc(e);e=e.text.length;var q=d(function(A){return Ab(b,l,A-1).bottom<=h},e,0);e=d(function(A){return Ab(b,l,A).top>h},q,e);return{begin:q,end:e}}function Xc(b,e,l,h){l||(l=lb(b,e));h=ed(b,e,Ab(b,l,h),"line").top;return Ic(b,e,l,h)}function Vd(b,e,l,h){return b.bottom<=
l?!1:b.top>l?!0:(h?b.left:b.right)>e}function Rd(b,e,l,h,q){q-=Zc(e);var A=lb(b,e),M=Lc(e),P=0,pa=e.text.length,Ka=!0,Xa=p(e,b.doc.direction);Xa&&(Xa=(b.options.lineWrapping?gf:Hc)(b,e,l,A,Xa,h,q),P=(Ka=1!=Xa.level)?Xa.from:Xa.to-1,pa=Ka?Xa.to:Xa.from-1);var pb=null,vb=null;Xa=d(function(Zb){var vc=Ab(b,A,Zb);vc.top+=M;vc.bottom+=M;if(!Vd(vc,h,q,!1))return!1;vc.top<=q&&vc.left<=h&&(pb=Zb,vb=vc);return!0},P,pa);var xb=!1;vb?(P=h-vb.left<vb.right-h,Ka=P==Ka,Xa=pb+(Ka?0:1),Ka=Ka?"after":"before",P=P?
vb.left:vb.right):(Ka||Xa!=pa&&Xa!=P||Xa++,Ka=0==Xa?"after":Xa==e.text.length?"before":Ab(b,A,Xa-(Ka?1:0)).bottom+M<=q==Ka?"after":"before",xb=Fc(b,U(l,Xa,Ka),"line",e,A),P=xb.left,xb=q<xb.top?-1:q>=xb.bottom?1:0);Xa=c(e.text,Xa,1);return Gd(l,Xa,Ka,xb,h-P)}function Hc(b,e,l,h,q,A,M){var P=d(function(Xa){Xa=q[Xa];var pb=1!=Xa.level;return Vd(Fc(b,U(l,pb?Xa.to:Xa.from,pb?"before":"after"),"line",e,h),A,M,!0)},0,q.length-1),pa=q[P];if(0<P){var Ka=1!=pa.level;Ka=Fc(b,U(l,Ka?pa.from:pa.to,Ka?"after":
"before"),"line",e,h);Vd(Ka,A,M,!0)&&Ka.top>M&&(pa=q[P-1])}return pa}function gf(b,e,l,h,q,A,M){M=Ic(b,e,h,M);l=M.begin;M=M.end;/\s/.test(e.text.charAt(M-1))&&M--;for(var P=e=null,pa=0;pa<q.length;pa++){var Ka=q[pa];if(!(Ka.from>=M||Ka.to<=l)){var Xa=Ab(b,h,1!=Ka.level?Math.min(M,Ka.to)-1:Math.max(l,Ka.from)).right;Xa=Xa<A?A-Xa+1E9:Xa-A;if(!e||P>Xa)e=Ka,P=Xa}}e||(e=q[q.length-1]);e.from<l&&(e={from:l,to:e.to,level:e.level});e.to>M&&(e={from:e.from,to:M,level:e.level});return e}function ne(b){if(null!=
b.cachedTextHeight)return b.cachedTextHeight;if(null==tf){tf=u("pre",null,"CodeMirror-line-like");for(var e=0;49>e;++e)tf.appendChild(document.createTextNode("x")),tf.appendChild(u("br"));tf.appendChild(document.createTextNode("x"))}Fa(b.measure,tf);e=tf.offsetHeight/50;3<e&&(b.cachedTextHeight=e);ka(b.measure);return e||1}function Xd(b){if(null!=b.cachedCharWidth)return b.cachedCharWidth;var e=u("span","xxxxxxxxxx"),l=u("pre",[e],"CodeMirror-line-like");Fa(b.measure,l);e=e.getBoundingClientRect();
e=(e.right-e.left)/10;2<e&&(b.cachedCharWidth=e);return e||10}function fe(b){for(var e=b.display,l={},h={},q=e.gutters.clientLeft,A=e.gutters.firstChild,M=0;A;A=A.nextSibling,++M){var P=b.display.gutterSpecs[M].className;l[P]=A.offsetLeft+A.clientLeft+q;h[P]=A.clientWidth}return{fixedPos:zc(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:l,gutterWidth:h,wrapperWidth:e.wrapper.clientWidth}}function zc(b){return b.scroller.getBoundingClientRect().left-b.sizer.getBoundingClientRect().left}function oe(b){var e=
ne(b.display),l=b.options.lineWrapping,h=l&&Math.max(5,b.display.scroller.clientWidth/Xd(b.display)-3);return function(q){if(Yc(b.doc,q))return 0;var A=0;if(q.widgets)for(var M=0;M<q.widgets.length;M++)q.widgets[M].height&&(A+=q.widgets[M].height);return l?A+(Math.ceil(q.text.length/h)||1)*e:A+e}}function nd(b){var e=b.doc,l=oe(b);e.iter(function(h){var q=l(h);q!=h.height&&qa(h,q)})}function Yd(b,e,l,h){var q=b.display;if(!l&&"true"==(e.target||e.srcElement).getAttribute("cm-not-content"))return null;
l=q.lineSpace.getBoundingClientRect();try{var A=e.clientX-l.left;var M=e.clientY-l.top}catch(pa){return null}e=Tc(b,A,M);var P;h&&0<e.xRel&&(P=la(b.doc,e.line).text).length==e.ch&&(h=ba(P,P.length,b.options.tabSize)-P.length,e=U(e.line,Math.max(0,Math.round((A-Z(b.display).left)/Xd(b.display))-h)));return e}function re(b,e){if(e>=b.display.viewTo)return null;e-=b.display.viewFrom;if(0>e)return null;b=b.display.view;for(var l=0;l<b.length;l++)if(e-=b[l].size,0>e)return l}function Sd(b,e,l,h){null==
e&&(e=b.doc.first);null==l&&(l=b.doc.first+b.doc.size);h||(h=0);var q=b.display;h&&l<q.viewTo&&(null==q.updateLineNumbers||q.updateLineNumbers>e)&&(q.updateLineNumbers=e);b.curOp.viewChanged=!0;if(e>=q.viewTo)nf&&Lb(b.doc,e)<q.viewTo&&Ae(b);else if(l<=q.viewFrom)nf&&fd(b.doc,l+h)>q.viewFrom?Ae(b):(q.viewFrom+=h,q.viewTo+=h);else if(e<=q.viewFrom&&l>=q.viewTo)Ae(b);else if(e<=q.viewFrom){var A=Ue(b,l,l+h,1);A?(q.view=q.view.slice(A.index),q.viewFrom=A.lineN,q.viewTo+=h):Ae(b)}else if(l>=q.viewTo)(A=
Ue(b,e,e,-1))?(q.view=q.view.slice(0,A.index),q.viewTo=A.lineN):Ae(b);else{A=Ue(b,e,e,-1);var M=Ue(b,l,l+h,1);A&&M?(q.view=q.view.slice(0,A.index).concat(Ob(b,A.lineN,M.lineN)).concat(q.view.slice(M.index)),q.viewTo+=h):Ae(b)}if(b=q.externalMeasured)l<b.lineN?b.lineN+=h:e<b.lineN+b.size&&(q.externalMeasured=null)}function ce(b,e,l){b.curOp.viewChanged=!0;var h=b.display,q=b.display.externalMeasured;q&&e>=q.lineN&&e<q.lineN+q.size&&(h.externalMeasured=null);e<h.viewFrom||e>=h.viewTo||(b=h.view[re(b,
e)],null!=b.node&&(b=b.changes||(b.changes=[]),-1==W(b,l)&&b.push(l)))}function Ae(b){b.display.viewFrom=b.display.viewTo=b.doc.first;b.display.view=[];b.display.viewOffset=0}function Ue(b,e,l,h){var q=re(b,e),A=b.display.view;if(!nf||l==b.doc.first+b.doc.size)return{index:q,lineN:l};for(var M=b.display.viewFrom,P=0;P<q;P++)M+=A[P].size;if(M!=e){if(0<h){if(q==A.length-1)return null;e=M+A[q].size-e;q++}else e=M-e;l+=e}for(;Lb(b.doc,l)!=l;){if(q==(0>h?0:A.length-1))return null;l+=h*A[q-(0>h?1:0)].size;
q+=h}return{index:q,lineN:l}}function df(b){b=b.display.view;for(var e=0,l=0;l<b.length;l++){var h=b[l];h.hidden||h.node&&!h.changes||++e}return e}function t(b){b.display.input.showSelection(b.display.input.prepareSelection())}function C(b,e){void 0===e&&(e=!0);var l=b.doc,h={},q=h.cursors=document.createDocumentFragment(),A=h.selection=document.createDocumentFragment(),M=b.options.$customCursor;M&&(e=!0);for(var P=0;P<l.sel.ranges.length;P++)if(e||P!=l.sel.primIndex){var pa=l.sel.ranges[P];if(!(pa.from().line>=
b.display.viewTo||pa.to().line<b.display.viewFrom)){var Ka=pa.empty();if(M){var Xa=M(b,pa);Xa&&S(b,Xa,q)}else(Ka||b.options.showCursorWhenSelecting)&&S(b,pa.head,q);Ka||va(b,pa,A)}}return h}function S(b,e,l){var h=Fc(b,e,"div",null,null,!b.options.singleCursorHeightPerLine),q=l.appendChild(u("div"," ","CodeMirror-cursor"));q.style.left=h.left+"px";q.style.top=h.top+"px";q.style.height=Math.max(0,h.bottom-h.top)*b.options.cursorHeight+"px";/\bcm-fat-cursor\b/.test(b.getWrapperElement().className)&&
(e=sc(b,e,"div",null,null),e=e.right-e.left,q.style.width=(0<e?e:b.defaultCharWidth())+"px");h.other&&(b=l.appendChild(u("div"," ","CodeMirror-cursor CodeMirror-secondarycursor")),b.style.display="",b.style.left=h.other.left+"px",b.style.top=h.other.top+"px",b.style.height=.85*(h.other.bottom-h.other.top)+"px")}function ia(b,e){return b.top-e.top||b.left-e.left}function va(b,e,l){function h(xb,Zb,vc,Vc){0>Zb&&(Zb=0);Zb=Math.round(Zb);Vc=Math.round(Vc);P.appendChild(u("div",null,"CodeMirror-selected",
"position: absolute; left: "+xb+"px;\n                             top: "+Zb+"px; width: "+(null==vc?Xa-xb:vc)+"px;\n                             height: "+(Vc-Zb)+"px"))}function q(xb,Zb,vc){function Vc(id,Kd){return sc(b,U(xb,id),"div",Nc,Kd)}function pe(id,Kd,td){id=Xc(b,Nc,null,id);Kd="ltr"==Kd==("after"==td)?"left":"right";td="after"==td?id.begin:id.end-(/\s/.test(Nc.text.charAt(id.end-1))?2:1);return Vc(td,Kd)[Kd]}var Nc=la(M,xb),Fd=Nc.text.length,xd,Jd,Ld=p(Nc,M.direction);f(Ld,Zb||0,null==
vc?Fd:vc,function(id,Kd,td,yd){var De="ltr"==td,Ie=Vc(id,De?"left":"right"),Ve=Vc(Kd-1,De?"right":"left"),uf=null==Zb&&0==id,vf=null==vc&&Kd==Fd,rg=0==yd;yd=!Ld||yd==Ld.length-1;3>=Ve.top-Ie.top?(Kd=(pb?uf:vf)&&rg?Ka:(De?Ie:Ve).left,h(Kd,Ie.top,((pb?vf:uf)&&yd?Xa:(De?Ve:Ie).right)-Kd,Ie.bottom)):(De?(De=pb&&uf&&rg?Ka:Ie.left,uf=pb?Xa:pe(id,td,"before"),id=pb?Ka:pe(Kd,td,"after"),vf=pb&&vf&&yd?Xa:Ve.right):(De=pb?pe(id,td,"before"):Ka,uf=!pb&&uf&&rg?Xa:Ie.right,id=!pb&&vf&&yd?Ka:Ve.left,vf=pb?pe(Kd,
td,"after"):Xa),h(De,Ie.top,uf-De,Ie.bottom),Ie.bottom<Ve.top&&h(Ka,Ie.bottom,null,Ve.top),h(id,Ve.top,vf-id,Ve.bottom));if(!xd||0>ia(Ie,xd))xd=Ie;0>ia(Ve,xd)&&(xd=Ve);if(!Jd||0>ia(Ie,Jd))Jd=Ie;0>ia(Ve,Jd)&&(Jd=Ve)});return{start:xd,end:Jd}}var A=b.display,M=b.doc,P=document.createDocumentFragment(),pa=Z(b.display),Ka=pa.left,Xa=Math.max(A.sizerWidth,ta(b)-A.sizer.offsetLeft)-pa.right,pb="ltr"==M.direction;A=e.from();e=e.to();if(A.line==e.line)q(A.line,A.ch,e.ch);else{var vb=la(M,A.line);pa=la(M,
e.line);pa=ab(vb)==ab(pa);A=q(A.line,A.ch,pa?vb.text.length+1:null).end;e=q(e.line,pa?0:null,e.ch).start;pa&&(A.top<e.top-2?(h(A.right,A.top,null,A.bottom),h(Ka,e.top,e.left,e.bottom)):h(A.right,A.top,e.left-A.right,A.bottom));A.bottom<e.top&&h(Ka,A.bottom,null,e.top)}l.appendChild(P)}function Ea(b){if(b.state.focused){var e=b.display;clearInterval(e.blinker);var l=!0;e.cursorDiv.style.visibility="";0<b.options.cursorBlinkRate?e.blinker=setInterval(function(){b.hasFocus()||kb(b);e.cursorDiv.style.visibility=
(l=!l)?"":"hidden"},b.options.cursorBlinkRate):0>b.options.cursorBlinkRate&&(e.cursorDiv.style.visibility="hidden")}}function Ua(b){b.hasFocus()||(b.display.input.focus(),b.state.focused||hb(b))}function mb(b){b.state.delayingBlurEvent=!0;setTimeout(function(){b.state.delayingBlurEvent&&(b.state.delayingBlurEvent=!1,b.state.focused&&kb(b))},100)}function hb(b,e){b.state.delayingBlurEvent&&!b.state.draggingText&&(b.state.delayingBlurEvent=!1);"nocursor"!=b.options.readOnly&&(b.state.focused||(y(b,
"focus",b,e),b.state.focused=!0,Ca(b.display.wrapper,"CodeMirror-focused"),b.curOp||b.display.selForContextMenu==b.doc.sel||(b.display.input.reset(),Ce&&setTimeout(function(){return b.display.input.reset(!0)},20)),b.display.input.receivedFocus()),Ea(b))}function kb(b,e){b.state.delayingBlurEvent||(b.state.focused&&(y(b,"blur",b,e),b.state.focused=!1,wf(b.display.wrapper,"CodeMirror-focused")),clearInterval(b.display.blinker),setTimeout(function(){b.state.focused||(b.display.shift=!1)},150))}function Yb(b){for(var e=
b.display,l=e.lineDiv.offsetTop,h=Math.max(0,e.scroller.getBoundingClientRect().top),q=e.lineDiv.getBoundingClientRect().top,A=0,M=0;M<e.view.length;M++){var P=e.view[M],pa=b.options.lineWrapping,Ka=0;if(!P.hidden){q+=P.line.height;if(sd&&8>Td){pa=P.node.offsetTop+P.node.offsetHeight;var Xa=pa-l;l=pa}else{var pb=P.node.getBoundingClientRect();Xa=pb.bottom-pb.top;!pa&&P.text.firstChild&&(Ka=P.text.firstChild.getBoundingClientRect().right-pb.left-1)}pa=P.line.height-Xa;if(.005<pa||-.005>pa)if(q<h&&
(A-=pa),qa(P.line,Xa),ic(P.line),P.rest)for(Xa=0;Xa<P.rest.length;Xa++)ic(P.rest[Xa]);Ka>b.display.sizerWidth&&(Ka=Math.ceil(Ka/Xd(b.display)),Ka>b.display.maxLineLength&&(b.display.maxLineLength=Ka,b.display.maxLine=P.line,b.display.maxLineChanged=!0))}}2<Math.abs(A)&&(e.scroller.scrollTop+=A)}function ic(b){if(b.widgets)for(var e=0;e<b.widgets.length;++e){var l=b.widgets[e],h=l.node.parentNode;h&&(l.height=h.offsetHeight)}}function tc(b,e,l){var h=l&&null!=l.top?Math.max(0,l.top):b.scroller.scrollTop;
h=Math.floor(h-b.lineSpace.offsetTop);var q=l&&null!=l.bottom?l.bottom:h+b.wrapper.clientHeight;h=Na(e,h);q=Na(e,q);if(l&&l.ensure){var A=l.ensure.from.line;l=l.ensure.to.line;A<h?(h=A,q=Na(e,Zc(la(e,A))+b.wrapper.clientHeight)):Math.min(l,e.lastLine())>=q&&(h=Na(e,Zc(la(e,l))-b.wrapper.clientHeight),q=l)}return{from:h,to:Math.max(q,h+1)}}function $c(b,e){var l=b.display,h=ne(b.display);0>e.top&&(e.top=0);var q=b.curOp&&null!=b.curOp.scrollTop?b.curOp.scrollTop:l.scroller.scrollTop,A=Ya(b),M={};e.bottom-
e.top>A&&(e.bottom=e.top+A);var P=b.doc.height+F(l),pa=e.top<h;h=e.bottom>P-h;e.top<q?M.scrollTop=pa?0:e.top:e.bottom>q+A&&(A=Math.min(e.top,(h?P:e.bottom)-A),A!=q&&(M.scrollTop=A));q=b.options.fixedGutter?0:l.gutters.offsetWidth;A=b.curOp&&null!=b.curOp.scrollLeft?b.curOp.scrollLeft:l.scroller.scrollLeft-q;b=ta(b)-l.gutters.offsetWidth;if(l=e.right-e.left>b)e.right=e.left+b;10>e.left?M.scrollLeft=0:e.left<A?M.scrollLeft=Math.max(0,e.left+q-(l?0:10)):e.right>b+A-3&&(M.scrollLeft=e.right+(l?0:10)-
b);return M}function Gc(b,e){null!=e&&(Ud(b),b.curOp.scrollTop=(null==b.curOp.scrollTop?b.doc.scrollTop:b.curOp.scrollTop)+e)}function ld(b){Ud(b);var e=b.getCursor();b.curOp.scrollToPos={from:e,to:e,margin:b.options.cursorScrollMargin}}function gd(b,e,l){null==e&&null==l||Ud(b);null!=e&&(b.curOp.scrollLeft=e);null!=l&&(b.curOp.scrollTop=l)}function Ud(b){var e=b.curOp.scrollToPos;if(e){b.curOp.scrollToPos=null;var l=Qd(b,e.from),h=Qd(b,e.to);Mc(b,l,h,e.margin)}}function Mc(b,e,l,h){e=$c(b,{left:Math.min(e.left,
l.left),top:Math.min(e.top,l.top)-h,right:Math.max(e.right,l.right),bottom:Math.max(e.bottom,l.bottom)+h});gd(b,e.scrollLeft,e.scrollTop)}function qd(b,e){2>Math.abs(b.doc.scrollTop-e)||(of||Ye(b,{top:e}),Id(b,e,!0),of&&Ye(b),ud(b,100))}function Id(b,e,l){e=Math.max(0,Math.min(b.display.scroller.scrollHeight-b.display.scroller.clientHeight,e));if(b.display.scroller.scrollTop!=e||l)b.doc.scrollTop=e,b.display.scrollbars.setScrollTop(e),b.display.scroller.scrollTop!=e&&(b.display.scroller.scrollTop=
e)}function Qc(b,e,l,h){e=Math.max(0,Math.min(e,b.display.scroller.scrollWidth-b.display.scroller.clientWidth));(l?e==b.doc.scrollLeft:2>Math.abs(b.doc.scrollLeft-e))&&!h||(b.doc.scrollLeft=e,ff(b),b.display.scroller.scrollLeft!=e&&(b.display.scroller.scrollLeft=e),b.display.scrollbars.setScrollLeft(e))}function Cc(b){var e=b.display,l=e.gutters.offsetWidth,h=Math.round(b.doc.height+F(b.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,
clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:b.options.fixedGutter?l:0,docHeight:h,scrollHeight:h+sa(b)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:l}}function md(b,e){e||(e=Cc(b));var l=b.display.barWidth,h=b.display.barHeight;Pc(b,e);for(e=0;4>e&&l!=b.display.barWidth||h!=b.display.barHeight;e++)l!=b.display.barWidth&&b.options.lineWrapping&&Yb(b),Pc(b,Cc(b)),l=b.display.barWidth,h=b.display.barHeight}function Pc(b,e){var l=b.display,h=l.scrollbars.update(e);
l.sizer.style.paddingRight=(l.barWidth=h.right)+"px";l.sizer.style.paddingBottom=(l.barHeight=h.bottom)+"px";l.heightForcer.style.borderBottom=h.bottom+"px solid transparent";h.right&&h.bottom?(l.scrollbarFiller.style.display="block",l.scrollbarFiller.style.height=h.bottom+"px",l.scrollbarFiller.style.width=h.right+"px"):l.scrollbarFiller.style.display="";h.bottom&&b.options.coverGutterNextToScrollbar&&b.options.fixedGutter?(l.gutterFiller.style.display="block",l.gutterFiller.style.height=h.bottom+
"px",l.gutterFiller.style.width=e.gutterWidth+"px"):l.gutterFiller.style.display=""}function Cd(b){b.display.scrollbars&&(b.display.scrollbars.clear(),b.display.scrollbars.addClass&&wf(b.display.wrapper,b.display.scrollbars.addClass));b.display.scrollbars=new Fg[b.options.scrollbarStyle](function(e){b.display.wrapper.insertBefore(e,b.display.scrollbarFiller);Uc(e,"mousedown",function(){b.state.focused&&setTimeout(function(){return b.display.input.focus()},0)});e.setAttribute("cm-not-content","true")},
function(e,l){"horizontal"==l?Qc(b,e):qd(b,e)},b);b.display.scrollbars.addClass&&Ca(b.display.wrapper,b.display.scrollbars.addClass)}function jd(b){b.curOp={cm:b,viewChanged:!1,startHeight:b.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++lh,markArrays:null};b=b.curOp;Bf?Bf.ops.push(b):b.ownsGroup=Bf={ops:[b],delayedCallbacks:[]}}function od(b){(b=
b.curOp)&&Wb(b,function(e){for(var l=0;l<e.ops.length;l++)e.ops[l].cm.curOp=null;e=e.ops;for(l=0;l<e.length;l++){var h=e[l],q=h.cm,A=q.display,M=q.display;!M.scrollbarsClipped&&M.scroller.offsetWidth&&(M.nativeBarWidth=M.scroller.offsetWidth-M.scroller.clientWidth,M.heightForcer.style.height=sa(q)+"px",M.sizer.style.marginBottom=-M.nativeBarWidth+"px",M.sizer.style.borderRightWidth=sa(q)+"px",M.scrollbarsClipped=!0);h.updateMaxLine&&Zd(q);h.mustUpdate=h.viewChanged||h.forceUpdate||null!=h.scrollTop||
h.scrollToPos&&(h.scrollToPos.from.line<A.viewFrom||h.scrollToPos.to.line>=A.viewTo)||A.maxLineChanged&&q.options.lineWrapping;h.update=h.mustUpdate&&new dg(q,h.mustUpdate&&{top:h.scrollTop,ensure:h.scrollToPos},h.forceUpdate)}for(l=0;l<e.length;l++)h=e[l],h.updatedDisplay=h.mustUpdate&&ye(h.cm,h.update);for(l=0;l<e.length;l++)if(h=e[l],q=h.cm,A=q.display,h.updatedDisplay&&Yb(q),h.barMeasure=Cc(q),A.maxLineChanged&&!q.options.lineWrapping&&(M=A.maxLine.text.length,M=Ab(q,lb(q,A.maxLine),M,void 0),
h.adjustWidthTo=M.left+3,q.display.sizerWidth=h.adjustWidthTo,h.barMeasure.scrollWidth=Math.max(A.scroller.clientWidth,A.sizer.offsetLeft+h.adjustWidthTo+sa(q)+q.display.barWidth),h.maxScrollLeft=Math.max(0,A.sizer.offsetLeft+h.adjustWidthTo-ta(q))),h.updatedDisplay||h.selectionChanged)h.preparedSelection=A.input.prepareSelection();for(l=0;l<e.length;l++)h=e[l],q=h.cm,null!=h.adjustWidthTo&&(q.display.sizer.style.minWidth=h.adjustWidthTo+"px",h.maxScrollLeft<q.doc.scrollLeft&&Qc(q,Math.min(q.display.scroller.scrollLeft,
h.maxScrollLeft),!0),q.display.maxLineChanged=!1),A=h.focus&&h.focus==na(),h.preparedSelection&&q.display.input.showSelection(h.preparedSelection,A),(h.updatedDisplay||h.startHeight!=q.doc.height)&&md(q,h.barMeasure),h.updatedDisplay&&ue(q,h.barMeasure),h.selectionChanged&&Ea(q),q.state.focused&&h.updateInput&&q.display.input.reset(h.typing),A&&Ua(h.cm);for(l=0;l<e.length;l++){var P=void 0;h=e[l];q=h.cm;A=q.display;M=q.doc;h.updatedDisplay&&Xe(q,h.update);null==A.wheelStartX||null==h.scrollTop&&null==
h.scrollLeft&&!h.scrollToPos||(A.wheelStartX=A.wheelStartY=null);null!=h.scrollTop&&Id(q,h.scrollTop,h.forceScroll);null!=h.scrollLeft&&Qc(q,h.scrollLeft,!0,!0);if(h.scrollToPos){var pa=rb(M,h.scrollToPos.from);var Ka=rb(M,h.scrollToPos.to);var Xa=h.scrollToPos.margin;null==Xa&&(Xa=0);q.options.lineWrapping||pa!=Ka||(Ka="before"==pa.sticky?U(pa.line,pa.ch+1,"before"):pa,pa=pa.ch?U(pa.line,"before"==pa.sticky?pa.ch-1:pa.ch,"after"):pa);for(var pb=0;5>pb;pb++){var vb=!1;P=Fc(q,pa);var xb=Ka&&Ka!=pa?
Fc(q,Ka):P;P={left:Math.min(P.left,xb.left),top:Math.min(P.top,xb.top)-Xa,right:Math.max(P.left,xb.left),bottom:Math.max(P.bottom,xb.bottom)+Xa};xb=$c(q,P);var Zb=q.doc.scrollTop,vc=q.doc.scrollLeft;null!=xb.scrollTop&&(qd(q,xb.scrollTop),1<Math.abs(q.doc.scrollTop-Zb)&&(vb=!0));null!=xb.scrollLeft&&(Qc(q,xb.scrollLeft),1<Math.abs(q.doc.scrollLeft-vc)&&(vb=!0));if(!vb)break}Ka=P;x(q,"scrollCursorIntoView")||(Xa=q.display,pb=Xa.sizer.getBoundingClientRect(),pa=null,0>Ka.top+pb.top?pa=!0:Ka.bottom+
pb.top>(window.innerHeight||document.documentElement.clientHeight)&&(pa=!1),null==pa||mh||(Ka=u("div","​",null,"position: absolute;\n                         top: "+(Ka.top-Xa.viewOffset-q.display.lineSpace.offsetTop)+"px;\n                         height: "+(Ka.bottom-Ka.top+sa(q)+Xa.barHeight)+"px;\n                         left: "+Ka.left+"px; width: "+Math.max(2,Ka.right-Ka.left)+"px;"),q.display.lineSpace.appendChild(Ka),Ka.scrollIntoView(pa),q.display.lineSpace.removeChild(Ka)))}Ka=h.maybeHiddenMarkers;
pa=h.maybeUnhiddenMarkers;if(Ka)for(Xa=0;Xa<Ka.length;++Xa)Ka[Xa].lines.length||y(Ka[Xa],"hide");if(pa)for(Ka=0;Ka<pa.length;++Ka)pa[Ka].lines.length&&y(pa[Ka],"unhide");A.wrapper.offsetHeight&&(M.scrollTop=q.display.scroller.scrollTop);h.changeObjs&&y(q,"changes",q,h.changeObjs);h.update&&h.update.finish()}})}function rd(b,e){if(b.curOp)return e();jd(b);try{return e()}finally{od(b)}}function Wc(b,e){return function(){if(b.curOp)return e.apply(b,arguments);jd(b);try{return e.apply(b,arguments)}finally{od(b)}}}
function hd(b){return function(){if(this.curOp)return b.apply(this,arguments);jd(this);try{return b.apply(this,arguments)}finally{od(this)}}}function Kc(b){return function(){var e=this.cm;if(!e||e.curOp)return b.apply(this,arguments);jd(e);try{return b.apply(this,arguments)}finally{od(e)}}}function ud(b,e){b.doc.highlightFrontier<b.display.viewTo&&b.state.highlight.set(e,ea(qe,b))}function qe(b){var e=b.doc;if(!(e.highlightFrontier>=b.display.viewTo)){var l=+new Date+b.options.workTime,h=gc(b,e.highlightFrontier),
q=[];e.iter(h.line,Math.min(e.first+e.size,b.display.viewTo+500),function(A){if(h.line>=b.display.viewFrom){var M=A.styles,P=A.text.length>b.options.maxHighlightLength?Ma(e.mode,h.state):null,pa=Cb(b,A,h,!0);P&&(h.state=P);A.styles=pa.styles;P=A.styleClasses;(pa=pa.classes)?A.styleClasses=pa:P&&(A.styleClasses=null);pa=!M||M.length!=A.styles.length||P!=pa&&(!P||!pa||P.bgClass!=pa.bgClass||P.textClass!=pa.textClass);for(P=0;!pa&&P<M.length;++P)pa=M[P]!=A.styles[P];pa&&q.push(h.line);A.stateAfter=h.save()}else A.text.length<=
b.options.maxHighlightLength&&$b(b,A.text,h),A.stateAfter=0==h.line%5?h.save():null;h.nextLine();if(+new Date>l)return ud(b,b.options.workDelay),!0});e.highlightFrontier=h.line;e.modeFrontier=Math.max(e.modeFrontier,h.line);q.length&&rd(b,function(){for(var A=0;A<q.length;A++)ce(b,q[A],"text")})}}function ye(b,e){var l=b.display,h=b.doc;if(e.editorIsHidden)return Ae(b),!1;if(!e.force&&e.visible.from>=l.viewFrom&&e.visible.to<=l.viewTo&&(null==l.updateLineNumbers||l.updateLineNumbers>=l.viewTo)&&l.renderedView==
l.view&&0==df(b))return!1;Oe(b)&&(Ae(b),e.dims=fe(b));var q=h.first+h.size,A=Math.max(e.visible.from-b.options.viewportMargin,h.first),M=Math.min(q,e.visible.to+b.options.viewportMargin);l.viewFrom<A&&20>A-l.viewFrom&&(A=Math.max(h.first,l.viewFrom));l.viewTo>M&&20>l.viewTo-M&&(M=Math.min(q,l.viewTo));nf&&(A=Lb(b.doc,A),M=fd(b.doc,M));h=A!=l.viewFrom||M!=l.viewTo||l.lastWrapHeight!=e.wrapperHeight||l.lastWrapWidth!=e.wrapperWidth;q=b.display;0==q.view.length||A>=q.viewTo||M<=q.viewFrom?(q.view=Ob(b,
A,M),q.viewFrom=A):(q.viewFrom>A?q.view=Ob(b,A,q.viewFrom).concat(q.view):q.viewFrom<A&&(q.view=q.view.slice(re(b,A))),q.viewFrom=A,q.viewTo<M?q.view=q.view.concat(Ob(b,q.viewTo,M)):q.viewTo>M&&(q.view=q.view.slice(0,re(b,M))));q.viewTo=M;l.viewOffset=Zc(la(b.doc,l.viewFrom));b.display.mover.style.top=l.viewOffset+"px";M=df(b);if(!h&&0==M&&!e.force&&l.renderedView==l.view&&(null==l.updateLineNumbers||l.updateLineNumbers>=l.viewTo))return!1;b.hasFocus()?A=null:(A=na())&&ha(b.display.lineDiv,A)?(A=
{activeElt:A},window.getSelection&&(q=window.getSelection(),q.anchorNode&&q.extend&&ha(b.display.lineDiv,q.anchorNode)&&(A.anchorNode=q.anchorNode,A.anchorOffset=q.anchorOffset,A.focusNode=q.focusNode,A.focusOffset=q.focusOffset))):A=null;4<M&&(l.lineDiv.style.display="none");cf(b,l.updateLineNumbers,e.dims);4<M&&(l.lineDiv.style.display="");l.renderedView=l.view;(M=A)&&M.activeElt&&M.activeElt!=na()&&(M.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(M.activeElt.nodeName)&&M.anchorNode&&ha(document.body,
M.anchorNode)&&ha(document.body,M.focusNode)&&(A=window.getSelection(),q=document.createRange(),q.setEnd(M.anchorNode,M.anchorOffset),q.collapse(!1),A.removeAllRanges(),A.addRange(q),A.extend(M.focusNode,M.focusOffset)));ka(l.cursorDiv);ka(l.selectionDiv);l.gutters.style.height=l.sizer.style.minHeight=0;h&&(l.lastWrapHeight=e.wrapperHeight,l.lastWrapWidth=e.wrapperWidth,ud(b,400));l.updateLineNumbers=null;return!0}function Xe(b,e){for(var l=e.viewport,h=!0;;h=!1){if(h&&b.options.lineWrapping&&e.oldDisplayWidth!=
ta(b))h&&(e.visible=tc(b.display,b.doc,l));else if(l&&null!=l.top&&(l={top:Math.min(b.doc.height+F(b.display)-Ya(b),l.top)}),e.visible=tc(b.display,b.doc,l),e.visible.from>=b.display.viewFrom&&e.visible.to<=b.display.viewTo)break;if(!ye(b,e))break;Yb(b);h=Cc(b);t(b);md(b,h);ue(b,h);e.force=!1}e.signal(b,"update",b);if(b.display.viewFrom!=b.display.reportedViewFrom||b.display.viewTo!=b.display.reportedViewTo)e.signal(b,"viewportChange",b,b.display.viewFrom,b.display.viewTo),b.display.reportedViewFrom=
b.display.viewFrom,b.display.reportedViewTo=b.display.viewTo}function Ye(b,e){e=new dg(b,e);if(ye(b,e)){Yb(b);Xe(b,e);var l=Cc(b);t(b);md(b,l);ue(b,l);e.finish()}}function cf(b,e,l){function h(vb){var xb=vb.nextSibling;Ce&&$e&&b.display.currentWheelTarget==vb?vb.style.display="none":vb.parentNode.removeChild(vb);return xb}var q=b.display,A=b.options.lineNumbers,M=q.lineDiv,P=M.firstChild,pa=q.view;q=q.viewFrom;for(var Ka=0;Ka<pa.length;Ka++){var Xa=pa[Ka];if(!Xa.hidden)if(Xa.node&&Xa.node.parentNode==
M){for(;P!=Xa.node;)P=h(P);P=A&&null!=e&&e<=q&&Xa.lineNumber;Xa.changes&&(-1<W(Xa.changes,"gutter")&&(P=!1),cb(b,Xa,q,l));P&&(ka(Xa.lineNumber),Xa.lineNumber.appendChild(document.createTextNode(D(b.options,q))));P=Xa.node.nextSibling}else{var pb=Pb(b,Xa,q,l);M.insertBefore(pb,P)}q+=Xa.size}for(;P;)P=h(P)}function ve(b){b.sizer.style.marginLeft=b.gutters.offsetWidth+"px";Xb(b,"gutterChanged",b)}function ue(b,e){b.display.sizer.style.minHeight=e.docHeight+"px";b.display.heightForcer.style.top=e.docHeight+
"px";b.display.gutters.style.height=e.docHeight+b.display.barHeight+sa(b)+"px"}function ff(b){var e=b.display,l=e.view;if(e.alignWidgets||e.gutters.firstChild&&b.options.fixedGutter){for(var h=zc(e)-e.scroller.scrollLeft+b.doc.scrollLeft,q=e.gutters.offsetWidth,A=h+"px",M=0;M<l.length;M++)if(!l[M].hidden){b.options.fixedGutter&&(l[M].gutter&&(l[M].gutter.style.left=A),l[M].gutterBackground&&(l[M].gutterBackground.style.left=A));var P=l[M].alignable;if(P)for(var pa=0;pa<P.length;pa++)P[pa].style.left=
A}b.options.fixedGutter&&(e.gutters.style.left=h+q+"px")}}function Oe(b){if(!b.options.lineNumbers)return!1;var e=b.doc;e=D(b.options,e.first+e.size-1);var l=b.display;if(e.length!=l.lineNumChars){var h=l.measure.appendChild(u("div",[u("div",e)],"CodeMirror-linenumber CodeMirror-gutter-elt")),q=h.firstChild.offsetWidth;h=h.offsetWidth-q;l.lineGutter.style.width="";l.lineNumInnerWidth=Math.max(q,l.lineGutter.offsetWidth-h)+1;l.lineNumWidth=l.lineNumInnerWidth+h;l.lineNumChars=l.lineNumInnerWidth?e.length:
-1;l.lineGutter.style.width=l.lineNumWidth+"px";ve(b.display);return!0}return!1}function bf(b,e){for(var l=[],h=!1,q=0;q<b.length;q++){var A=b[q],M=null;"string"!=typeof A&&(M=A.style,A=A.className);if("CodeMirror-linenumbers"==A)if(e)h=!0;else continue;l.push({className:A,style:M})}e&&!h&&l.push({className:"CodeMirror-linenumbers",style:null});return l}function mf(b){var e=b.gutters,l=b.gutterSpecs;ka(e);b.lineGutter=null;for(var h=0;h<l.length;++h){var q=l[h],A=q.className;q=q.style;var M=e.appendChild(u("div",
null,"CodeMirror-gutter "+A));q&&(M.style.cssText=q);"CodeMirror-linenumbers"==A&&(b.lineGutter=M,M.style.width=(b.lineNumWidth||1)+"px")}e.style.display=l.length?"":"none";ve(b)}function Bd(b){mf(b.display);Sd(b);ff(b)}function Ge(b,e,l,h){this.input=l;this.scrollbarFiller=u("div",null,"CodeMirror-scrollbar-filler");this.scrollbarFiller.setAttribute("cm-not-content","true");this.gutterFiller=u("div",null,"CodeMirror-gutter-filler");this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=
B("div",null,"CodeMirror-code");this.selectionDiv=u("div",null,null,"position: relative; z-index: 1");this.cursorDiv=u("div",null,"CodeMirror-cursors");this.measure=u("div",null,"CodeMirror-measure");this.lineMeasure=u("div",null,"CodeMirror-measure");this.lineSpace=B("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");var q=B("div",[this.lineSpace],"CodeMirror-lines");this.mover=u("div",[q],null,"position: relative");this.sizer=
u("div",[this.mover],"CodeMirror-sizer");this.sizerWidth=null;this.heightForcer=u("div",null,null,"position: absolute; height: 50px; width: 1px;");this.gutters=u("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=u("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=u("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");this.wrapper.setAttribute("translate","no");sd&&8>Td&&(this.gutters.style.zIndex=
-1,this.scroller.style.paddingRight=0);Ce||of&&Jf||(this.scroller.draggable=!0);b&&(b.appendChild?b.appendChild(this.wrapper):b(this.wrapper));this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=e.first;this.view=[];this.externalMeasured=this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=!1;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null;
this.alignWidgets=!1;this.maxLine=this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null;this.maxLineLength=0;this.maxLineChanged=!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=null;this.gutterSpecs=bf(h.gutters,h.lineNumbers);mf(this);l.init(this)}function je(b){var e=b.wheelDeltaX,l=b.wheelDeltaY;null==e&&b.detail&&b.axis==b.HORIZONTAL_AXIS&&(e=b.detail);null==l&&b.detail&&b.axis==b.VERTICAL_AXIS?l=b.detail:
null==l&&(l=b.wheelDelta);return{x:e,y:l}}function Te(b){b=je(b);b.x*=pf;b.y*=pf;return b}function xe(b,e){var l=je(e),h=l.x;l=l.y;var q=pf;0===e.deltaMode&&(h=e.deltaX,l=e.deltaY,q=1);var A=b.display,M=A.scroller,P=M.scrollWidth>M.clientWidth,pa=M.scrollHeight>M.clientHeight;if(h&&P||l&&pa){if(l&&$e&&Ce){P=e.target;var Ka=A.view;a:for(;P!=M;P=P.parentNode)for(var Xa=0;Xa<Ka.length;Xa++)if(Ka[Xa].node==P){b.display.currentWheelTarget=P;break a}}!h||of||ef||null==q?(l&&null!=q&&(q*=l,pa=b.doc.scrollTop,
P=pa+A.wrapper.clientHeight,0>q?pa=Math.max(0,pa+q-50):P=Math.min(b.doc.height,P+q+50),Ye(b,{top:pa,bottom:P})),20>eg&&0!==e.deltaMode&&(null==A.wheelStartX?(A.wheelStartX=M.scrollLeft,A.wheelStartY=M.scrollTop,A.wheelDX=h,A.wheelDY=l,setTimeout(function(){if(null!=A.wheelStartX){var pb=M.scrollLeft-A.wheelStartX,vb=M.scrollTop-A.wheelStartY;pb=vb&&A.wheelDY&&vb/A.wheelDY||pb&&A.wheelDX&&pb/A.wheelDX;A.wheelStartX=A.wheelStartY=null;pb&&(pf=(pf*eg+pb)/(eg+1),++eg)}},200)):(A.wheelDX+=h,A.wheelDY+=
l))):(l&&pa&&qd(b,Math.max(0,M.scrollTop+l*q)),Qc(b,Math.max(0,M.scrollLeft+h*q)),(!l||l&&pa)&&ca(e),A.wheelStartX=null)}}function ke(b,e,l){b=b&&b.options.selectionsMayTouch;l=e[l];e.sort(function(pa,Ka){return ma(pa.from(),Ka.from())});l=W(e,l);for(var h=1;h<e.length;h++){var q=e[h],A=e[h-1],M=ma(A.to(),q.from());if(b&&!q.empty()?0<M:0<=M){M=Pa(A.from(),q.from());var P=Ia(A.to(),q.to());q=A.empty()?q.from()==q.head:A.from()==A.head;h<=l&&--l;e.splice(--h,2,new vd(q?P:M,q?M:P))}}return new We(e,
l)}function Hd(b,e){return new We([new vd(b,e||b)],0)}function Od(b){return b.text?U(b.from.line+b.text.length-1,R(b.text).length+(1==b.text.length?b.from.ch:0)):b.to}function Pe(b,e){if(0>ma(b,e.from))return b;if(0>=ma(b,e.to))return Od(e);var l=b.line+e.text.length-(e.to.line-e.from.line)-1,h=b.ch;b.line==e.to.line&&(h+=Od(e).ch-e.to.ch);return U(l,h)}function He(b,e){for(var l=[],h=0;h<b.sel.ranges.length;h++){var q=b.sel.ranges[h];l.push(new vd(Pe(q.anchor,e),Pe(q.head,e)))}return ke(b.cm,l,b.sel.primIndex)}
function ae(b,e,l){return b.line==e.line?U(l.line,b.ch-e.ch+l.ch):U(l.line+(b.line-e.line),b.ch)}function ze(b){b.doc.mode=qb(b.options,b.doc.modeOption);ee(b)}function ee(b){b.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null);e.styles&&(e.styles=null)});b.doc.modeFrontier=b.doc.highlightFrontier=b.doc.first;ud(b,100);b.state.modeGen++;b.curOp&&Sd(b)}function Ze(b,e){return 0==e.from.ch&&0==e.to.ch&&""==R(e.text)&&(!b.cm||b.cm.options.wholeLineUpdateBefore)}function le(b,e,l,h){function q(Zb,
vc,Vc){Zb.text=vc;Zb.stateAfter&&(Zb.stateAfter=null);Zb.styles&&(Zb.styles=null);null!=Zb.order&&(Zb.order=null);Vb(Zb);sb(Zb,Vc);vc=h?h(Zb):1;vc!=Zb.height&&qa(Zb,vc);Xb(Zb,"change",Zb,e)}function A(Zb,vc){for(var Vc=[];Zb<vc;++Zb)Vc.push(new Cf(pa[Zb],l?l[Zb]:null,h));return Vc}var M=e.from,P=e.to,pa=e.text,Ka=la(b,M.line),Xa=la(b,P.line),pb=R(pa),vb=l?l[pa.length-1]:null,xb=P.line-M.line;e.full?(b.insert(0,A(0,pa.length)),b.remove(pa.length,b.size-pa.length)):Ze(b,e)?(P=A(0,pa.length-1),q(Xa,
Xa.text,vb),xb&&b.remove(M.line,xb),P.length&&b.insert(M.line,P)):Ka==Xa?1==pa.length?q(Ka,Ka.text.slice(0,M.ch)+pb+Ka.text.slice(P.ch),vb):(xb=A(1,pa.length-1),xb.push(new Cf(pb+Ka.text.slice(P.ch),vb,h)),q(Ka,Ka.text.slice(0,M.ch)+pa[0],l?l[0]:null),b.insert(M.line+1,xb)):1==pa.length?(q(Ka,Ka.text.slice(0,M.ch)+pa[0]+Xa.text.slice(P.ch),l?l[0]:null),b.remove(M.line+1,xb)):(q(Ka,Ka.text.slice(0,M.ch)+pa[0],l?l[0]:null),q(Xa,pb+Xa.text.slice(P.ch),vb),vb=A(1,pa.length-1),1<xb&&b.remove(M.line+1,
xb-1),b.insert(M.line+1,vb));Xb(b,"change",b,e)}function se(b,e,l){function h(q,A,M){if(q.linked)for(var P=0;P<q.linked.length;++P){var pa=q.linked[P];if(pa.doc!=A){var Ka=M&&pa.sharedHist;if(!l||Ka)e(pa.doc,Ka),h(pa.doc,q,Ka)}}}h(b,null,!0)}function Le(b,e){if(e.cm)throw Error("This document is already in use.");b.doc=e;e.cm=b;nd(b);ze(b);Ed(b);b.options.direction=e.direction;b.options.lineWrapping||Zd(b);b.options.mode=e.modeOption;Sd(b)}function Ed(b){("rtl"==b.doc.direction?Ca:wf)(b.display.lineDiv,
"CodeMirror-rtl")}function be(b){rd(b,function(){Ed(b);Sd(b)})}function te(b){this.done=[];this.undone=[];this.undoDepth=b?b.undoDepth:Infinity;this.lastModTime=this.lastSelTime=0;this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=b?b.maxGeneration:1}function Fe(b,e){var l={from:za(e.from),to:Od(e),text:ua(b,e.from,e.to)};Pd(b,l,e.from.line,e.to.line+1);se(b,function(h){return Pd(h,l,e.from.line,e.to.line+1)},!0);return l}function Qe(b){for(;b.length;)if(R(b).ranges)b.pop();
else break}function Ne(b,e,l,h){var q=b.history;q.undone.length=0;var A=+new Date,M;if(M=q.lastOp==h||q.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&q.lastModTime>A-(b.cm?b.cm.options.historyEventDelay:500)||"*"==e.origin.charAt(0))){if(q.lastOp==h){Qe(q.done);var P=R(q.done)}else q.done.length&&!R(q.done).ranges?P=R(q.done):1<q.done.length&&!q.done[q.done.length-2].ranges?(q.done.pop(),P=R(q.done)):P=void 0;M=P}if(M){var pa=R(P.changes);0==ma(e.from,e.to)&&0==ma(e.from,pa.to)?pa.to=
Od(e):P.changes.push(Fe(b,e))}else for((P=R(q.done))&&P.ranges||bd(b.sel,q.done),P={changes:[Fe(b,e)],generation:q.generation},q.done.push(P);q.done.length>q.undoDepth;)q.done.shift(),q.done[0].ranges||q.done.shift();q.done.push(l);q.generation=++q.maxGeneration;q.lastModTime=q.lastSelTime=A;q.lastOp=q.lastSelOp=h;q.lastOrigin=q.lastSelOrigin=e.origin;pa||y(b,"historyAdded")}function bd(b,e){var l=R(e);l&&l.ranges&&l.equals(b)||e.push(b)}function Pd(b,e,l,h){var q=e["spans_"+b.id],A=0;b.iter(Math.max(b.first,
l),Math.min(b.first+b.size,h),function(M){M.markedSpans&&((q||(q=e["spans_"+b.id]={}))[A]=M.markedSpans);++A})}function Nd(b,e){var l;if(l=e["spans_"+b.id]){for(var h=[],q=0;q<e.text.length;++q){var A=h,M=A.push;var P=void 0;var pa=l[q];if(pa){for(var Ka=0;Ka<pa.length;++Ka)pa[Ka].marker.explicitlyCleared?P||(P=pa.slice(0,Ka)):P&&P.push(pa[Ka]);P=P?P.length?P:null:pa}else P=null;M.call(A,P)}l=h}else l=null;b=Bb(b,e);if(!l)return b;if(!b)return l;for(e=0;e<l.length;++e)if(h=l[e],q=b[e],h&&q)a:for(A=
0;A<q.length;++A){M=q[A];for(P=0;P<h.length;++P)if(h[P].marker==M.marker)continue a;h.push(M)}else q&&(l[e]=q);return l}function me(b,e,l){for(var h=[],q=0;q<b.length;++q){var A=b[q];if(A.ranges)h.push(l?We.prototype.deepCopy.call(A):A);else{A=A.changes;var M=[];h.push({changes:M});for(var P=0;P<A.length;++P){var pa=A[P],Ka;M.push({from:pa.from,to:pa.to,text:pa.text});if(e)for(var Xa in pa)(Ka=Xa.match(/^spans_(\d+)$/))&&-1<W(e,Number(Ka[1]))&&(R(M)[Xa]=pa[Xa],delete pa[Xa])}}}return h}function dd(b,
e,l,h){return h?(b=b.anchor,l&&(h=0>ma(e,b),h!=0>ma(l,b)?(b=e,e=l):h!=0>ma(e,l)&&(e=l)),new vd(b,e)):new vd(l||e,e)}function we(b,e,l,h,q){null==q&&(q=b.cm&&(b.cm.display.shift||b.extend));$a(b,new We([dd(b.sel.primary(),e,l,q)],0),h)}function Re(b,e,l){for(var h=[],q=b.cm&&(b.cm.display.shift||b.extend),A=0;A<b.sel.ranges.length;A++)h[A]=dd(b.sel.ranges[A],e[A],null,q);e=ke(b.cm,h,b.sel.primIndex);$a(b,e,l)}function Me(b,e,l,h){var q=b.sel.ranges.slice(0);q[e]=l;$a(b,ke(b.cm,q,b.sel.primIndex),h)}
function Sa(b,e,l){l={ranges:e.ranges,update:function(h){this.ranges=[];for(var q=0;q<h.length;q++)this.ranges[q]=new vd(rb(b,h[q].anchor),rb(b,h[q].head))},origin:l&&l.origin};y(b,"beforeSelectionChange",b,l);b.cm&&y(b.cm,"beforeSelectionChange",b.cm,l);return l.ranges!=e.ranges?ke(b.cm,l.ranges,l.ranges.length-1):e}function jb(b,e,l){var h=b.history.done,q=R(h);q&&q.ranges?(h[h.length-1]=e,Fb(b,e,l)):$a(b,e,l)}function $a(b,e,l){Fb(b,e,l);e=b.sel;var h=b.cm?b.cm.curOp.id:NaN,q=b.history,A=l&&l.origin,
M;if(!(M=h==q.lastSelOp)&&(M=A&&q.lastSelOrigin==A)&&!(M=q.lastModTime==q.lastSelTime&&q.lastOrigin==A)){M=R(q.done);var P=A.charAt(0);M="*"==P||"+"==P&&M.ranges.length==e.ranges.length&&M.somethingSelected()==e.somethingSelected()&&new Date-b.history.lastSelTime<=(b.cm?b.cm.options.historyEventDelay:500)}M?q.done[q.done.length-1]=e:bd(e,q.done);q.lastSelTime=+new Date;q.lastSelOrigin=A;q.lastSelOp=h;l&&!1!==l.clearRedo&&Qe(q.undone)}function Fb(b,e,l){if(da(b,"beforeSelectionChange")||b.cm&&da(b.cm,
"beforeSelectionChange"))e=Sa(b,e,l);var h=l&&l.bias||(0>ma(e.primary().head,b.sel.primary().head)?-1:1);ac(b,wc(b,e,h,!0));l&&!1===l.scroll||!b.cm||"nocursor"==b.cm.getOption("readOnly")||ld(b.cm)}function ac(b,e){e.equals(b.sel)||(b.sel=e,b.cm&&(b.cm.curOp.updateInput=1,b.cm.curOp.selectionChanged=!0,J(b.cm)),Xb(b,"cursorActivity",b))}function pc(b){ac(b,wc(b,b.sel,null,!1))}function wc(b,e,l,h){for(var q,A=0;A<e.ranges.length;A++){var M=e.ranges[A],P=e.ranges.length==b.sel.ranges.length&&b.sel.ranges[A],
pa=a(b,M.anchor,P&&P.anchor,l,h);P=a(b,M.head,P&&P.head,l,h);if(q||pa!=M.anchor||P!=M.head)q||(q=e.ranges.slice(0,A)),q[A]=new vd(pa,P)}return q?ke(b.cm,q,e.primIndex):e}function I(b,e,l,h,q){var A=la(b,e.line);if(A.markedSpans)for(var M=0;M<A.markedSpans.length;++M){var P=A.markedSpans[M],pa=P.marker,Ka="selectLeft"in pa?!pa.selectLeft:pa.inclusiveLeft,Xa="selectRight"in pa?!pa.selectRight:pa.inclusiveRight;if((null==P.from||(Ka?P.from<=e.ch:P.from<e.ch))&&(null==P.to||(Xa?P.to>=e.ch:P.to>e.ch))){if(q&&
(y(pa,"beforeCursorEnter"),pa.explicitlyCleared))if(A.markedSpans){--M;continue}else break;if(pa.atomic){if(l){M=pa.find(0>h?1:-1);P=void 0;if(0>h?Xa:Ka)M=g(b,M,-h,M&&M.line==e.line?A:null);if(M&&M.line==e.line&&(P=ma(M,l))&&(0>h?0>P:0<P))return I(b,M,e,h,q)}l=pa.find(0>h?-1:1);if(0>h?Ka:Xa)l=g(b,l,h,l.line==e.line?A:null);return l?I(b,l,e,h,q):null}}}return e}function a(b,e,l,h,q){h=h||1;e=I(b,e,l,h,q)||!q&&I(b,e,l,h,!0)||I(b,e,l,-h,q)||!q&&I(b,e,l,-h,!0);return e?e:(b.cantEdit=!0,U(b.first,0))}
function g(b,e,l,h){return 0>l&&0==e.ch?e.line>b.first?rb(b,U(e.line-1)):null:0<l&&e.ch==(h||la(b,e.line)).text.length?e.line<b.first+b.size-1?U(e.line+1,0):null:new U(e.line,e.ch+l)}function n(b){b.setSelection(U(b.firstLine(),0),U(b.lastLine()),jf)}function z(b,e,l){var h={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return h.canceled=!0}};l&&(h.update=function(q,A,M,P){q&&(h.from=rb(b,q));A&&(h.to=rb(b,A));M&&(h.text=M);void 0!==P&&(h.origin=P)});y(b,"beforeChange",
b,h);b.cm&&y(b.cm,"beforeChange",b.cm,h);return h.canceled?(b.cm&&(b.cm.curOp.updateInput=2),null):{from:h.from,to:h.to,text:h.text,origin:h.origin}}function T(b,e,l){if(b.cm){if(!b.cm.curOp)return Wc(b.cm,T)(b,e,l);if(b.cm.state.suppressEdits)return}if(da(b,"beforeChange")||b.cm&&da(b.cm,"beforeChange"))if(e=z(b,e,!0),!e)return;if(l=Gg&&!l&&Db(b,e.from,e.to))for(var h=l.length-1;0<=h;--h)Da(b,{from:l[h].from,to:l[h].to,text:h?[""]:e.text,origin:e.origin});else Da(b,e)}function Da(b,e){if(1!=e.text.length||
""!=e.text[0]||0!=ma(e.from,e.to)){var l=He(b,e);Ne(b,e,l,b.cm?b.cm.curOp.id:NaN);eb(b,e,l,Bb(b,e));var h=[];se(b,function(q,A){A||-1!=W(h,q.history)||(lc(q.history,e),h.push(q.history));eb(q,e,null,Bb(q,e))})}}function Ja(b,e,l){var h=b.cm&&b.cm.state.suppressEdits;if(!h||l){for(var q=b.history,A,M=b.sel,P="undo"==e?q.done:q.undone,pa="undo"==e?q.undone:q.done,Ka=0;Ka<P.length&&(A=P[Ka],l?!A.ranges||A.equals(b.sel):A.ranges);Ka++);if(Ka!=P.length){for(q.lastOrigin=q.lastSelOrigin=null;;)if(A=P.pop(),
A.ranges){bd(A,pa);if(l&&!A.equals(b.sel)){$a(b,A,{clearRedo:!1});return}M=A}else{if(h){P.push(A);return}break}var Xa=[];bd(M,pa);pa.push({changes:Xa,generation:q.generation});q.generation=A.generation||++q.maxGeneration;var pb=da(b,"beforeChange")||b.cm&&da(b.cm,"beforeChange");l=function(vb){var xb=A.changes[vb];xb.origin=e;if(pb&&!z(b,xb,!1))return P.length=0,{};Xa.push(Fe(b,xb));var Zb=vb?He(b,xb):R(P);eb(b,xb,Zb,Nd(b,xb));!vb&&b.cm&&b.cm.scrollIntoView({from:xb.from,to:Od(xb)});var vc=[];se(b,
function(Vc,pe){pe||-1!=W(vc,Vc.history)||(lc(Vc.history,xb),vc.push(Vc.history));eb(Vc,xb,null,Nd(Vc,xb))})};for(h=A.changes.length-1;0<=h;--h)if(q=l(h))return q.v}}}function Ra(b,e){if(0!=e&&(b.first+=e,b.sel=new We(ja(b.sel.ranges,function(q){return new vd(U(q.anchor.line+e,q.anchor.ch),U(q.head.line+e,q.head.ch))}),b.sel.primIndex),b.cm)){Sd(b.cm,b.first,b.first-e,e);for(var l=b.cm.display,h=l.viewFrom;h<l.viewTo;h++)ce(b.cm,h,"gutter")}}function eb(b,e,l,h){if(b.cm&&!b.cm.curOp)return Wc(b.cm,
eb)(b,e,l,h);if(e.to.line<b.first)Ra(b,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>b.lastLine())){if(e.from.line<b.first){var q=e.text.length-1-(b.first-e.from.line);Ra(b,q);e={from:U(b.first,0),to:U(e.to.line+q,e.to.ch),text:[R(e.text)],origin:e.origin}}q=b.lastLine();e.to.line>q&&(e={from:e.from,to:U(q,la(b,q).text.length),text:[e.text[0]],origin:e.origin});e.removed=ua(b,e.from,e.to);l||(l=He(b,e));b.cm?Jb(b.cm,e,h):le(b,e,h);Fb(b,l,jf);b.cantEdit&&a(b,U(b.firstLine(),0))&&(b.cantEdit=
!1)}}function Jb(b,e,l){var h=b.doc,q=b.display,A=e.from,M=e.to,P=!1,pa=A.line;b.options.lineWrapping||(pa=Aa(ab(la(h,A.line))),h.iter(pa,M.line+1,function(Ka){if(Ka==q.maxLine)return P=!0}));-1<h.sel.contains(e.from,e.to)&&J(b);le(h,e,l,oe(b));b.options.lineWrapping||(h.iter(pa,A.line+e.text.length,function(Ka){var Xa=$d(Ka);Xa>q.maxLineLength&&(q.maxLine=Ka,q.maxLineLength=Xa,q.maxLineChanged=!0,P=!1)}),P&&(b.curOp.updateMaxLine=!0));db(h,A.line);ud(b,400);l=e.text.length-(M.line-A.line)-1;e.full?
Sd(b):A.line!=M.line||1!=e.text.length||Ze(b.doc,e)?Sd(b,A.line,M.line+1,l):ce(b,A.line,"text");l=da(b,"changes");if((h=da(b,"change"))||l)e={from:A,to:M,text:e.text,removed:e.removed,origin:e.origin},h&&Xb(b,"change",b,e),l&&(b.curOp.changeObjs||(b.curOp.changeObjs=[])).push(e);b.display.selForContextMenu=null}function Ib(b,e,l,h,q){h||(h=l);0>ma(h,l)&&(h=[h,l],l=h[0],h=h[1]);"string"==typeof e&&(e=b.splitLines(e));T(b,{from:l,to:h,text:e,origin:q})}function Mb(b,e,l,h){l<b.line?b.line+=h:e<b.line&&
(b.line=e,b.ch=0)}function fc(b,e,l,h){for(var q=0;q<b.length;++q){var A=b[q],M=!0;if(A.ranges)for(A.copied||(A=b[q]=A.deepCopy(),A.copied=!0),M=0;M<A.ranges.length;M++)Mb(A.ranges[M].anchor,e,l,h),Mb(A.ranges[M].head,e,l,h);else{for(var P=0;P<A.changes.length;++P){var pa=A.changes[P];if(l<pa.from.line)pa.from=U(pa.from.line+h,pa.from.ch),pa.to=U(pa.to.line+h,pa.to.ch);else if(e<=pa.to.line){M=!1;break}}M||(b.splice(0,q+1),q=0)}}}function lc(b,e){var l=e.from.line,h=e.to.line;e=e.text.length-(h-l)-
1;fc(b.done,l,h,e);fc(b.undone,l,h,e)}function nc(b,e,l,h){var q=e,A=e;"number"==typeof e?A=la(b,Math.max(b.first,Math.min(e,b.first+b.size-1))):q=Aa(e);if(null==q)return null;h(A,q)&&b.cm&&ce(b.cm,q,l);return A}function Oc(b){this.lines=b;this.parent=null;for(var e=0,l=0;l<b.length;++l)b[l].parent=this,e+=b[l].height;this.height=e}function Jc(b){this.children=b;for(var e=0,l=0,h=0;h<b.length;++h){var q=b[h];e+=q.chunkSize();l+=q.height;q.parent=this}this.size=e;this.height=l;this.parent=null}function yc(b,
e,l,h){var q=new Kf(b,l,h),A=b.cm;A&&q.noHScroll&&(A.display.alignWidgets=!0);nc(b,e,"widget",function(M){var P=M.widgets||(M.widgets=[]);null==q.insertAt?P.push(q):P.splice(Math.min(P.length,Math.max(0,q.insertAt)),0,q);q.line=M;A&&!Yc(b,M)&&(P=Zc(M)<b.scrollTop,qa(M,M.height+r(q)),P&&Gc(A,q.height),A.curOp.forceUpdate=!0);return!0});A&&Xb(A,"lineWidgetAdded",A,q,"number"==typeof e?e:Aa(e));return q}function qc(b,e,l,h,q){if(h&&h.shared)return jc(b,e,l,h,q);if(b.cm&&!b.cm.curOp)return Wc(b.cm,qc)(b,
e,l,h,q);var A=new qf(b,q);q=ma(e,l);h&&Q(h,A,!1);if(0<q||0==q&&!1!==A.clearWhenEmpty)return A;A.replacedWith&&(A.collapsed=!0,A.widgetNode=B("span",[A.replacedWith],"CodeMirror-widget"),h.handleMouseEvents||A.widgetNode.setAttribute("cm-ignore-events","true"),h.insertLeft&&(A.widgetNode.insertLeft=!0));if(A.collapsed){if(Va(b,e.line,e,l,A)||e.line!=l.line&&Va(b,l.line,e,l,A))throw Error("Inserting collapsed marker partially overlapping an existing one");nf=!0}A.addToHistory&&Ne(b,{from:e,to:l,origin:"markText"},
b.sel,NaN);var M=e.line,P=b.cm,pa;b.iter(M,l.line+1,function(Ka){P&&A.collapsed&&!P.options.lineWrapping&&ab(Ka)==P.display.maxLine&&(pa=!0);A.collapsed&&M!=e.line&&qa(Ka,0);var Xa=new ub(A,M==e.line?e.ch:null,M==l.line?l.ch:null),pb=b.cm&&b.cm.curOp;(pb=pb&&window.WeakSet&&(pb.markedSpans||(pb.markedSpans=new WeakSet)))&&pb.has(Ka.markedSpans)?Ka.markedSpans.push(Xa):(Ka.markedSpans=Ka.markedSpans?Ka.markedSpans.concat([Xa]):[Xa],pb&&pb.add(Ka.markedSpans));Xa.marker.attachLine(Ka);++M});A.collapsed&&
b.iter(e.line,l.line+1,function(Ka){Yc(b,Ka)&&qa(Ka,0)});A.clearOnEnter&&Uc(A,"beforeCursorEnter",function(){return A.clear()});A.readOnly&&(Gg=!0,(b.history.done.length||b.history.undone.length)&&b.clearHistory());A.collapsed&&(A.id=++Hg,A.atomic=!0);if(P){pa&&(P.curOp.updateMaxLine=!0);if(A.collapsed)Sd(P,e.line,l.line+1);else if(A.className||A.startStyle||A.endStyle||A.css||A.attributes||A.title)for(h=e.line;h<=l.line;h++)ce(P,h,"text");A.atomic&&pc(P.doc);Xb(P,"markerAdded",P,A)}return A}function jc(b,
e,l,h,q){h=Q(h);h.shared=!1;var A=[qc(b,e,l,h,q)],M=A[0],P=h.widgetNode;se(b,function(pa){P&&(h.widgetNode=P.cloneNode(!0));A.push(qc(pa,rb(pa,e),rb(pa,l),h,q));for(var Ka=0;Ka<pa.linked.length;++Ka)if(pa.linked[Ka].isParent)return;M=R(A)});return new Lf(A,M)}function Ec(b){return b.findMarks(U(b.first,0),b.clipPos(U(b.lastLine())),function(e){return e.parent})}function kd(b){for(var e=function(h){h=b[h];var q=[h.primary.doc];se(h.primary.doc,function(P){return q.push(P)});for(var A=0;A<h.markers.length;A++){var M=
h.markers[A];-1==W(q,M.doc)&&(M.parent=null,h.markers.splice(A--,1))}},l=0;l<b.length;l++)e(l)}function zd(b){var e=this;Ad(e);if(!x(e,b)&&!w(e.display,b)){ca(b);sd&&(Ig=+new Date);var l=Yd(e,b,!0),h=b.dataTransfer.files;if(l&&!e.isReadOnly())if(h&&h.length&&window.FileReader&&window.File)for(var q=h.length,A=Array(q),M=0,P=function(){++M==q&&Wc(e,function(){l=rb(e.doc,l);var Xa={from:l,to:l,text:e.doc.splitLines(A.filter(function(pb){return null!=pb}).join(e.doc.lineSeparator())),origin:"paste"};
T(e.doc,Xa);jb(e.doc,Hd(rb(e.doc,l),rb(e.doc,Od(Xa))))})()},pa=function(Xa,pb){if(e.options.allowDropFileTypes&&-1==W(e.options.allowDropFileTypes,Xa.type))P();else{var vb=new FileReader;vb.onerror=function(){return P()};vb.onload=function(){var xb=vb.result;/[\x00-\x08\x0e-\x1f]{2}/.test(xb)||(A[pb]=xb);P()};vb.readAsText(Xa)}},Ka=0;Ka<h.length;Ka++)pa(h[Ka],Ka);else if(e.state.draggingText&&-1<e.doc.sel.contains(l))e.state.draggingText(b),setTimeout(function(){return e.display.input.focus()},20);
else try{if(pa=b.dataTransfer.getData("Text")){e.state.draggingText&&!e.state.draggingText.copy&&(Ka=e.listSelections());Fb(e.doc,Hd(l,l));if(Ka)for(h=0;h<Ka.length;++h)Ib(e.doc,"",Ka[h].anchor,Ka[h].head,"drag");e.replaceSelection(pa,"around","paste");e.display.input.focus()}}catch(Xa){}}}function Ad(b){b.display.dragCursor&&(b.display.lineSpace.removeChild(b.display.dragCursor),b.display.dragCursor=null)}function cd(b){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),
l=[],h=0;h<e.length;h++){var q=e[h].CodeMirror;q&&l.push(q)}l.length&&l[0].operation(function(){for(var A=0;A<l.length;A++)b(l[A])})}}function ad(){var b;Uc(window,"resize",function(){null==b&&(b=setTimeout(function(){b=null;cd(he)},100))});Uc(window,"blur",function(){return cd(kb)})}function he(b){var e=b.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null;e.scrollbarsClipped=!1;b.setSize()}function Ee(b){var e=b.split(/-(?!$)/);b=e[e.length-1];for(var l,h,q,A,M=0;M<e.length-1;M++){var P=
e[M];if(/^(cmd|meta|m)$/i.test(P))A=!0;else if(/^a(lt)?$/i.test(P))l=!0;else if(/^(c|ctrl|control)$/i.test(P))h=!0;else if(/^s(hift)?$/i.test(P))q=!0;else throw Error("Unrecognized modifier name: "+P);}l&&(b="Alt-"+b);h&&(b="Ctrl-"+b);A&&(b="Cmd-"+b);q&&(b="Shift-"+b);return b}function Be(b){var e={},l;for(l in b)if(b.hasOwnProperty(l)){var h=b[l];if(!/^(name|fallthrough|(de|at)tach)$/.test(l)){if("..."!=h)for(var q=ja(l.split(" "),Ee),A=0;A<q.length;A++){if(A==q.length-1){var M=q.join(" ");var P=
h}else M=q.slice(0,A+1).join(" "),P="...";var pa=e[M];if(!pa)e[M]=P;else if(pa!=P)throw Error("Inconsistent bindings for "+M);}delete b[l]}}for(var Ka in e)b[Ka]=e[Ka];return b}function af(b,e,l,h){e=kf(e);var q=e.call?e.call(b,h):e[b];if(!1===q)return"nothing";if("..."===q)return"multi";if(null!=q&&l(q))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return af(b,e.fallthrough,l,h);for(q=0;q<e.fallthrough.length;q++){var A=af(b,e.fallthrough[q],
l,h);if(A)return A}}}function Ac(b){b="string"==typeof b?b:rf[b.keyCode];return"Ctrl"==b||"Alt"==b||"Shift"==b||"Mod"==b}function ie(b,e,l){var h=b;e.altKey&&"Alt"!=h&&(b="Alt-"+b);(Jg?e.metaKey:e.ctrlKey)&&"Ctrl"!=h&&(b="Ctrl-"+b);(Jg?e.ctrlKey:e.metaKey)&&"Mod"!=h&&(b="Cmd-"+b);!l&&e.shiftKey&&"Shift"!=h&&(b="Shift-"+b);return b}function lf(b,e){if(ef&&34==b.keyCode&&b["char"])return!1;var l=rf[b.keyCode];if(null==l||b.altGraphKey)return!1;3==b.keyCode&&b.code&&(l=b.code);return ie(l,b,e)}function kf(b){return"string"==
typeof b?Mf[b]:b}function Df(b,e){for(var l=b.doc.sel.ranges,h=[],q=0;q<l.length;q++){for(var A=e(l[q]);h.length&&0>=ma(A.from,R(h).to);){var M=h.pop();if(0>ma(M.from,A.from)){A.from=M.from;break}}h.push(A)}rd(b,function(){for(var P=h.length-1;0<=P;P--)Ib(b.doc,"",h[P].from,h[P].to,"+delete");ld(b)})}function sg(b,e,l){e=c(b.text,e+l,l);return 0>e||e>b.text.length?null:e}function tg(b,e,l){b=sg(b,e.ch,l);return null==b?null:new U(e.line,b,0>l?"after":"before")}function ug(b,e,l,h,q){if(b&&("rtl"==
e.doc.direction&&(q=-q),b=p(l,e.doc.direction))){b=0>q?R(b):b[0];var A=0>q==(1==b.level)?"after":"before";if(0<b.level||"rtl"==e.doc.direction){var M=lb(e,l);var P=0>q?l.text.length-1:0;var pa=Ab(e,M,P).top;P=d(function(Ka){return Ab(e,M,Ka).top==pa},0>q==(1==b.level)?b.from:b.to-1,P);"before"==A&&(P=sg(l,P,1))}else P=0>q?b.to:b.from;return new U(h,P,A)}return new U(h,0>q?l.text.length:0,0>q?"before":"after")}function nh(b,e,l,h){var q=p(e,b.doc.direction);if(!q)return tg(e,l,h);l.ch>=e.text.length?
(l.ch=e.text.length,l.sticky="before"):0>=l.ch&&(l.ch=0,l.sticky="after");var A=k(q,l.ch,l.sticky),M=q[A];if("ltr"==b.doc.direction&&0==M.level%2&&(0<h?M.to>l.ch:M.from<l.ch))return tg(e,l,h);var P=function(xb,Zb){return sg(e,xb instanceof U?xb.ch:xb,Zb)},pa,Ka=function(xb){if(!b.options.lineWrapping)return{begin:0,end:e.text.length};pa=pa||lb(b,e);return Xc(b,e,pa,xb)},Xa=Ka("before"==l.sticky?P(l,-1):l.ch);if("rtl"==b.doc.direction||1==M.level){var pb=1==M.level==0>h,vb=P(l,pb?1:-1);if(null!=vb&&
(pb?vb<=M.to&&vb<=Xa.end:vb>=M.from&&vb>=Xa.begin))return new U(l.line,vb,pb?"before":"after")}M=function(xb,Zb,vc){for(var Vc=function(xd,Jd){return Jd?new U(l.line,P(xd,1),"before"):new U(l.line,xd,"after")};0<=xb&&xb<q.length;xb+=Zb){var pe=q[xb],Nc=0<Zb==(1!=pe.level),Fd=Nc?vc.begin:P(vc.end,-1);if(pe.from<=Fd&&Fd<pe.to)return Vc(Fd,Nc);Fd=Nc?pe.from:P(pe.to,-1);if(vc.begin<=Fd&&Fd<vc.end)return Vc(Fd,Nc)}};if(A=M(A+h,h,Xa))return A;Xa=0<h?Xa.end:P(Xa.begin,-1);return null==Xa||0<h&&Xa==e.text.length||
!(A=M(0<h?0:q.length-1,h,Ka(Xa)))?null:A}function Kg(b,e){var l=la(b.doc,e),h=ab(l);h!=l&&(e=Aa(h));return ug(!0,b,h,e,1)}function Lg(b,e){var l=Kg(b,e.line),h=la(b.doc,l.line);b=p(h,b.doc.direction);return b&&0!=b[0].level?l:(h=Math.max(l.ch,h.text.search(/\S/)),U(l.line,e.line==l.line&&e.ch<=h&&e.ch?0:h,l.sticky))}function fg(b,e,l){if("string"==typeof e&&(e=Nf[e],!e))return!1;b.display.input.ensurePolled();var h=b.display.shift,q=!1;try{b.isReadOnly()&&(b.state.suppressEdits=!0),l&&(b.display.shift=
!1),q=e(b)!=gg}finally{b.display.shift=h,b.state.suppressEdits=!1}return q}function Of(b,e,l,h){var q=b.state.keySeq;if(q){if(Ac(e))return"handled";/'$/.test(e)?b.state.keySeq=null:oh.set(50,function(){b.state.keySeq==q&&(b.state.keySeq=null,b.display.input.reset())});if(Mg(b,q+" "+e,l,h))return!0}return Mg(b,e,l,h)}function Mg(b,e,l,h){a:{for(var q=0;q<b.state.keyMaps.length;q++){var A=af(e,b.state.keyMaps[q],h,b);if(A){h=A;break a}}h=b.options.extraKeys&&af(e,b.options.extraKeys,h,b)||af(e,b.options.keyMap,
h,b)}"multi"==h&&(b.state.keySeq=e);"handled"==h&&Xb(b,"keyHandled",b,e,l);if("handled"==h||"multi"==h)ca(l),Ea(b);return!!h}function Ng(b,e){var l=lf(e,!0);return l?e.shiftKey&&!b.state.keySeq?Of(b,"Shift-"+l,e,function(h){return fg(b,h,!0)})||Of(b,l,e,function(h){if("string"==typeof h?/^go[A-Z]/.test(h):h.motion)return fg(b,h)}):Of(b,l,e,function(h){return fg(b,h)}):!1}function ph(b,e,l){return Of(b,"'"+l+"'",e,function(h){return fg(b,h,!0)})}function Og(b){if(!b.target||b.target==this.display.input.getField())if(this.curOp.focus=
na(),!x(this,b)){sd&&11>Td&&27==b.keyCode&&(b.returnValue=!1);var e=b.keyCode;this.display.shift=16==e||b.shiftKey;var l=Ng(this,b);ef&&(vg=l?e:null,!l&&88==e&&!qh&&($e?b.metaKey:b.ctrlKey)&&this.replaceSelection("",null,"cut"));of&&!$e&&!l&&46==e&&b.shiftKey&&!b.ctrlKey&&document.execCommand&&document.execCommand("cut");18!=e||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||rh(this)}}function rh(b){function e(h){18!=h.keyCode&&h.altKey||(wf(l,"CodeMirror-crosshair"),v(document,"keyup",
e),v(document,"mouseover",e))}var l=b.display.lineDiv;Ca(l,"CodeMirror-crosshair");Uc(document,"keyup",e);Uc(document,"mouseover",e)}function Pg(b){16==b.keyCode&&(this.doc.sel.shift=!1);x(this,b)}function Qg(b){if(!(b.target&&b.target!=this.display.input.getField()||w(this.display,b)||x(this,b)||b.ctrlKey&&!b.altKey||$e&&b.metaKey)){var e=b.keyCode,l=b.charCode;if(ef&&e==vg)vg=null,ca(b);else if(!ef||b.which&&!(10>b.which)||!Ng(this,b))if(e=String.fromCharCode(null==l?e:l),"\b"!=e&&!ph(this,b,e))this.display.input.onKeyPress(b)}}
function sh(b,e){var l=+new Date;if(Pf&&Pf.compare(l,b,e))return Qf=Pf=null,"triple";if(Qf&&Qf.compare(l,b,e))return Pf=new wg(l,b,e),Qf=null,"double";Qf=new wg(l,b,e);Pf=null;return"single"}function Rg(b){var e=this.display;if(!(x(this,b)||e.activeTouch&&e.input.supportsTouch()))if(e.input.ensurePolled(),e.shift=b.shiftKey,w(e,b))Ce||(e.scroller.draggable=!1,setTimeout(function(){return e.scroller.draggable=!0},100));else if(!hg(this,b,"gutterClick",!0)){var l=Yd(this,b),h=Wa(b),q=l?sh(l,h):"single";
window.focus();1==h&&this.state.selectingText&&this.state.selectingText(b);if(!l||!th(this,h,l,q,b))if(1==h)l?uh(this,l,q,b):(b.target||b.srcElement)==e.scroller&&ca(b);else if(2==h)l&&we(this.doc,l),setTimeout(function(){return e.input.focus()},20);else if(3==h)if(xg)this.display.input.onContextMenu(b);else mb(this)}}function th(b,e,l,h,q){var A="Click";"double"==h?A="Double"+A:"triple"==h&&(A="Triple"+A);return Of(b,ie((1==e?"Left":2==e?"Middle":"Right")+A,q),q,function(M){"string"==typeof M&&(M=
Nf[M]);if(!M)return!1;var P=!1;try{b.isReadOnly()&&(b.state.suppressEdits=!0),P=M(b,l)!=gg}finally{b.state.suppressEdits=!1}return P})}function uh(b,e,l,h){sd?setTimeout(ea(Ua,b),0):b.curOp.focus=na();var q=b.getOption("configureMouse");q=q?q(b,l,h):{};null==q.unit&&(q.unit=(vh?h.shiftKey&&h.metaKey:h.altKey)?"rectangle":"single"==l?"char":"double"==l?"word":"line");if(null==q.extend||b.doc.extend)q.extend=b.doc.extend||h.shiftKey;null==q.addNew&&(q.addNew=$e?h.metaKey:h.ctrlKey);null==q.moveOnDrag&&
(q.moveOnDrag=!($e?h.altKey:h.ctrlKey));var A=b.doc.sel,M;b.options.dragDrop&&wh&&!b.isReadOnly()&&"single"==l&&-1<(M=A.contains(e))&&(0>ma((M=A.ranges[M]).from(),e)||0<e.xRel)&&(0<ma(M.to(),e)||0>e.xRel)?xh(b,h,e,q):yh(b,h,e,q)}function xh(b,e,l,h){var q=b.display,A=!1,M=Wc(b,function(Ka){Ce&&(q.scroller.draggable=!1);b.state.draggingText=!1;b.state.delayingBlurEvent&&(b.hasFocus()?b.state.delayingBlurEvent=!1:mb(b));v(q.wrapper.ownerDocument,"mouseup",M);v(q.wrapper.ownerDocument,"mousemove",P);
v(q.scroller,"dragstart",pa);v(q.scroller,"drop",M);A||(ca(Ka),h.addNew||we(b.doc,l,null,null,h.extend),Ce&&!ig||sd&&9==Td?setTimeout(function(){q.wrapper.ownerDocument.body.focus({preventScroll:!0});q.input.focus()},20):q.input.focus())}),P=function(Ka){A=A||10<=Math.abs(e.clientX-Ka.clientX)+Math.abs(e.clientY-Ka.clientY)},pa=function(){return A=!0};Ce&&(q.scroller.draggable=!0);b.state.draggingText=M;M.copy=!h.moveOnDrag;Uc(q.wrapper.ownerDocument,"mouseup",M);Uc(q.wrapper.ownerDocument,"mousemove",
P);Uc(q.scroller,"dragstart",pa);Uc(q.scroller,"drop",M);b.state.delayingBlurEvent=!0;setTimeout(function(){return q.input.focus()},20);q.scroller.dragDrop&&q.scroller.dragDrop()}function Sg(b,e,l){if("char"==l)return new vd(e,e);if("word"==l)return b.findWordAt(e);if("line"==l)return new vd(U(e.line,0),rb(b.doc,U(e.line+1,0)));b=l(b,e);return new vd(b.from,b.to)}function yh(b,e,l,h){function q(Nc){if(0!=ma(xb,Nc))if(xb=Nc,"rectangle"==h.unit){var Fd=[],xd=b.options.tabSize,Jd=ba(la(pa,l.line).text,
l.ch,xd),Ld=ba(la(pa,Nc.line).text,Nc.ch,xd),id=Math.min(Jd,Ld);Jd=Math.max(Jd,Ld);Ld=Math.min(l.line,Nc.line);for(var Kd=Math.min(b.lastLine(),Math.max(l.line,Nc.line));Ld<=Kd;Ld++){var td=la(pa,Ld).text,yd=aa(td,id,xd);id==Jd?Fd.push(new vd(U(Ld,yd),U(Ld,yd))):td.length>yd&&Fd.push(new vd(U(Ld,yd),U(Ld,aa(td,Jd,xd))))}Fd.length||Fd.push(new vd(l,l));$a(pa,ke(b,Ka.ranges.slice(0,pb).concat(Fd),pb),{origin:"*mouse",scroll:!1});b.scrollIntoView(Nc)}else Fd=vb,id=Sg(b,Nc,h.unit),Nc=Fd.anchor,0<ma(id.anchor,
Nc)?(xd=id.head,Nc=Pa(Fd.from(),id.anchor)):(xd=id.anchor,Nc=Ia(Fd.to(),id.head)),Fd=Ka.ranges.slice(0),Fd[pb]=zh(b,new vd(rb(pa,Nc),xd)),$a(pa,ke(b,Fd,pb),yg)}function A(Nc){var Fd=++vc,xd=Yd(b,Nc,!0,"rectangle"==h.unit);if(xd)if(0!=ma(xd,xb)){b.curOp.focus=na();q(xd);var Jd=tc(P,pa);(xd.line>=Jd.to||xd.line<Jd.from)&&setTimeout(Wc(b,function(){vc==Fd&&A(Nc)}),150)}else{var Ld=Nc.clientY<Zb.top?-20:Nc.clientY>Zb.bottom?20:0;Ld&&setTimeout(Wc(b,function(){vc==Fd&&(P.scroller.scrollTop+=Ld,A(Nc))}),
50)}}function M(Nc){b.state.selectingText=!1;vc=Infinity;Nc&&(ca(Nc),P.input.focus());v(P.wrapper.ownerDocument,"mousemove",Vc);v(P.wrapper.ownerDocument,"mouseup",pe);pa.history.lastSelOrigin=null}sd&&mb(b);var P=b.display,pa=b.doc;ca(e);var Ka=pa.sel,Xa=Ka.ranges;if(h.addNew&&!h.extend){var pb=pa.sel.contains(l);var vb=-1<pb?Xa[pb]:new vd(l,l)}else vb=pa.sel.primary(),pb=pa.sel.primIndex;"rectangle"==h.unit?(h.addNew||(vb=new vd(l,l)),l=Yd(b,e,!0,!0),pb=-1):(e=Sg(b,l,h.unit),vb=h.extend?dd(vb,e.anchor,
e.head,h.extend):e);h.addNew?-1==pb?(pb=Xa.length,$a(pa,ke(b,Xa.concat([vb]),pb),{scroll:!1,origin:"*mouse"})):1<Xa.length&&Xa[pb].empty()&&"char"==h.unit&&!h.extend?($a(pa,ke(b,Xa.slice(0,pb).concat(Xa.slice(pb+1)),0),{scroll:!1,origin:"*mouse"}),Ka=pa.sel):Me(pa,pb,vb,yg):(pb=0,$a(pa,new We([vb],0),yg),Ka=pa.sel);var xb=l,Zb=P.wrapper.getBoundingClientRect(),vc=0,Vc=Wc(b,function(Nc){0!==Nc.buttons&&Wa(Nc)?A(Nc):M(Nc)}),pe=Wc(b,M);b.state.selectingText=pe;Uc(P.wrapper.ownerDocument,"mousemove",
Vc);Uc(P.wrapper.ownerDocument,"mouseup",pe)}function zh(b,e){var l=e.anchor,h=e.head,q=la(b.doc,l.line);if(0==ma(l,h)&&l.sticky==h.sticky)return e;q=p(q);if(!q)return e;var A=k(q,l.ch,l.sticky),M=q[A];if(M.from!=l.ch&&M.to!=l.ch)return e;var P=A+(M.from==l.ch==(1!=M.level)?0:1);if(0==P||P==q.length)return e;h.line!=l.line?b=0<(h.line-l.line)*("ltr"==b.doc.direction?1:-1):(b=k(q,h.ch,h.sticky),A=b-A||(h.ch-l.ch)*(1==M.level?-1:1),b=b==P-1||b==P?0>A:0<A);q=q[P+(b?-1:0)];q=(P=b==(1==q.level))?q.from:
q.to;P=P?"after":"before";return l.ch==q&&l.sticky==P?e:new vd(new U(l.line,q,P),h)}function hg(b,e,l,h){if(e.touches){var q=e.touches[0].clientX;var A=e.touches[0].clientY}else try{q=e.clientX,A=e.clientY}catch(pa){return!1}if(q>=Math.floor(b.display.gutters.getBoundingClientRect().right))return!1;h&&ca(e);h=b.display;var M=h.lineDiv.getBoundingClientRect();if(A>M.bottom||!da(b,l))return Ha(e);A-=M.top-h.viewOffset;for(M=0;M<b.display.gutterSpecs.length;++M){var P=h.gutters.childNodes[M];if(P&&P.getBoundingClientRect().right>=
q)return q=Na(b.doc,A),y(b,l,b,q,b.display.gutterSpecs[M].className,e),Ha(e)}}function Tg(b,e){var l;(l=w(b.display,e))||(l=da(b,"gutterContextMenu")?hg(b,e,"gutterContextMenu",!1):!1);if(!l&&!x(b,e,"contextmenu")&&!xg)b.display.input.onContextMenu(e)}function Ug(b){b.display.wrapper.className=b.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+b.options.theme.replace(/(^|\s)\s*/g," cm-s-");bc(b)}function Ah(b,e,l){!e!=!(l&&l!=Ef)&&(l=b.display.dragFunctions,e=e?Uc:v,e(b.display.scroller,"dragstart",
l.start),e(b.display.scroller,"dragenter",l.enter),e(b.display.scroller,"dragover",l.over),e(b.display.scroller,"dragleave",l.leave),e(b.display.scroller,"drop",l.drop))}function Bh(b){b.options.lineWrapping?(Ca(b.display.wrapper,"CodeMirror-wrap"),b.display.sizer.style.minWidth="",b.display.sizerWidth=null):(wf(b.display.wrapper,"CodeMirror-wrap"),Zd(b));nd(b);Sd(b);bc(b);setTimeout(function(){return md(b)},100)}function Wd(b,e){var l=this;if(!(this instanceof Wd))return new Wd(b,e);this.options=
e=e?Q(e):{};Q(Vg,e,!1);var h=e.value;"string"==typeof h?h=new Je(h,e.mode,null,e.lineSeparator,e.direction):e.mode&&(h.modeOption=e.mode);this.doc=h;var q=new Wd.inputStyles[e.inputStyle](this);b=this.display=new Ge(b,h,q,e);b.wrapper.CodeMirror=this;Ug(this);e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");Cd(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,
highlight:new sf,keySeq:null,specialChars:null};e.autofocus&&!Jf&&b.input.focus();sd&&11>Td&&setTimeout(function(){return l.display.input.reset(!0)},20);Ch(this);Wg||(ad(),Wg=!0);jd(this);this.curOp.forceUpdate=!0;Le(this,h);e.autofocus&&!Jf||this.hasFocus()?setTimeout(function(){l.hasFocus()&&!l.state.focused&&hb(l)},20):kb(this);for(var A in jg)if(jg.hasOwnProperty(A))jg[A](this,e[A],Ef);Oe(this);e.finishInit&&e.finishInit(this);for(h=0;h<zg.length;++h)zg[h](this);od(this);Ce&&e.lineWrapping&&"optimizelegibility"==
getComputedStyle(b.lineDiv).textRendering&&(b.lineDiv.style.textRendering="auto")}function Ch(b){function e(){h.activeTouch&&(q=setTimeout(function(){return h.activeTouch=null},1E3),A=h.activeTouch,A.end=+new Date)}function l(P,pa){if(null==pa.left)return!0;var Ka=pa.left-P.left;P=pa.top-P.top;return 400<Ka*Ka+P*P}var h=b.display;Uc(h.scroller,"mousedown",Wc(b,Rg));sd&&11>Td?Uc(h.scroller,"dblclick",Wc(b,function(P){if(!x(b,P)){var pa=Yd(b,P);!pa||hg(b,P,"gutterClick",!0)||w(b.display,P)||(ca(P),
P=b.findWordAt(pa),we(b.doc,P.anchor,P.head))}})):Uc(h.scroller,"dblclick",function(P){return x(b,P)||ca(P)});Uc(h.scroller,"contextmenu",function(P){return Tg(b,P)});Uc(h.input.getField(),"contextmenu",function(P){h.scroller.contains(P.target)||Tg(b,P)});var q,A={end:0};Uc(h.scroller,"touchstart",function(P){var pa;if(pa=!x(b,P))1!=P.touches.length?pa=!1:(pa=P.touches[0],pa=1>=pa.radiusX&&1>=pa.radiusY),pa=!pa;pa&&!hg(b,P,"gutterClick",!0)&&(h.input.ensurePolled(),clearTimeout(q),pa=+new Date,h.activeTouch=
{start:pa,moved:!1,prev:300>=pa-A.end?A:null},1==P.touches.length&&(h.activeTouch.left=P.touches[0].pageX,h.activeTouch.top=P.touches[0].pageY))});Uc(h.scroller,"touchmove",function(){h.activeTouch&&(h.activeTouch.moved=!0)});Uc(h.scroller,"touchend",function(P){var pa=h.activeTouch;if(pa&&!w(h,P)&&null!=pa.left&&!pa.moved&&300>new Date-pa.start){var Ka=b.coordsChar(h.activeTouch,"page");pa=!pa.prev||l(pa,pa.prev)?new vd(Ka,Ka):!pa.prev.prev||l(pa,pa.prev.prev)?b.findWordAt(Ka):new vd(U(Ka.line,0),
rb(b.doc,U(Ka.line+1,0)));b.setSelection(pa.anchor,pa.head);b.focus();ca(P)}e()});Uc(h.scroller,"touchcancel",e);Uc(h.scroller,"scroll",function(){h.scroller.clientHeight&&(qd(b,h.scroller.scrollTop),Qc(b,h.scroller.scrollLeft,!0),y(b,"scroll",b))});Uc(h.scroller,"mousewheel",function(P){return xe(b,P)});Uc(h.scroller,"DOMMouseScroll",function(P){return xe(b,P)});Uc(h.wrapper,"scroll",function(){return h.wrapper.scrollTop=h.wrapper.scrollLeft=0});h.dragFunctions={enter:function(P){x(b,P)||Oa(P)},
over:function(P){if(!x(b,P)){var pa=Yd(b,P);if(pa){var Ka=document.createDocumentFragment();S(b,pa,Ka);b.display.dragCursor||(b.display.dragCursor=u("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),b.display.lineSpace.insertBefore(b.display.dragCursor,b.display.cursorDiv));Fa(b.display.dragCursor,Ka)}Oa(P)}},start:function(P){if(sd&&(!b.state.draggingText||100>+new Date-Ig))Oa(P);else if(!x(b,P)&&!w(b.display,P)&&(P.dataTransfer.setData("Text",b.getSelection()),P.dataTransfer.effectAllowed=
"copyMove",P.dataTransfer.setDragImage&&!ig)){var pa=u("img",null,null,"position: fixed; left: 0; top: 0;");pa.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";ef&&(pa.width=pa.height=1,b.display.wrapper.appendChild(pa),pa._top=pa.offsetTop);P.dataTransfer.setDragImage(pa,0,0);ef&&pa.parentNode.removeChild(pa)}},drop:Wc(b,zd),leave:function(P){x(b,P)||Ad(b)}};var M=h.input.getField();Uc(M,"keyup",function(P){return Pg.call(b,P)});Uc(M,"keydown",Wc(b,Og));Uc(M,
"keypress",Wc(b,Qg));Uc(M,"focus",function(P){return hb(b,P)});Uc(M,"blur",function(P){return kb(b,P)})}function Rf(b,e,l,h){var q=b.doc,A;null==l&&(l="add");"smart"==l&&(q.mode.indent?A=gc(b,e).state:l="prev");var M=b.options.tabSize,P=la(q,e),pa=ba(P.text,null,M);P.stateAfter&&(P.stateAfter=null);var Ka=P.text.match(/^\s*/)[0];if(!h&&!/\S/.test(P.text)){var Xa=0;l="not"}else if("smart"==l&&(Xa=q.mode.indent(A,P.text.slice(Ka.length),P.text),Xa==gg||150<Xa)){if(!h)return;l="prev"}"prev"==l?Xa=e>
q.first?ba(la(q,e-1).text,null,M):0:"add"==l?Xa=pa+b.options.indentUnit:"subtract"==l?Xa=pa-b.options.indentUnit:"number"==typeof l&&(Xa=pa+l);Xa=Math.max(0,Xa);l="";h=0;if(b.options.indentWithTabs)for(b=Math.floor(Xa/M);b;--b)h+=M,l+="\t";h<Xa&&(l+=H(Xa-h));if(l!=Ka)return Ib(q,l,U(e,0),U(e,Ka.length),"+input"),P.stateAfter=null,!0;for(M=0;M<q.sel.ranges.length;M++)if(P=q.sel.ranges[M],P.head.line==e&&P.head.ch<Ka.length){e=U(e,Ka.length);Me(q,M,new vd(e,e));break}}function Ag(b,e,l,h,q){var A=b.doc;
b.display.shift=!1;h||(h=A.sel);var M=+new Date-200,P="paste"==q||b.state.pasteIncoming>M,pa=Bg(e),Ka=null;if(P&&1<h.ranges.length)if(Se&&Se.text.join("\n")==e){if(0==h.ranges.length%Se.text.length){Ka=[];for(var Xa=0;Xa<Se.text.length;Xa++)Ka.push(A.splitLines(Se.text[Xa]))}}else pa.length==h.ranges.length&&b.options.pasteLinesPerSelection&&(Ka=ja(pa,function(vc){return[vc]}));Xa=b.curOp.updateInput;for(var pb=h.ranges.length-1;0<=pb;pb--){var vb=h.ranges[pb],xb=vb.from(),Zb=vb.to();vb.empty()&&
(l&&0<l?xb=U(xb.line,xb.ch-l):b.state.overwrite&&!P?Zb=U(Zb.line,Math.min(la(A,Zb.line).text.length,Zb.ch+R(pa).length)):P&&Se&&Se.lineWise&&Se.text.join("\n")==pa.join("\n")&&(xb=Zb=U(xb.line,0)));vb={from:xb,to:Zb,text:Ka?Ka[pb%Ka.length]:pa,origin:q||(P?"paste":b.state.cutIncoming>M?"cut":"+input")};T(b.doc,vb);Xb(b,"inputRead",b,vb)}e&&!P&&Xg(b,e);ld(b);2>b.curOp.updateInput&&(b.curOp.updateInput=Xa);b.curOp.typing=!0;b.state.pasteIncoming=b.state.cutIncoming=-1}function Yg(b,e){var l=b.clipboardData&&
b.clipboardData.getData("Text");if(l)return b.preventDefault(),e.isReadOnly()||e.options.disableInput||rd(e,function(){return Ag(e,l,0,null,"paste")}),!0}function Xg(b,e){if(b.options.electricChars&&b.options.smartIndent)for(var l=b.doc.sel,h=l.ranges.length-1;0<=h;h--){var q=l.ranges[h];if(!(100<q.head.ch||h&&l.ranges[h-1].head.line==q.head.line)){var A=b.getModeAt(q.head),M=!1;if(A.electricChars)for(var P=0;P<A.electricChars.length;P++){if(-1<e.indexOf(A.electricChars.charAt(P))){M=Rf(b,q.head.line,
"smart");break}}else A.electricInput&&A.electricInput.test(la(b.doc,q.head.line).text.slice(0,q.head.ch))&&(M=Rf(b,q.head.line,"smart"));M&&Xb(b,"electricInput",b,q.head.line)}}}function Zg(b){for(var e=[],l=[],h=0;h<b.doc.sel.ranges.length;h++){var q=b.doc.sel.ranges[h].head.line;q={anchor:U(q,0),head:U(q+1,0)};l.push(q);e.push(b.getRange(q.anchor,q.head))}return{text:e,ranges:l}}function $g(b,e,l,h){b.setAttribute("autocorrect",l?"":"off");b.setAttribute("autocapitalize",h?"":"off");b.setAttribute("spellcheck",
!!e)}function ah(){var b=u("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),e=u("div",[b],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");Ce?b.style.width="1000px":b.setAttribute("wrap","off");Sf&&(b.style.border="1px solid black");$g(b);return e}function Cg(b,e,l,h,q){function A(vc){if("codepoint"==h){var Vc=pa.text.charCodeAt(e.ch+(0<l?0:-1));Vc=isNaN(Vc)?null:new U(e.line,Math.max(0,Math.min(pa.text.length,
e.ch+l*((0<l?55296<=Vc&&56320>Vc:56320<=Vc&&57343>Vc)?2:1))),-l)}else Vc=q?nh(b.cm,pa,e,l):tg(pa,e,l);if(null==Vc){if(vc=!vc)vc=e.line+Ka,vc<b.first||vc>=b.first+b.size?vc=!1:(e=new U(vc,e.ch,e.sticky),vc=pa=la(b,vc));if(vc)e=ug(q,b.cm,pa,e.line,Ka);else return!1}else e=Vc;return!0}var M=e,P=l,pa=la(b,e.line),Ka=q&&"rtl"==b.direction?-l:l;if("char"==h||"codepoint"==h)A();else if("column"==h)A(!0);else if("word"==h||"group"==h)for(var Xa=null,pb="group"==h,vb=b.cm&&b.cm.getHelper(e,"wordChars"),xb=
!0;!(0>l)||A(!xb);xb=!1){var Zb=pa.text.charAt(e.ch)||"\n";Zb=X(Zb,vb)?"w":pb&&"\n"==Zb?"n":!pb||/\s/.test(Zb)?null:"p";!pb||xb||Zb||(Zb="s");if(Xa&&Xa!=Zb){0>l&&(l=1,A(),e.sticky="after");break}Zb&&(Xa=Zb);if(0<l&&!A(!xb))break}P=a(b,e,M,P,!0);Ta(M,P)&&(P.hitSide=!0);return P}function bh(b,e,l,h){var q=b.doc,A=e.left;if("page"==h){var M=Math.max(Math.min(b.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight)-.5*ne(b.display),3);M=(0<l?e.bottom:e.top)+l*M}else"line"==
h&&(M=0<l?e.bottom+3:e.top-3);for(;;){e=Tc(b,A,M);if(!e.outside)break;if(0>l?0>=M:M>=q.height){e.hitSide=!0;break}M+=5*l}return e}function ch(b,e){var l=Qa(b,e.line);if(!l||l.hidden)return null;var h=la(b.doc,e.line);l=ib(l,h,e.line);b=p(h,b.doc.direction);h="left";b&&(h=k(b,e.ch)%2?"right":"left");e=Kb(l.map,e.ch,h);e.offset="right"==e.collapse?e.end:e.start;return e}function Dh(b){for(;b;b=b.parentNode)if(/CodeMirror-gutter-wrapper/.test(b.className))return!0;return!1}function Ff(b,e){e&&(b.bad=
!0);return b}function Eh(b,e,l,h,q){function A(xb){return function(Zb){return Zb.id==xb}}function M(){Xa&&(Ka+=pb,vb&&(Ka+=pb),Xa=vb=!1)}function P(xb){xb&&(M(),Ka+=xb)}function pa(xb){if(1==xb.nodeType){var Zb=xb.getAttribute("cm-text");if(Zb)P(Zb);else{Zb=xb.getAttribute("cm-marker");var vc;if(Zb)xb=b.findMarks(U(h,0),U(q+1,0),A(+Zb)),xb.length&&(vc=xb[0].find(0))&&P(ua(b.doc,vc.from,vc.to).join(pb));else if("false"!=xb.getAttribute("contenteditable")&&(vc=/^(pre|div|p|li|table|br)$/i.test(xb.nodeName),
/^br$/i.test(xb.nodeName)||0!=xb.textContent.length)){vc&&M();for(Zb=0;Zb<xb.childNodes.length;Zb++)pa(xb.childNodes[Zb]);/^(pre|p)$/i.test(xb.nodeName)&&(vb=!0);vc&&(Xa=!0)}}}else 3==xb.nodeType&&P(xb.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var Ka="",Xa=!1,pb=b.doc.lineSeparator(),vb=!1;;){pa(e);if(e==l)break;e=e.nextSibling;vb=!1}return Ka}function kg(b,e,l){if(e==b.display.lineDiv){var h=b.display.lineDiv.childNodes[l];if(!h)return Ff(b.clipPos(U(b.display.viewTo-1)),!0);e=
null;l=0}else for(h=e;;h=h.parentNode){if(!h||h==b.display.lineDiv)return null;if(h.parentNode&&h.parentNode==b.display.lineDiv)break}for(var q=0;q<b.display.view.length;q++){var A=b.display.view[q];if(A.node==h)return Fh(A,e,l)}}function Fh(b,e,l){function h(Xa,pb,vb){for(var xb=-1;xb<(Ka?Ka.length:0);xb++)for(var Zb=0>xb?pa.map:Ka[xb],vc=0;vc<Zb.length;vc+=3){var Vc=Zb[vc+2];if(Vc==Xa||Vc==pb){pb=Aa(0>xb?b.line:b.rest[xb]);xb=Zb[vc]+vb;if(0>vb||Vc!=Xa)xb=Zb[vc+(vb?1:0)];return U(pb,xb)}}}var q=
b.text.firstChild,A=!1;if(!e||!ha(q,e))return Ff(U(Aa(b.line),0),!0);if(e==q&&(A=!0,e=q.childNodes[l],l=0,!e))return l=b.rest?R(b.rest):b.line,Ff(U(Aa(l),l.text.length),A);var M=3==e.nodeType?e:null,P=e;M||1!=e.childNodes.length||3!=e.firstChild.nodeType||(M=e.firstChild,l&&(l=M.nodeValue.length));for(;P.parentNode!=q;)P=P.parentNode;var pa=b.measure,Ka=pa.maps;if(e=h(M,P,l))return Ff(e,A);q=P.nextSibling;for(M=M?M.nodeValue.length-l:0;q;q=q.nextSibling){if(e=h(q,q.firstChild,0))return Ff(U(e.line,
e.ch-M),A);M+=q.textContent.length}for(P=P.previousSibling;P;P=P.previousSibling){if(e=h(P,P.firstChild,-1))return Ff(U(e.line,e.ch+l),A);l+=P.textContent.length}}var Ke=navigator.userAgent,dh=navigator.platform,of=/gecko\/\d/i.test(Ke),eh=/MSIE \d/.test(Ke),fh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ke),lg=/Edge\/(\d+)/.exec(Ke),sd=eh||fh||lg,Td=sd&&(eh?document.documentMode||6:+(lg||fh)[1]),Ce=!lg&&/WebKit\//.test(Ke),Gh=Ce&&/Qt\/\d+\.\d+/.test(Ke),bg=!lg&&/Chrome\//.test(Ke),ef=/Opera\//.test(Ke),
ig=/Apple Computer/.test(navigator.vendor),Hh=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Ke),mh=/PhantomJS/.test(Ke),Sf=ig&&(/Mobile\/\w+/.test(Ke)||2<navigator.maxTouchPoints),cg=/Android/.test(Ke),Jf=Sf||cg||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Ke),$e=Sf||/Mac/.test(dh),vh=/\bCrOS\b/.test(Ke),Ih=/win/i.test(dh),xf=ef&&Ke.match(/Version\/(\d*\.\d*)/);xf&&(xf=Number(xf[1]));xf&&15<=xf&&(ef=!1,Ce=!0);var Jg=$e&&(Gh||ef&&(null==xf||12.11>xf)),xg=of||sd&&9<=Td,wf=function(b,e){var l=b.className;
if(e=m(e).exec(l)){var h=l.slice(e.index+e[0].length);b.className=l.slice(0,e.index)+(h?e[1]+h:"")}};var Hf=document.createRange?function(b,e,l,h){var q=document.createRange();q.setEnd(h||b,l);q.setStart(b,e);return q}:function(b,e,l){var h=document.body.createTextRange();try{h.moveToElementText(b.parentNode)}catch(q){return h}h.collapse(!0);h.moveEnd("character",l);h.moveStart("character",e);return h};var Tf=function(b){b.select()};Sf?Tf=function(b){b.selectionStart=0;b.selectionEnd=b.value.length}:
sd&&(Tf=function(b){try{b.select()}catch(e){}});var sf=function(){this.f=this.id=null;this.time=0;this.handler=ea(this.onTimeout,this)};sf.prototype.onTimeout=function(b){b.id=0;b.time<=+new Date?b.f():setTimeout(b.handler,b.time-+new Date)};sf.prototype.set=function(b,e){this.f=e;e=+new Date+b;if(!this.id||e<this.time)clearTimeout(this.id),this.id=setTimeout(this.handler,b),this.time=e};var gg={toString:function(){return"CodeMirror.Pass"}},jf={scroll:!1},yg={origin:"*mouse"},Uf={origin:"+move"},
Zf=[""],gh=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,hh=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
Gf=null,ih=function(){function b(M,P,pa){this.level=M;this.from=P;this.to=pa}var e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,l=/[stwN]/,h=/[LRr]/,q=/[Lb1n]/,A=/[1n]/;return function(M,P){var pa="ltr"==P?"L":"R";if(0==M.length||"ltr"==P&&!e.test(M))return!1;for(var Ka=M.length,Xa=[],pb=0;pb<Ka;++pb){var vb=Xa,xb=vb.push;var Zb=M.charCodeAt(pb);Zb=247>=Zb?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(Zb):
1424<=Zb&&1524>=Zb?"R":1536<=Zb&&1785>=Zb?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(Zb-1536):1774<=Zb&&2220>=Zb?"r":8192<=Zb&&8203>=Zb?"w":8204==Zb?"b":"L";xb.call(vb,Zb)}pb=0;for(vb=pa;pb<Ka;++pb)xb=Xa[pb],"m"==xb?Xa[pb]=vb:vb=xb;pb=0;for(vb=pa;pb<Ka;++pb)xb=Xa[pb],"1"==xb&&"r"==vb?
Xa[pb]="n":h.test(xb)&&(vb=xb,"r"==xb&&(Xa[pb]="R"));pb=1;for(vb=Xa[0];pb<Ka-1;++pb)xb=Xa[pb],"+"==xb&&"1"==vb&&"1"==Xa[pb+1]?Xa[pb]="1":","!=xb||vb!=Xa[pb+1]||"1"!=vb&&"n"!=vb||(Xa[pb]=vb),vb=xb;for(pb=0;pb<Ka;++pb)if(vb=Xa[pb],","==vb)Xa[pb]="N";else if("%"==vb){for(vb=pb+1;vb<Ka&&"%"==Xa[vb];++vb);for(xb=pb&&"!"==Xa[pb-1]||vb<Ka&&"1"==Xa[vb]?"1":"N";pb<vb;++pb)Xa[pb]=xb;pb=vb-1}pb=0;for(vb=pa;pb<Ka;++pb)xb=Xa[pb],"L"==vb&&"1"==xb?Xa[pb]="L":h.test(xb)&&(vb=xb);for(vb=0;vb<Ka;++vb)if(l.test(Xa[vb])){for(pb=
vb+1;pb<Ka&&l.test(Xa[pb]);++pb);xb="L"==(vb?Xa[vb-1]:pa);for(xb=xb==("L"==(pb<Ka?Xa[pb]:pa))?xb?"L":"R":pa;vb<pb;++vb)Xa[vb]=xb;vb=pb-1}pa=[];var vc;for(pb=0;pb<Ka;)if(q.test(Xa[pb])){vb=pb;for(++pb;pb<Ka&&q.test(Xa[pb]);++pb);pa.push(new b(0,vb,pb))}else{var Vc=pb;vb=pa.length;xb="rtl"==P?1:0;for(++pb;pb<Ka&&"L"!=Xa[pb];++pb);for(Zb=Vc;Zb<pb;)if(A.test(Xa[Zb])){Vc<Zb&&(pa.splice(vb,0,new b(1,Vc,Zb)),vb+=xb);Vc=Zb;for(++Zb;Zb<pb&&A.test(Xa[Zb]);++Zb);pa.splice(vb,0,new b(2,Vc,Zb));vb+=xb;Vc=Zb}else++Zb;
Vc<pb&&pa.splice(vb,0,new b(1,Vc,pb))}"ltr"==P&&(1==pa[0].level&&(vc=M.match(/^\s+/))&&(pa[0].from=vc[0].length,pa.unshift(new b(0,0,vc[0].length))),1==R(pa).level&&(vc=M.match(/\s+$/))&&(R(pa).to-=vc[0].length,pa.push(new b(0,Ka-vc[0].length,Ka))));return"rtl"==P?pa.reverse():pa}}(),$f=[],Uc=function(b,e,l){b.addEventListener?b.addEventListener(e,l,!1):b.attachEvent?b.attachEvent("on"+e,l):(b=b._handlers||(b._handlers={}),b[e]=(b[e]||$f).concat(l))},wh=function(){if(sd&&9>Td)return!1;var b=u("div");
return"draggable"in b||"dragDrop"in b}(),pg,og,Bg=3!="\n\nb".split(/\n/).length?function(b){for(var e=0,l=[],h=b.length;e<=h;){var q=b.indexOf("\n",e);-1==q&&(q=b.length);var A=b.slice(e,"\r"==b.charAt(q-1)?q-1:q),M=A.indexOf("\r");-1!=M?(l.push(A.slice(0,M)),e+=M+1):(l.push(A),e=q+1)}return l}:function(b){return b.split(/\r\n?|\n/)},Jh=window.getSelection?function(b){try{return b.selectionStart!=b.selectionEnd}catch(e){return!1}}:function(b){try{var e=b.ownerDocument.selection.createRange()}catch(l){}return e&&
e.parentElement()==b?0!=e.compareEndPoints("StartToEnd",e):!1},qh=function(){var b=u("div");if("oncopy"in b)return!0;b.setAttribute("oncopy","return;");return"function"==typeof b.oncopy}(),qg=null,ng={},zf={},Af={},ge=function(b,e,l){this.pos=this.start=0;this.string=b;this.tabSize=e||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0;this.lineOracle=l};ge.prototype.eol=function(){return this.pos>=this.string.length};ge.prototype.sol=function(){return this.pos==this.lineStart};ge.prototype.peek=
function(){return this.string.charAt(this.pos)||void 0};ge.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};ge.prototype.eat=function(b){var e=this.string.charAt(this.pos);if("string"==typeof b?e==b:e&&(b.test?b.test(e):b(e)))return++this.pos,e};ge.prototype.eatWhile=function(b){for(var e=this.pos;this.eat(b););return this.pos>e};ge.prototype.eatSpace=function(){for(var b=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>
b};ge.prototype.skipToEnd=function(){this.pos=this.string.length};ge.prototype.skipTo=function(b){b=this.string.indexOf(b,this.pos);if(-1<b)return this.pos=b,!0};ge.prototype.backUp=function(b){this.pos-=b};ge.prototype.column=function(){this.lastColumnPos<this.start&&(this.lastColumnValue=ba(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?ba(this.string,this.lineStart,this.tabSize):0)};ge.prototype.indentation=
function(){return ba(this.string,null,this.tabSize)-(this.lineStart?ba(this.string,this.lineStart,this.tabSize):0)};ge.prototype.match=function(b,e,l){if("string"==typeof b){var h=function(A){return l?A.toLowerCase():A},q=this.string.substr(this.pos,b.length);if(h(q)==h(b))return!1!==e&&(this.pos+=b.length),!0}else{if((b=this.string.slice(this.pos).match(b))&&0<b.index)return null;b&&!1!==e&&(this.pos+=b[0].length);return b}};ge.prototype.current=function(){return this.string.slice(this.start,this.pos)};
ge.prototype.hideFirstChars=function(b,e){this.lineStart+=b;try{return e()}finally{this.lineStart-=b}};ge.prototype.lookAhead=function(b){var e=this.lineOracle;return e&&e.lookAhead(b)};ge.prototype.baseToken=function(){var b=this.lineOracle;return b&&b.baseToken(this.pos)};var ag=function(b,e){this.state=b;this.lookAhead=e},hf=function(b,e,l,h){this.state=e;this.doc=b;this.line=l;this.maxLookAhead=h||0;this.baseTokens=null;this.baseTokenPos=1};hf.prototype.lookAhead=function(b){var e=this.doc.getLine(this.line+
b);null!=e&&b>this.maxLookAhead&&(this.maxLookAhead=b);return e};hf.prototype.baseToken=function(b){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=b;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-b}};hf.prototype.nextLine=function(){this.line++;0<this.maxLookAhead&&this.maxLookAhead--};hf.fromSaved=function(b,e,l){return e instanceof ag?new hf(b,Ma(b.mode,e.state),l,e.lookAhead):
new hf(b,Ma(b.mode,e),l)};hf.prototype.save=function(b){b=!1!==b?Ma(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new ag(b,this.maxLookAhead):b};var Dg=function(b,e,l){this.start=b.start;this.end=b.pos;this.string=b.current();this.type=e||null;this.state=l},Gg=!1,nf=!1,Cf=function(b,e,l){this.text=b;sb(this,e);this.height=l?l(this):1};Cf.prototype.lineNo=function(){return Aa(this)};wa(Cf);var kh={},jh={},Bf=null,If=null,Eg={left:0,right:0,top:0,bottom:0},tf,yf=function(b,e,l){this.cm=
l;var h=this.vert=u("div",[u("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),q=this.horiz=u("div",[u("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");h.tabIndex=q.tabIndex=-1;b(h);b(q);Uc(h,"scroll",function(){h.clientHeight&&e(h.scrollTop,"vertical")});Uc(q,"scroll",function(){q.clientWidth&&e(q.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;sd&&8>Td&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};yf.prototype.update=function(b){var e=b.scrollWidth>
b.clientWidth+1,l=b.scrollHeight>b.clientHeight+1,h=b.nativeBarWidth;l?(this.vert.style.display="block",this.vert.style.bottom=e?h+"px":"0",this.vert.firstChild.style.height=Math.max(0,b.scrollHeight-b.clientHeight+(b.viewHeight-(e?h:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0");e?(this.horiz.style.display="block",this.horiz.style.right=l?h+"px":"0",this.horiz.style.left=b.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,b.scrollWidth-
b.clientWidth+(b.viewWidth-b.barLeft-(l?h:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedZeroWidth&&0<b.clientHeight&&(0==h&&this.zeroWidthHack(),this.checkedZeroWidth=!0);return{right:l?h:0,bottom:e?h:0}};yf.prototype.setScrollLeft=function(b){this.horiz.scrollLeft!=b&&(this.horiz.scrollLeft=b);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")};yf.prototype.setScrollTop=function(b){this.vert.scrollTop!=b&&(this.vert.scrollTop=
b);this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")};yf.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=$e&&!Hh?"12px":"18px";this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new sf;this.disableVert=new sf};yf.prototype.enableZeroWidthBar=function(b,e,l){function h(){var q=b.getBoundingClientRect();("vert"==l?document.elementFromPoint(q.right-1,(q.top+q.bottom)/2):document.elementFromPoint((q.right+q.left)/
2,q.bottom-1))!=b?b.style.pointerEvents="none":e.set(1E3,h)}b.style.pointerEvents="auto";e.set(1E3,h)};yf.prototype.clear=function(){var b=this.horiz.parentNode;b.removeChild(this.horiz);b.removeChild(this.vert)};var Vf=function(){};Vf.prototype.update=function(){return{bottom:0,right:0}};Vf.prototype.setScrollLeft=function(){};Vf.prototype.setScrollTop=function(){};Vf.prototype.clear=function(){};var Fg={"native":yf,"null":Vf},lh=0,dg=function(b,e,l){var h=b.display;this.viewport=e;this.visible=
tc(h,b.doc,e);this.editorIsHidden=!h.wrapper.offsetWidth;this.wrapperHeight=h.wrapper.clientHeight;this.wrapperWidth=h.wrapper.clientWidth;this.oldDisplayWidth=ta(b);this.force=l;this.dims=fe(b);this.events=[]};dg.prototype.signal=function(b,e){da(b,e)&&this.events.push(arguments)};dg.prototype.finish=function(){for(var b=0;b<this.events.length;b++)y.apply(null,this.events[b])};var eg=0,pf=null;sd?pf=-.53:of?pf=15:bg?pf=-.7:ig&&(pf=-1/3);var We=function(b,e){this.ranges=b;this.primIndex=e};We.prototype.primary=
function(){return this.ranges[this.primIndex]};We.prototype.equals=function(b){if(b==this)return!0;if(b.primIndex!=this.primIndex||b.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var l=this.ranges[e],h=b.ranges[e];if(!Ta(l.anchor,h.anchor)||!Ta(l.head,h.head))return!1}return!0};We.prototype.deepCopy=function(){for(var b=[],e=0;e<this.ranges.length;e++)b[e]=new vd(za(this.ranges[e].anchor),za(this.ranges[e].head));return new We(b,this.primIndex)};We.prototype.somethingSelected=
function(){for(var b=0;b<this.ranges.length;b++)if(!this.ranges[b].empty())return!0;return!1};We.prototype.contains=function(b,e){e||(e=b);for(var l=0;l<this.ranges.length;l++){var h=this.ranges[l];if(0<=ma(e,h.from())&&0>=ma(b,h.to()))return l}return-1};var vd=function(b,e){this.anchor=b;this.head=e};vd.prototype.from=function(){return Pa(this.anchor,this.head)};vd.prototype.to=function(){return Ia(this.anchor,this.head)};vd.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==
this.anchor.ch};Oc.prototype={chunkSize:function(){return this.lines.length},removeInner:function(b,e){for(var l=b,h=b+e;l<h;++l){var q=this.lines[l];this.height-=q.height;var A=q;A.parent=null;Vb(A);Xb(q,"delete")}this.lines.splice(b,e)},collapse:function(b){b.push.apply(b,this.lines)},insertInner:function(b,e,l){this.height+=l;this.lines=this.lines.slice(0,b).concat(e).concat(this.lines.slice(b));for(b=0;b<e.length;++b)e[b].parent=this},iterN:function(b,e,l){for(e=b+e;b<e;++b)if(l(this.lines[b]))return!0}};
Jc.prototype={chunkSize:function(){return this.size},removeInner:function(b,e){this.size-=e;for(var l=0;l<this.children.length;++l){var h=this.children[l],q=h.chunkSize();if(b<q){var A=Math.min(e,q-b),M=h.height;h.removeInner(b,A);this.height-=M-h.height;q==A&&(this.children.splice(l--,1),h.parent=null);if(0==(e-=A))break;b=0}else b-=q}25>this.size-e&&(1<this.children.length||!(this.children[0]instanceof Oc))&&(b=[],this.collapse(b),this.children=[new Oc(b)],this.children[0].parent=this)},collapse:function(b){for(var e=
0;e<this.children.length;++e)this.children[e].collapse(b)},insertInner:function(b,e,l){this.size+=e.length;this.height+=l;for(var h=0;h<this.children.length;++h){var q=this.children[h],A=q.chunkSize();if(b<=A){q.insertInner(b,e,l);if(q.lines&&50<q.lines.length){for(e=b=q.lines.length%25+25;e<q.lines.length;)l=new Oc(q.lines.slice(e,e+=25)),q.height-=l.height,this.children.splice(++h,0,l),l.parent=this;q.lines=q.lines.slice(0,b);this.maybeSpill()}break}b-=A}},maybeSpill:function(){if(!(10>=this.children.length)){var b=
this;do{var e=b.children.splice(b.children.length-5,5);e=new Jc(e);if(b.parent){b.size-=e.size;b.height-=e.height;var l=W(b.parent.children,b);b.parent.children.splice(l+1,0,e)}else l=new Jc(b.children),l.parent=b,b.children=[l,e],b=l;e.parent=b.parent}while(10<b.children.length);b.parent.maybeSpill()}},iterN:function(b,e,l){for(var h=0;h<this.children.length;++h){var q=this.children[h],A=q.chunkSize();if(b<A){A=Math.min(e,A-b);if(q.iterN(b,A,l))return!0;if(0==(e-=A))break;b=0}else b-=A}}};var Kf=
function(b,e,l){if(l)for(var h in l)l.hasOwnProperty(h)&&(this[h]=l[h]);this.doc=b;this.node=e};Kf.prototype.clear=function(){var b=this.doc.cm,e=this.line.widgets,l=this.line,h=Aa(l);if(null!=h&&e){for(var q=0;q<e.length;++q)e[q]==this&&e.splice(q--,1);e.length||(l.widgets=null);var A=r(this);qa(l,Math.max(0,l.height-A));b&&(rd(b,function(){var M=-A;Zc(l)<(b.curOp&&b.curOp.scrollTop||b.doc.scrollTop)&&Gc(b,M);ce(b,h,"widget")}),Xb(b,"lineWidgetCleared",b,this,h))}};Kf.prototype.changed=function(){var b=
this,e=this.height,l=this.doc.cm,h=this.line;this.height=null;var q=r(this)-e;q&&(Yc(this.doc,h)||qa(h,h.height+q),l&&rd(l,function(){l.curOp.forceUpdate=!0;Zc(h)<(l.curOp&&l.curOp.scrollTop||l.doc.scrollTop)&&Gc(l,q);Xb(l,"lineWidgetChanged",l,b,Aa(h))}))};wa(Kf);var Hg=0,qf=function(b,e){this.lines=[];this.type=e;this.doc=b;this.id=++Hg};qf.prototype.clear=function(){if(!this.explicitlyCleared){var b=this.doc.cm,e=b&&!b.curOp;e&&jd(b);if(da(this,"clear")){var l=this.find();l&&Xb(this,"clear",l.from,
l.to)}for(var h=l=null,q=0;q<this.lines.length;++q){var A=this.lines[q],M=ob(A.markedSpans,this);b&&!this.collapsed?ce(b,Aa(A),"text"):b&&(null!=M.to&&(h=Aa(A)),null!=M.from&&(l=Aa(A)));for(var P=A,pa=void 0,Ka=A.markedSpans,Xa=M,pb=0;pb<Ka.length;++pb)Ka[pb]!=Xa&&(pa||(pa=[])).push(Ka[pb]);P.markedSpans=pa;null==M.from&&this.collapsed&&!Yc(this.doc,A)&&b&&qa(A,ne(b.display))}if(b&&this.collapsed&&!b.options.lineWrapping)for(q=0;q<this.lines.length;++q)A=ab(this.lines[q]),M=$d(A),M>b.display.maxLineLength&&
(b.display.maxLine=A,b.display.maxLineLength=M,b.display.maxLineChanged=!0);null!=l&&b&&this.collapsed&&Sd(b,l,h+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,b&&pc(b.doc));b&&Xb(b,"markerCleared",b,this,l,h);e&&od(b);this.parent&&this.parent.clear()}};qf.prototype.find=function(b,e){null==b&&"bookmark"==this.type&&(b=1);for(var l,h,q=0;q<this.lines.length;++q){var A=this.lines[q],M=ob(A.markedSpans,this);if(null!=M.from&&(l=U(e?A:Aa(A),M.from),
-1==b))return l;if(null!=M.to&&(h=U(e?A:Aa(A),M.to),1==b))return h}return l&&{from:l,to:h}};qf.prototype.changed=function(){var b=this,e=this.find(-1,!0),l=this,h=this.doc.cm;e&&h&&rd(h,function(){var q=e.line,A=Aa(e.line);if(A=Qa(h,A))rc(A),h.curOp.selectionChanged=h.curOp.forceUpdate=!0;h.curOp.updateMaxLine=!0;Yc(l.doc,q)||null==l.height||(A=l.height,l.height=null,(A=r(l)-A)&&qa(q,q.height+A));Xb(h,"markerChanged",h,b)})};qf.prototype.attachLine=function(b){if(!this.lines.length&&this.doc.cm){var e=
this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=W(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(b)};qf.prototype.detachLine=function(b){this.lines.splice(W(this.lines,b),1);!this.lines.length&&this.doc.cm&&(b=this.doc.cm.curOp,(b.maybeHiddenMarkers||(b.maybeHiddenMarkers=[])).push(this))};wa(qf);var Lf=function(b,e){this.markers=b;this.primary=e;for(e=0;e<b.length;++e)b[e].parent=this};Lf.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=
!0;for(var b=0;b<this.markers.length;++b)this.markers[b].clear();Xb(this,"clear")}};Lf.prototype.find=function(b,e){return this.primary.find(b,e)};wa(Lf);var Kh=0,Je=function(b,e,l,h,q){if(!(this instanceof Je))return new Je(b,e,l,h,q);null==l&&(l=0);Jc.call(this,[new Oc([new Cf("",null)])]);this.first=l;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=l;l=U(l,0);this.sel=Hd(l);this.history=new te(null);this.id=++Kh;this.modeOption=
e;this.lineSep=h;this.direction="rtl"==q?"rtl":"ltr";this.extend=!1;"string"==typeof b&&(b=this.splitLines(b));le(this,{from:l,to:l,text:b});$a(this,Hd(l),jf)};Je.prototype=Y(Jc.prototype,{constructor:Je,iter:function(b,e,l){l?this.iterN(b-this.first,e-b,l):this.iterN(this.first,this.first+this.size,b)},insert:function(b,e){for(var l=0,h=0;h<e.length;++h)l+=e[h].height;this.insertInner(b-this.first,e,l)},remove:function(b,e){this.removeInner(b-this.first,e)},getValue:function(b){var e=G(this,this.first,
this.first+this.size);return!1===b?e:e.join(b||this.lineSeparator())},setValue:Kc(function(b){var e=U(this.first,0),l=this.first+this.size-1;T(this,{from:e,to:U(l,la(this,l).text.length),text:this.splitLines(b),origin:"setValue",full:!0},!0);this.cm&&gd(this.cm,0,0);$a(this,Hd(e),jf)}),replaceRange:function(b,e,l,h){e=rb(this,e);l=l?rb(this,l):e;Ib(this,b,e,l,h)},getRange:function(b,e,l){b=ua(this,rb(this,b),rb(this,e));return!1===l?b:""===l?b.join(""):b.join(l||this.lineSeparator())},getLine:function(b){return(b=
this.getLineHandle(b))&&b.text},getLineHandle:function(b){if(K(this,b))return la(this,b)},getLineNumber:function(b){return Aa(b)},getLineHandleVisualStart:function(b){"number"==typeof b&&(b=la(this,b));return ab(b)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(b){return rb(this,b)},getCursor:function(b){var e=this.sel.primary();return null==b||"head"==b?e.head:"anchor"==b?e.anchor:"end"==b||"to"==
b||!1===b?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Kc(function(b,e,l){b=rb(this,"number"==typeof b?U(b,e||0):b);$a(this,Hd(b,null),l)}),setSelection:Kc(function(b,e,l){var h=rb(this,b);b=rb(this,e||b);$a(this,Hd(h,b),l)}),extendSelection:Kc(function(b,e,l){we(this,rb(this,b),e&&rb(this,e),l)}),extendSelections:Kc(function(b,e){Re(this,wb(this,b),e)}),extendSelectionsBy:Kc(function(b,e){b=ja(this.sel.ranges,
b);Re(this,wb(this,b),e)}),setSelections:Kc(function(b,e,l){if(b.length){for(var h=[],q=0;q<b.length;q++)h[q]=new vd(rb(this,b[q].anchor),rb(this,b[q].head||b[q].anchor));null==e&&(e=Math.min(b.length-1,this.sel.primIndex));$a(this,ke(this.cm,h,e),l)}}),addSelection:Kc(function(b,e,l){var h=this.sel.ranges.slice(0);h.push(new vd(rb(this,b),rb(this,e||b)));$a(this,ke(this.cm,h,h.length-1),l)}),getSelection:function(b){for(var e=this.sel.ranges,l,h=0;h<e.length;h++){var q=ua(this,e[h].from(),e[h].to());
l=l?l.concat(q):q}return!1===b?l:l.join(b||this.lineSeparator())},getSelections:function(b){for(var e=[],l=this.sel.ranges,h=0;h<l.length;h++){var q=ua(this,l[h].from(),l[h].to());!1!==b&&(q=q.join(b||this.lineSeparator()));e[h]=q}return e},replaceSelection:function(b,e,l){for(var h=[],q=0;q<this.sel.ranges.length;q++)h[q]=b;this.replaceSelections(h,e,l||"+input")},replaceSelections:Kc(function(b,e,l){for(var h=[],q=this.sel,A=0;A<q.ranges.length;A++){var M=q.ranges[A];h[A]={from:M.from(),to:M.to(),
text:this.splitLines(b[A]),origin:l}}if(b=e&&"end"!=e){b=[];q=l=U(this.first,0);for(A=0;A<h.length;A++){var P=h[A];M=ae(P.from,l,q);var pa=ae(Od(P),l,q);l=P.to;q=pa;"around"==e?(P=this.sel.ranges[A],P=0>ma(P.head,P.anchor),b[A]=new vd(P?pa:M,P?M:pa)):b[A]=new vd(M,M)}b=new We(b,this.sel.primIndex)}e=b;for(b=h.length-1;0<=b;b--)T(this,h[b]);e?jb(this,e):this.cm&&ld(this.cm)}),undo:Kc(function(){Ja(this,"undo")}),redo:Kc(function(){Ja(this,"redo")}),undoSelection:Kc(function(){Ja(this,"undo",!0)}),
redoSelection:Kc(function(){Ja(this,"redo",!0)}),setExtending:function(b){this.extend=b},getExtending:function(){return this.extend},historySize:function(){for(var b=this.history,e=0,l=0,h=0;h<b.done.length;h++)b.done[h].ranges||++e;for(h=0;h<b.undone.length;h++)b.undone[h].ranges||++l;return{undo:e,redo:l}},clearHistory:function(){var b=this;this.history=new te(this.history);se(this,function(e){return e.history=b.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},
changeGeneration:function(b){b&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(b){return this.history.generation==(b||this.cleanGeneration)},getHistory:function(){return{done:me(this.history.done),undone:me(this.history.undone)}},setHistory:function(b){var e=this.history=new te(this.history);e.done=me(b.done.slice(0),null,!0);e.undone=me(b.undone.slice(0),null,!0)},setGutterMarker:Kc(function(b,e,l){return nc(this,b,"gutter",
function(h){var q=h.gutterMarkers||(h.gutterMarkers={});q[e]=l;!l&&ra(q)&&(h.gutterMarkers=null);return!0})}),clearGutter:Kc(function(b){var e=this;this.iter(function(l){l.gutterMarkers&&l.gutterMarkers[b]&&nc(e,l,"gutter",function(){l.gutterMarkers[b]=null;ra(l.gutterMarkers)&&(l.gutterMarkers=null);return!0})})}),lineInfo:function(b){if("number"==typeof b){if(!K(this,b))return null;var e=b;b=la(this,b);if(!b)return null}else if(e=Aa(b),null==e)return null;return{line:e,handle:b,text:b.text,gutterMarkers:b.gutterMarkers,
textClass:b.textClass,bgClass:b.bgClass,wrapClass:b.wrapClass,widgets:b.widgets}},addLineClass:Kc(function(b,e,l){return nc(this,b,"gutter"==e?"gutter":"class",function(h){var q="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(h[q]){if(m(l).test(h[q]))return!1;h[q]+=" "+l}else h[q]=l;return!0})}),removeLineClass:Kc(function(b,e,l){return nc(this,b,"gutter"==e?"gutter":"class",function(h){var q="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":
"wrapClass",A=h[q];if(A)if(null==l)h[q]=null;else{var M=A.match(m(l));if(!M)return!1;var P=M.index+M[0].length;h[q]=A.slice(0,M.index)+(M.index&&P!=A.length?" ":"")+A.slice(P)||null}else return!1;return!0})}),addLineWidget:Kc(function(b,e,l){return yc(this,b,e,l)}),removeLineWidget:function(b){b.clear()},markText:function(b,e,l){return qc(this,rb(this,b),rb(this,e),l,l&&l.type||"range")},setBookmark:function(b,e){e={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,
shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};b=rb(this,b);return qc(this,b,b,e,"bookmark")},findMarksAt:function(b){b=rb(this,b);var e=[],l=la(this,b.line).markedSpans;if(l)for(var h=0;h<l.length;++h){var q=l[h];(null==q.from||q.from<=b.ch)&&(null==q.to||q.to>=b.ch)&&e.push(q.marker.parent||q.marker)}return e},findMarks:function(b,e,l){b=rb(this,b);e=rb(this,e);var h=[],q=b.line;this.iter(b.line,e.line+1,function(A){if(A=A.markedSpans)for(var M=0;M<A.length;M++){var P=A[M];null!=P.to&&
q==b.line&&b.ch>=P.to||null==P.from&&q!=b.line||null!=P.from&&q==e.line&&P.from>=e.ch||l&&!l(P.marker)||h.push(P.marker.parent||P.marker)}++q});return h},getAllMarks:function(){var b=[];this.iter(function(e){if(e=e.markedSpans)for(var l=0;l<e.length;++l)null!=e[l].from&&b.push(e[l].marker)});return b},posFromIndex:function(b){var e,l=this.first,h=this.lineSeparator().length;this.iter(function(q){q=q.text.length+h;if(q>b)return e=b,!0;b-=q;++l});return rb(this,U(l,e))},indexFromPos:function(b){b=rb(this,
b);var e=b.ch;if(b.line<this.first||0>b.ch)return 0;var l=this.lineSeparator().length;this.iter(this.first,b.line,function(h){e+=h.text.length+l});return e},copy:function(b){var e=new Je(G(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);e.scrollTop=this.scrollTop;e.scrollLeft=this.scrollLeft;e.sel=this.sel;e.extend=!1;b&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory()));return e},linkedDoc:function(b){b||(b={});var e=this.first,
l=this.first+this.size;null!=b.from&&b.from>e&&(e=b.from);null!=b.to&&b.to<l&&(l=b.to);e=new Je(G(this,e,l),b.mode||this.modeOption,e,this.lineSep,this.direction);b.sharedHist&&(e.history=this.history);(this.linked||(this.linked=[])).push({doc:e,sharedHist:b.sharedHist});e.linked=[{doc:this,isParent:!0,sharedHist:b.sharedHist}];b=Ec(this);for(l=0;l<b.length;l++){var h=b[l],q=h.find(),A=e.clipPos(q.from);q=e.clipPos(q.to);ma(A,q)&&(A=qc(e,A,q,h.primary,h.primary.type),h.markers.push(A),A.parent=h)}return e},
unlinkDoc:function(b){b instanceof Wd&&(b=b.doc);if(this.linked)for(var e=0;e<this.linked.length;++e)if(this.linked[e].doc==b){this.linked.splice(e,1);b.unlinkDoc(this);kd(Ec(this));break}if(b.history==this.history){var l=[b.id];se(b,function(h){return l.push(h.id)},!0);b.history=new te(null);b.history.done=me(this.history.done,l);b.history.undone=me(this.history.undone,l)}},iterLinkedDocs:function(b){se(this,b)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(b){return this.lineSep?
b.split(this.lineSep):Bg(b)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Kc(function(b){"rtl"!=b&&(b="ltr");b!=this.direction&&(this.direction=b,this.iter(function(e){return e.order=null}),this.cm&&be(this.cm))})});Je.prototype.eachLine=Je.prototype.iter;for(var Ig=0,Wg=!1,rf={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",
44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"\x3d",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Wf=0;10>Wf;Wf++)rf[Wf+48]=rf[Wf+96]=String(Wf);for(var mg=65;90>=mg;mg++)rf[mg]=String.fromCharCode(mg);for(var Xf=
1;12>=Xf;Xf++)rf[Xf+111]=rf[Xf+63235]="F"+Xf;var Mf={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo",
"Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",
fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart",
"Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection",
"Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};Mf["default"]=$e?Mf.macDefault:Mf.pcDefault;var Nf={selectAll:n,singleSelection:function(b){return b.setSelection(b.getCursor("anchor"),b.getCursor("head"),jf)},killLine:function(b){return Df(b,function(e){if(e.empty()){var l=la(b.doc,e.head.line).text.length;return e.head.ch==l&&e.head.line<b.lastLine()?{from:e.head,to:U(e.head.line+1,0)}:{from:e.head,to:U(e.head.line,l)}}return{from:e.from(),
to:e.to()}})},deleteLine:function(b){return Df(b,function(e){return{from:U(e.from().line,0),to:rb(b.doc,U(e.to().line+1,0))}})},delLineLeft:function(b){return Df(b,function(e){return{from:U(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(b){return Df(b,function(e){var l=b.charCoords(e.head,"div").top+5;return{from:b.coordsChar({left:0,top:l},"div"),to:e.from()}})},delWrappedLineRight:function(b){return Df(b,function(e){var l=b.charCoords(e.head,"div").top+5;l=b.coordsChar({left:b.display.lineDiv.offsetWidth+
100,top:l},"div");return{from:e.from(),to:l}})},undo:function(b){return b.undo()},redo:function(b){return b.redo()},undoSelection:function(b){return b.undoSelection()},redoSelection:function(b){return b.redoSelection()},goDocStart:function(b){return b.extendSelection(U(b.firstLine(),0))},goDocEnd:function(b){return b.extendSelection(U(b.lastLine()))},goLineStart:function(b){return b.extendSelectionsBy(function(e){return Kg(b,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(b){return b.extendSelectionsBy(function(e){return Lg(b,
e.head)},{origin:"+move",bias:1})},goLineEnd:function(b){return b.extendSelectionsBy(function(e){e=e.head.line;var l=la(b.doc,e);var h=l;for(var q;q=uc(h,!1);)h=q.find(1,!0).line;h!=l&&(e=Aa(h));return ug(!0,b,l,e,-1)},{origin:"+move",bias:-1})},goLineRight:function(b){return b.extendSelectionsBy(function(e){e=b.cursorCoords(e.head,"div").top+5;return b.coordsChar({left:b.display.lineDiv.offsetWidth+100,top:e},"div")},Uf)},goLineLeft:function(b){return b.extendSelectionsBy(function(e){e=b.cursorCoords(e.head,
"div").top+5;return b.coordsChar({left:0,top:e},"div")},Uf)},goLineLeftSmart:function(b){return b.extendSelectionsBy(function(e){var l=b.cursorCoords(e.head,"div").top+5;l=b.coordsChar({left:0,top:l},"div");return l.ch<b.getLine(l.line).search(/\S/)?Lg(b,e.head):l},Uf)},goLineUp:function(b){return b.moveV(-1,"line")},goLineDown:function(b){return b.moveV(1,"line")},goPageUp:function(b){return b.moveV(-1,"page")},goPageDown:function(b){return b.moveV(1,"page")},goCharLeft:function(b){return b.moveH(-1,
"char")},goCharRight:function(b){return b.moveH(1,"char")},goColumnLeft:function(b){return b.moveH(-1,"column")},goColumnRight:function(b){return b.moveH(1,"column")},goWordLeft:function(b){return b.moveH(-1,"word")},goGroupRight:function(b){return b.moveH(1,"group")},goGroupLeft:function(b){return b.moveH(-1,"group")},goWordRight:function(b){return b.moveH(1,"word")},delCharBefore:function(b){return b.deleteH(-1,"codepoint")},delCharAfter:function(b){return b.deleteH(1,"char")},delWordBefore:function(b){return b.deleteH(-1,
"word")},delWordAfter:function(b){return b.deleteH(1,"word")},delGroupBefore:function(b){return b.deleteH(-1,"group")},delGroupAfter:function(b){return b.deleteH(1,"group")},indentAuto:function(b){return b.indentSelection("smart")},indentMore:function(b){return b.indentSelection("add")},indentLess:function(b){return b.indentSelection("subtract")},insertTab:function(b){return b.replaceSelection("\t")},insertSoftTab:function(b){for(var e=[],l=b.listSelections(),h=b.options.tabSize,q=0;q<l.length;q++){var A=
l[q].from();A=ba(b.getLine(A.line),A.ch,h);e.push(H(h-A%h))}b.replaceSelections(e)},defaultTab:function(b){b.somethingSelected()?b.indentSelection("add"):b.execCommand("insertTab")},transposeChars:function(b){return rd(b,function(){for(var e=b.listSelections(),l=[],h=0;h<e.length;h++)if(e[h].empty()){var q=e[h].head,A=la(b.doc,q.line).text;if(A)if(q.ch==A.length&&(q=new U(q.line,q.ch-1)),0<q.ch)q=new U(q.line,q.ch+1),b.replaceRange(A.charAt(q.ch-1)+A.charAt(q.ch-2),U(q.line,q.ch-2),q,"+transpose");
else if(q.line>b.doc.first){var M=la(b.doc,q.line-1).text;M&&(q=new U(q.line,1),b.replaceRange(A.charAt(0)+b.doc.lineSeparator()+M.charAt(M.length-1),U(q.line-1,M.length-1),q,"+transpose"))}l.push(new vd(q,q))}b.setSelections(l)})},newlineAndIndent:function(b){return rd(b,function(){for(var e=b.listSelections(),l=e.length-1;0<=l;l--)b.replaceRange(b.doc.lineSeparator(),e[l].anchor,e[l].head,"+input");e=b.listSelections();for(l=0;l<e.length;l++)b.indentLine(e[l].from().line,null,!0);ld(b)})},openLine:function(b){return b.replaceSelection("\n",
"start")},toggleOverwrite:function(b){return b.toggleOverwrite()}},oh=new sf,vg=null,wg=function(b,e,l){this.time=b;this.pos=e;this.button=l};wg.prototype.compare=function(b,e,l){return this.time+400>b&&0==ma(e,this.pos)&&l==this.button};var Qf,Pf,Ef={toString:function(){return"CodeMirror.Init"}},Vg={},jg={};Wd.defaults=Vg;Wd.optionHandlers=jg;var zg=[];Wd.defineInitHook=function(b){return zg.push(b)};var Se=null,Dd=function(b){this.cm=b;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=
this.lastFocusOffset=null;this.polling=new sf;this.composing=null;this.gracePeriod=!1;this.readDOMTimeout=null};Dd.prototype.init=function(b){function e(P){for(P=P.target;P;P=P.parentNode){if(P==M)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(P.className))break}return!1}function l(P){if(e(P)&&!x(A,P)){if(A.somethingSelected())Se={lineWise:!1,text:A.getSelections()},"cut"==P.type&&A.replaceSelection("",null,"cut");else if(A.options.lineWiseCopyCut){var pa=Zg(A);Se={lineWise:!0,text:pa.text};"cut"==
P.type&&A.operation(function(){A.setSelections(pa.ranges,0,jf);A.replaceSelection("",null,"cut")})}else return;if(P.clipboardData){P.clipboardData.clearData();var Ka=Se.text.join("\n");P.clipboardData.setData("Text",Ka);if(P.clipboardData.getData("Text")==Ka){P.preventDefault();return}}var Xa=ah();P=Xa.firstChild;A.display.lineSpace.insertBefore(Xa,A.display.lineSpace.firstChild);P.value=Se.text.join("\n");var pb=na();Tf(P);setTimeout(function(){A.display.lineSpace.removeChild(Xa);pb.focus();pb==
M&&q.showPrimarySelection()},50)}}var h=this,q=this,A=q.cm,M=q.div=b.lineDiv;M.contentEditable=!0;$g(M,A.options.spellcheck,A.options.autocorrect,A.options.autocapitalize);Uc(M,"paste",function(P){!e(P)||x(A,P)||Yg(P,A)||11>=Td&&setTimeout(Wc(A,function(){return h.updateFromDOM()}),20)});Uc(M,"compositionstart",function(P){h.composing={data:P.data,done:!1}});Uc(M,"compositionupdate",function(P){h.composing||(h.composing={data:P.data,done:!1})});Uc(M,"compositionend",function(P){h.composing&&(P.data!=
h.composing.data&&h.readFromDOMSoon(),h.composing.done=!0)});Uc(M,"touchstart",function(){return q.forceCompositionEnd()});Uc(M,"input",function(){h.composing||h.readFromDOMSoon()});Uc(M,"copy",l);Uc(M,"cut",l)};Dd.prototype.screenReaderLabelChanged=function(b){b?this.div.setAttribute("aria-label",b):this.div.removeAttribute("aria-label")};Dd.prototype.prepareSelection=function(){var b=C(this.cm,!1);b.focus=na()==this.div;return b};Dd.prototype.showSelection=function(b,e){b&&this.cm.display.view.length&&
((b.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(b))};Dd.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()};Dd.prototype.showPrimarySelection=function(){var b=this.getSelection(),e=this.cm,l=e.doc.sel.primary(),h=l.from();l=l.to();if(e.display.viewTo==e.display.viewFrom||h.line>=e.display.viewTo||l.line<e.display.viewFrom)b.removeAllRanges();else{var q=kg(e,b.anchorNode,b.anchorOffset),A=kg(e,b.focusNode,b.focusOffset);if(!q||q.bad||
!A||A.bad||0!=ma(Pa(q,A),h)||0!=ma(Ia(q,A),l))if(q=e.display.view,h=h.line>=e.display.viewFrom&&ch(e,h)||{node:q[0].measure.map[2],offset:0},l=l.line<e.display.viewTo&&ch(e,l),l||(l=q[q.length-1].measure,l=l.maps?l.maps[l.maps.length-1]:l.map,l={node:l[l.length-1],offset:l[l.length-2]-l[l.length-3]}),h&&l){q=b.rangeCount&&b.getRangeAt(0);try{var M=Hf(h.node,h.offset,l.offset,l.node)}catch(P){}M&&(!of&&e.state.focused?(b.collapse(h.node,h.offset),M.collapsed||(b.removeAllRanges(),b.addRange(M))):(b.removeAllRanges(),
b.addRange(M)),q&&null==b.anchorNode?b.addRange(q):of&&this.startGracePeriod());this.rememberSelection()}else b.removeAllRanges()}};Dd.prototype.startGracePeriod=function(){var b=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){b.gracePeriod=!1;b.selectionChanged()&&b.cm.operation(function(){return b.cm.curOp.selectionChanged=!0})},20)};Dd.prototype.showMultipleSelections=function(b){Fa(this.cm.display.cursorDiv,b.cursors);Fa(this.cm.display.selectionDiv,b.selection)};Dd.prototype.rememberSelection=
function(){var b=this.getSelection();this.lastAnchorNode=b.anchorNode;this.lastAnchorOffset=b.anchorOffset;this.lastFocusNode=b.focusNode;this.lastFocusOffset=b.focusOffset};Dd.prototype.selectionInEditor=function(){var b=this.getSelection();if(!b.rangeCount)return!1;b=b.getRangeAt(0).commonAncestorContainer;return ha(this.div,b)};Dd.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&na()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())};
Dd.prototype.blur=function(){this.div.blur()};Dd.prototype.getField=function(){return this.div};Dd.prototype.supportsTouch=function(){return!0};Dd.prototype.receivedFocus=function(){function b(){l.cm.state.focused&&(l.pollSelection(),l.polling.set(l.cm.options.pollInterval,b))}var e=this,l=this;this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):rd(this.cm,function(){return l.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,b)};Dd.prototype.selectionChanged=
function(){var b=this.getSelection();return b.anchorNode!=this.lastAnchorNode||b.anchorOffset!=this.lastAnchorOffset||b.focusNode!=this.lastFocusNode||b.focusOffset!=this.lastFocusOffset};Dd.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var b=this.getSelection(),e=this.cm;if(cg&&bg&&this.cm.display.gutterSpecs.length&&Dh(b.anchorNode))this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();
else if(!this.composing){this.rememberSelection();var l=kg(e,b.anchorNode,b.anchorOffset),h=kg(e,b.focusNode,b.focusOffset);l&&h&&rd(e,function(){$a(e.doc,Hd(l,h),jf);if(l.bad||h.bad)e.curOp.selectionChanged=!0})}}};Dd.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var b=this.cm,e=b.display,l=b.doc.sel.primary(),h=l.from(),q=l.to();0==h.ch&&h.line>b.firstLine()&&(h=U(h.line-1,la(b.doc,h.line-1).length));q.ch==la(b.doc,q.line).text.length&&
q.line<b.lastLine()&&(q=U(q.line+1,0));if(h.line<e.viewFrom||q.line>e.viewTo-1)return!1;var A;h.line==e.viewFrom||0==(A=re(b,h.line))?(l=Aa(e.view[0].line),A=e.view[0].node):(l=Aa(e.view[A].line),A=e.view[A-1].node.nextSibling);var M=re(b,q.line);M==e.view.length-1?(q=e.viewTo-1,e=e.lineDiv.lastChild):(q=Aa(e.view[M+1].line)-1,e=e.view[M+1].node.previousSibling);if(!A)return!1;e=b.doc.splitLines(Eh(b,A,e,l,q));for(A=ua(b.doc,U(l,0),U(q,la(b.doc,q).text.length));1<e.length&&1<A.length;)if(R(e)==R(A))e.pop(),
A.pop(),q--;else if(e[0]==A[0])e.shift(),A.shift(),l++;else break;var P=0;M=0;for(var pa=e[0],Ka=A[0],Xa=Math.min(pa.length,Ka.length);P<Xa&&pa.charCodeAt(P)==Ka.charCodeAt(P);)++P;pa=R(e);Ka=R(A);for(Xa=Math.min(pa.length-(1==e.length?P:0),Ka.length-(1==A.length?P:0));M<Xa&&pa.charCodeAt(pa.length-M-1)==Ka.charCodeAt(Ka.length-M-1);)++M;if(1==e.length&&1==A.length&&l==h.line)for(;P&&P>h.ch&&pa.charCodeAt(pa.length-M-1)==Ka.charCodeAt(Ka.length-M-1);)P--,M++;e[e.length-1]=pa.slice(0,pa.length-M).replace(/^\u200b+/,
"");e[0]=e[0].slice(P).replace(/\u200b+$/,"");h=U(l,P);l=U(q,A.length?R(A).length-M:0);if(1<e.length||e[0]||ma(h,l))return Ib(b.doc,e,h,l,"+input"),!0};Dd.prototype.ensurePolled=function(){this.forceCompositionEnd()};Dd.prototype.reset=function(){this.forceCompositionEnd()};Dd.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())};Dd.prototype.readFromDOMSoon=function(){var b=this;null==
this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){b.readDOMTimeout=null;if(b.composing)if(b.composing.done)b.composing=null;else return;b.updateFromDOM()},80))};Dd.prototype.updateFromDOM=function(){var b=this;!this.cm.isReadOnly()&&this.pollContent()||rd(this.cm,function(){return Sd(b.cm)})};Dd.prototype.setUneditable=function(b){b.contentEditable="false"};Dd.prototype.onKeyPress=function(b){0==b.charCode||this.composing||(b.preventDefault(),this.cm.isReadOnly()||Wc(this.cm,Ag)(this.cm,
String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),0))};Dd.prototype.readOnlyChanged=function(b){this.div.contentEditable=String("nocursor"!=b)};Dd.prototype.onContextMenu=function(){};Dd.prototype.resetPosition=function(){};Dd.prototype.needsContentAttribute=!0;var de=function(b){this.cm=b;this.prevInput="";this.pollingFast=!1;this.polling=new sf;this.hasSelection=!1;this.composing=null};de.prototype.init=function(b){function e(M){if(!x(q,M)){if(q.somethingSelected())Se={lineWise:!1,text:q.getSelections()};
else if(q.options.lineWiseCopyCut){var P=Zg(q);Se={lineWise:!0,text:P.text};"cut"==M.type?q.setSelections(P.ranges,null,jf):(h.prevInput="",A.value=P.text.join("\n"),Tf(A))}else return;"cut"==M.type&&(q.state.cutIncoming=+new Date)}}var l=this,h=this,q=this.cm;this.createField(b);var A=this.textarea;b.wrapper.insertBefore(this.wrapper,b.wrapper.firstChild);Sf&&(A.style.width="0px");Uc(A,"input",function(){sd&&9<=Td&&l.hasSelection&&(l.hasSelection=null);h.poll()});Uc(A,"paste",function(M){x(q,M)||
Yg(M,q)||(q.state.pasteIncoming=+new Date,h.fastPoll())});Uc(A,"cut",e);Uc(A,"copy",e);Uc(b.scroller,"paste",function(M){if(!w(b,M)&&!x(q,M))if(A.dispatchEvent){var P=new Event("paste");P.clipboardData=M.clipboardData;A.dispatchEvent(P)}else q.state.pasteIncoming=+new Date,h.focus()});Uc(b.lineSpace,"selectstart",function(M){w(b,M)||ca(M)});Uc(A,"compositionstart",function(){var M=q.getCursor("from");h.composing&&h.composing.range.clear();h.composing={start:M,range:q.markText(M,q.getCursor("to"),
{className:"CodeMirror-composing"})}});Uc(A,"compositionend",function(){h.composing&&(h.poll(),h.composing.range.clear(),h.composing=null)})};de.prototype.createField=function(b){this.wrapper=ah();this.textarea=this.wrapper.firstChild};de.prototype.screenReaderLabelChanged=function(b){b?this.textarea.setAttribute("aria-label",b):this.textarea.removeAttribute("aria-label")};de.prototype.prepareSelection=function(){var b=this.cm,e=b.display,l=b.doc,h=C(b);if(b.options.moveInputWithCursor){b=Fc(b,l.sel.primary().head,
"div");l=e.wrapper.getBoundingClientRect();var q=e.lineDiv.getBoundingClientRect();h.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,b.top+q.top-l.top));h.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,b.left+q.left-l.left))}return h};de.prototype.showSelection=function(b){var e=this.cm.display;Fa(e.cursorDiv,b.cursors);Fa(e.selectionDiv,b.selection);null!=b.teTop&&(this.wrapper.style.top=b.teTop+"px",this.wrapper.style.left=b.teLeft+"px")};de.prototype.reset=function(b){if(!this.contextMenuPending&&
!this.composing){var e=this.cm;e.somethingSelected()?(this.prevInput="",b=e.getSelection(),this.textarea.value=b,e.state.focused&&Tf(this.textarea),sd&&9<=Td&&(this.hasSelection=b)):b||(this.prevInput=this.textarea.value="",sd&&9<=Td&&(this.hasSelection=null))}};de.prototype.getField=function(){return this.textarea};de.prototype.supportsTouch=function(){return!1};de.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Jf||na()!=this.textarea))try{this.textarea.focus()}catch(b){}};
de.prototype.blur=function(){this.textarea.blur()};de.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};de.prototype.receivedFocus=function(){this.slowPoll()};de.prototype.slowPoll=function(){var b=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){b.poll();b.cm.state.focused&&b.slowPoll()})};de.prototype.fastPoll=function(){function b(){l.poll()||e?(l.pollingFast=!1,l.slowPoll()):(e=!0,l.polling.set(60,b))}var e=!1,l=this;l.pollingFast=
!0;l.polling.set(20,b)};de.prototype.poll=function(){var b=this,e=this.cm,l=this.textarea,h=this.prevInput;if(this.contextMenuPending||!e.state.focused||Jh(l)&&!h&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var q=l.value;if(q==h&&!e.somethingSelected())return!1;if(sd&&9<=Td&&this.hasSelection===q||$e&&/[\uf700-\uf7ff]/.test(q))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var A=q.charCodeAt(0);8203!=A||h||(h="​");if(8666==A)return this.reset(),
this.cm.execCommand("undo")}var M=0;for(A=Math.min(h.length,q.length);M<A&&h.charCodeAt(M)==q.charCodeAt(M);)++M;rd(e,function(){Ag(e,q.slice(M),h.length-M,null,b.composing?"*compose":null);1E3<q.length||-1<q.indexOf("\n")?l.value=b.prevInput="":b.prevInput=q;b.composing&&(b.composing.range.clear(),b.composing.range=e.markText(b.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))});return!0};de.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)};
de.prototype.onKeyPress=function(){sd&&9<=Td&&(this.hasSelection=null);this.fastPoll()};de.prototype.onContextMenu=function(b){function e(){if(null!=M.selectionStart){var xb=q.somethingSelected(),Zb="​"+(xb?M.value:"");M.value="⇚";M.value=Zb;h.prevInput=xb?"":"​";M.selectionStart=1;M.selectionEnd=Zb.length;A.selForContextMenu=q.doc.sel}}function l(){if(h.contextMenuPending==l&&(h.contextMenuPending=!1,h.wrapper.style.cssText=Xa,M.style.cssText=Ka,sd&&9>Td&&A.scrollbars.setScrollTop(A.scroller.scrollTop=
pa),null!=M.selectionStart)){(!sd||sd&&9>Td)&&e();var xb=0,Zb=function(){A.selForContextMenu==q.doc.sel&&0==M.selectionStart&&0<M.selectionEnd&&"​"==h.prevInput?Wc(q,n)(q):10>xb++?A.detectingSelectAll=setTimeout(Zb,500):(A.selForContextMenu=null,A.input.reset())};A.detectingSelectAll=setTimeout(Zb,200)}}var h=this,q=h.cm,A=q.display,M=h.textarea;h.contextMenuPending&&h.contextMenuPending();var P=Yd(q,b),pa=A.scroller.scrollTop;if(P&&!ef){q.options.resetSelectionOnContextMenu&&-1==q.doc.sel.contains(P)&&
Wc(q,$a)(q.doc,Hd(P),jf);var Ka=M.style.cssText,Xa=h.wrapper.style.cssText;P=h.wrapper.offsetParent.getBoundingClientRect();h.wrapper.style.cssText="position: static";M.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(b.clientY-P.top-5)+"px; left: "+(b.clientX-P.left-5)+"px;\n      z-index: 1000; background: "+(sd?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity\x3d5);";
if(Ce)var pb=window.scrollY;A.input.focus();Ce&&window.scrollTo(null,pb);A.input.reset();q.somethingSelected()||(M.value=h.prevInput=" ");h.contextMenuPending=l;A.selForContextMenu=q.doc.sel;clearTimeout(A.detectingSelectAll);sd&&9<=Td&&e();if(xg){Oa(b);var vb=function(){v(window,"mouseup",vb);setTimeout(l,20)};Uc(window,"mouseup",vb)}else setTimeout(l,50)}};de.prototype.readOnlyChanged=function(b){b||this.reset();this.textarea.disabled="nocursor"==b;this.textarea.readOnly=!!b};de.prototype.setUneditable=
function(){};de.prototype.needsContentAttribute=!1;(function(b){function e(h,q,A,M){b.defaults[h]=q;A&&(l[h]=M?function(P,pa,Ka){Ka!=Ef&&A(P,pa,Ka)}:A)}var l=b.optionHandlers;b.defineOption=e;b.Init=Ef;e("value","",function(h,q){return h.setValue(q)},!0);e("mode",null,function(h,q){h.doc.modeOption=q;ze(h)},!0);e("indentUnit",2,ze,!0);e("indentWithTabs",!1);e("smartIndent",!0);e("tabSize",4,function(h){ee(h);bc(h);Sd(h)},!0);e("lineSeparator",null,function(h,q){if(h.doc.lineSep=q){var A=[],M=h.doc.first;
h.doc.iter(function(pa){for(var Ka=0;;){var Xa=pa.text.indexOf(q,Ka);if(-1==Xa)break;Ka=Xa+q.length;A.push(U(M,Xa))}M++});for(var P=A.length-1;0<=P;P--)Ib(h.doc,q,A[P],U(A[P].line,A[P].ch+q.length))}});e("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(h,q,A){h.state.specialChars=new RegExp(q.source+(q.test("\t")?"":"|\t"),"g");A!=Ef&&h.refresh()});e("specialCharPlaceholder",pd,function(h){return h.refresh()},!0);e("electricChars",
!0);e("inputStyle",Jf?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");},!0);e("spellcheck",!1,function(h,q){return h.getInputField().spellcheck=q},!0);e("autocorrect",!1,function(h,q){return h.getInputField().autocorrect=q},!0);e("autocapitalize",!1,function(h,q){return h.getInputField().autocapitalize=q},!0);e("rtlMoveVisually",!Ih);e("wholeLineUpdateBefore",!0);e("theme","default",function(h){Ug(h);Bd(h)},!0);e("keyMap","default",function(h,
q,A){q=kf(q);(A=A!=Ef&&kf(A))&&A.detach&&A.detach(h,q);q.attach&&q.attach(h,A||null)});e("extraKeys",null);e("configureMouse",null);e("lineWrapping",!1,Bh,!0);e("gutters",[],function(h,q){h.display.gutterSpecs=bf(q,h.options.lineNumbers);Bd(h)},!0);e("fixedGutter",!0,function(h,q){h.display.gutters.style.left=q?zc(h.display)+"px":"0";h.refresh()},!0);e("coverGutterNextToScrollbar",!1,function(h){return md(h)},!0);e("scrollbarStyle","native",function(h){Cd(h);md(h);h.display.scrollbars.setScrollTop(h.doc.scrollTop);
h.display.scrollbars.setScrollLeft(h.doc.scrollLeft)},!0);e("lineNumbers",!1,function(h,q){h.display.gutterSpecs=bf(h.options.gutters,q);Bd(h)},!0);e("firstLineNumber",1,Bd,!0);e("lineNumberFormatter",function(h){return h},Bd,!0);e("showCursorWhenSelecting",!1,t,!0);e("resetSelectionOnContextMenu",!0);e("lineWiseCopyCut",!0);e("pasteLinesPerSelection",!0);e("selectionsMayTouch",!1);e("readOnly",!1,function(h,q){"nocursor"==q&&(kb(h),h.display.input.blur());h.display.input.readOnlyChanged(q)});e("screenReaderLabel",
null,function(h,q){h.display.input.screenReaderLabelChanged(""===q?null:q)});e("disableInput",!1,function(h,q){q||h.display.input.reset()},!0);e("dragDrop",!0,Ah);e("allowDropFileTypes",null);e("cursorBlinkRate",530);e("cursorScrollMargin",0);e("cursorHeight",1,t,!0);e("singleCursorHeightPerLine",!0,t,!0);e("workTime",100);e("workDelay",100);e("flattenSpans",!0,ee,!0);e("addModeClass",!1,ee,!0);e("pollInterval",100);e("undoDepth",200,function(h,q){return h.doc.history.undoDepth=q});e("historyEventDelay",
1250);e("viewportMargin",10,function(h){return h.refresh()},!0);e("maxHighlightLength",1E4,ee,!0);e("moveInputWithCursor",!0,function(h,q){q||h.display.input.resetPosition()});e("tabindex",null,function(h,q){return h.display.input.getField().tabIndex=q||""});e("autofocus",null);e("direction","ltr",function(h,q){return h.doc.setDirection(q)},!0);e("phrases",null)})(Wd);(function(b){var e=b.optionHandlers,l=b.helpers={};b.prototype={constructor:b,focus:function(){window.focus();this.display.input.focus()},
setOption:function(h,q){var A=this.options,M=A[h];if(A[h]!=q||"mode"==h)A[h]=q,e.hasOwnProperty(h)&&Wc(this,e[h])(this,q,M),y(this,"optionChange",this,h)},getOption:function(h){return this.options[h]},getDoc:function(){return this.doc},addKeyMap:function(h,q){this.state.keyMaps[q?"push":"unshift"](kf(h))},removeKeyMap:function(h){for(var q=this.state.keyMaps,A=0;A<q.length;++A)if(q[A]==h||q[A].name==h)return q.splice(A,1),!0},addOverlay:hd(function(h,q){var A=h.token?h:b.getMode(this.options,h);if(A.startState)throw Error("Overlays may not be stateful.");
N(this.state.overlays,{mode:A,modeSpec:h,opaque:q&&q.opaque,priority:q&&q.priority||0},function(M){return M.priority});this.state.modeGen++;Sd(this)}),removeOverlay:hd(function(h){for(var q=this.state.overlays,A=0;A<q.length;++A){var M=q[A].modeSpec;if(M==h||"string"==typeof h&&M.name==h){q.splice(A,1);this.state.modeGen++;Sd(this);break}}}),indentLine:hd(function(h,q,A){"string"!=typeof q&&"number"!=typeof q&&(q=null==q?this.options.smartIndent?"smart":"prev":q?"add":"subtract");K(this.doc,h)&&Rf(this,
h,q,A)}),indentSelection:hd(function(h){for(var q=this.doc.sel.ranges,A=-1,M=0;M<q.length;M++){var P=q[M];if(P.empty())P.head.line>A&&(Rf(this,P.head.line,h,!0),A=P.head.line,M==this.doc.sel.primIndex&&ld(this));else{var pa=P.from();P=P.to();var Ka=Math.max(A,pa.line);A=Math.min(this.lastLine(),P.line-(P.ch?0:1))+1;for(P=Ka;P<A;++P)Rf(this,P,h);P=this.doc.sel.ranges;0==pa.ch&&q.length==P.length&&0<P[M].from().ch&&Me(this.doc,M,new vd(pa,P[M].to()),jf)}}}),getTokenAt:function(h,q){return bb(this,h,
q)},getLineTokens:function(h,q){return bb(this,U(h),q,!0)},getTokenTypeAt:function(h){h=rb(this.doc,h);var q=Gb(this,la(this.doc,h.line)),A=0,M=(q.length-1)/2;h=h.ch;if(0==h)q=q[2];else for(;;){var P=A+M>>1;if((P?q[2*P-1]:0)>=h)M=P;else if(q[2*P+1]<h)A=P+1;else{q=q[2*P+2];break}}A=q?q.indexOf("overlay "):-1;return 0>A?q:0==A?null:q.slice(0,A-1)},getModeAt:function(h){var q=this.doc.mode;return q.innerMode?b.innerMode(q,this.getTokenAt(h).state).mode:q},getHelper:function(h,q){return this.getHelpers(h,
q)[0]},getHelpers:function(h,q){var A=[];if(!l.hasOwnProperty(q))return A;var M=l[q];h=this.getModeAt(h);if("string"==typeof h[q])M[h[q]]&&A.push(M[h[q]]);else if(h[q])for(var P=0;P<h[q].length;P++){var pa=M[h[q][P]];pa&&A.push(pa)}else h.helperType&&M[h.helperType]?A.push(M[h.helperType]):M[h.name]&&A.push(M[h.name]);for(q=0;q<M._global.length;q++)P=M._global[q],P.pred(h,this)&&-1==W(A,P.val)&&A.push(P.val);return A},getStateAfter:function(h,q){var A=this.doc;h=Math.max(A.first,Math.min(null==h?
A.first+A.size-1:h,A.first+A.size-1));return gc(this,h+1,q).state},cursorCoords:function(h,q){var A=this.doc.sel.primary();h=null==h?A.head:"object"==typeof h?rb(this.doc,h):h?A.from():A.to();return Fc(this,h,q||"page")},charCoords:function(h,q){return sc(this,rb(this.doc,h),q||"page")},coordsChar:function(h,q){h=Sc(this,h,q||"page");return Tc(this,h.left,h.top)},lineAtHeight:function(h,q){h=Sc(this,{top:h,left:0},q||"page").top;return Na(this.doc,h+this.display.viewOffset)},heightAtLine:function(h,
q,A){var M=!1;if("number"==typeof h){var P=this.doc.first+this.doc.size-1;h<this.doc.first?h=this.doc.first:h>P&&(h=P,M=!0);h=la(this.doc,h)}return ed(this,h,{top:0,left:0},q||"page",A||M).top+(M?this.doc.height-Zc(h):0)},defaultTextHeight:function(){return ne(this.display)},defaultCharWidth:function(){return Xd(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(h,q,A,M,P){var pa=this.display;h=Fc(this,rb(this.doc,h));var Ka=h.bottom,
Xa=h.left;q.style.position="absolute";q.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(q);pa.sizer.appendChild(q);if("over"==M)Ka=h.top;else if("above"==M||"near"==M){var pb=Math.max(pa.wrapper.clientHeight,this.doc.height),vb=Math.max(pa.sizer.clientWidth,pa.lineSpace.clientWidth);("above"==M||h.bottom+q.offsetHeight>pb)&&h.top>q.offsetHeight?Ka=h.top-q.offsetHeight:h.bottom+q.offsetHeight<=pb&&(Ka=h.bottom);Xa+q.offsetWidth>vb&&(Xa=vb-q.offsetWidth)}q.style.top=Ka+"px";
q.style.left=q.style.right="";"right"==P?(Xa=pa.sizer.clientWidth-q.offsetWidth,q.style.right="0px"):("left"==P?Xa=0:"middle"==P&&(Xa=(pa.sizer.clientWidth-q.offsetWidth)/2),q.style.left=Xa+"px");A&&(h=$c(this,{left:Xa,top:Ka,right:Xa+q.offsetWidth,bottom:Ka+q.offsetHeight}),null!=h.scrollTop&&qd(this,h.scrollTop),null!=h.scrollLeft&&Qc(this,h.scrollLeft))},triggerOnKeyDown:hd(Og),triggerOnKeyPress:hd(Qg),triggerOnKeyUp:Pg,triggerOnMouseDown:hd(Rg),execCommand:function(h){if(Nf.hasOwnProperty(h))return Nf[h].call(null,
this)},triggerElectric:hd(function(h){Xg(this,h)}),findPosH:function(h,q,A,M){var P=1;0>q&&(P=-1,q=-q);h=rb(this.doc,h);for(var pa=0;pa<q&&(h=Cg(this.doc,h,P,A,M),!h.hitSide);++pa);return h},moveH:hd(function(h,q){var A=this;this.extendSelectionsBy(function(M){return A.display.shift||A.doc.extend||M.empty()?Cg(A.doc,M.head,h,q,A.options.rtlMoveVisually):0>h?M.from():M.to()},Uf)}),deleteH:hd(function(h,q){var A=this.doc;this.doc.sel.somethingSelected()?A.replaceSelection("",null,"+delete"):Df(this,
function(M){var P=Cg(A,M.head,h,q,!1);return 0>h?{from:P,to:M.head}:{from:M.head,to:P}})}),findPosV:function(h,q,A,M){var P=1;0>q&&(P=-1,q=-q);var pa=rb(this.doc,h);for(h=0;h<q&&(pa=Fc(this,pa,"div"),null==M?M=pa.left:pa.left=M,pa=bh(this,pa,P,A),!pa.hitSide);++h);return pa},moveV:hd(function(h,q){var A=this,M=this.doc,P=[],pa=!this.display.shift&&!M.extend&&M.sel.somethingSelected();M.extendSelectionsBy(function(Xa){if(pa)return 0>h?Xa.from():Xa.to();var pb=Fc(A,Xa.head,"div");null!=Xa.goalColumn&&
(pb.left=Xa.goalColumn);P.push(pb.left);var vb=bh(A,pb,h,q);"page"==q&&Xa==M.sel.primary()&&Gc(A,sc(A,vb,"div").top-pb.top);return vb},Uf);if(P.length)for(var Ka=0;Ka<M.sel.ranges.length;Ka++)M.sel.ranges[Ka].goalColumn=P[Ka]}),findWordAt:function(h){var q=la(this.doc,h.line).text,A=h.ch,M=h.ch;if(q){var P=this.getHelper(h,"wordChars");"before"!=h.sticky&&M!=q.length||!A?++M:--A;var pa=q.charAt(A);for(pa=X(pa,P)?function(Ka){return X(Ka,P)}:/\s/.test(pa)?function(Ka){return/\s/.test(Ka)}:function(Ka){return!/\s/.test(Ka)&&
!X(Ka)};0<A&&pa(q.charAt(A-1));)--A;for(;M<q.length&&pa(q.charAt(M));)++M}return new vd(U(h.line,A),U(h.line,M))},toggleOverwrite:function(h){if(null==h||h!=this.state.overwrite)(this.state.overwrite=!this.state.overwrite)?Ca(this.display.cursorDiv,"CodeMirror-overwrite"):wf(this.display.cursorDiv,"CodeMirror-overwrite"),y(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==na()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},
scrollTo:hd(function(h,q){gd(this,h,q)}),getScrollInfo:function(){var h=this.display.scroller;return{left:h.scrollLeft,top:h.scrollTop,height:h.scrollHeight-sa(this)-this.display.barHeight,width:h.scrollWidth-sa(this)-this.display.barWidth,clientHeight:Ya(this),clientWidth:ta(this)}},scrollIntoView:hd(function(h,q){null==h?(h={from:this.doc.sel.primary().head,to:null},null==q&&(q=this.options.cursorScrollMargin)):"number"==typeof h?h={from:U(h,0),to:null}:null==h.from&&(h={from:h,to:null});h.to||
(h.to=h.from);h.margin=q||0;null!=h.from.line?(Ud(this),this.curOp.scrollToPos=h):Mc(this,h.from,h.to,h.margin)}),setSize:hd(function(h,q){var A=this,M=function(pa){return"number"==typeof pa||/^\d+$/.test(String(pa))?pa+"px":pa};null!=h&&(this.display.wrapper.style.width=M(h));null!=q&&(this.display.wrapper.style.height=M(q));this.options.lineWrapping&&xc(this);var P=this.display.viewFrom;this.doc.iter(P,this.display.viewTo,function(pa){if(pa.widgets)for(var Ka=0;Ka<pa.widgets.length;Ka++)if(pa.widgets[Ka].noHScroll){ce(A,
P,"widget");break}++P});this.curOp.forceUpdate=!0;y(this,"refresh",this)}),operation:function(h){return rd(this,h)},startOperation:function(){return jd(this)},endOperation:function(){return od(this)},refresh:hd(function(){var h=this.display.cachedTextHeight;Sd(this);this.curOp.forceUpdate=!0;bc(this);gd(this,this.doc.scrollLeft,this.doc.scrollTop);ve(this.display);(null==h||.5<Math.abs(h-ne(this.display))||this.options.lineWrapping)&&nd(this);y(this,"refresh",this)}),swapDoc:hd(function(h){var q=
this.doc;q.cm=null;this.state.selectingText&&this.state.selectingText();Le(this,h);bc(this);this.display.input.reset();gd(this,h.scrollLeft,h.scrollTop);this.curOp.forceScroll=!0;Xb(this,"swapDoc",this,q);return q}),phrase:function(h){var q=this.options.phrases;return q&&Object.prototype.hasOwnProperty.call(q,h)?q[h]:h},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},
getGutterElement:function(){return this.display.gutters}};wa(b);b.registerHelper=function(h,q,A){l.hasOwnProperty(h)||(l[h]=b[h]={_global:[]});l[h][q]=A};b.registerGlobalHelper=function(h,q,A,M){b.registerHelper(h,q,M);l[h]._global.push({pred:A,val:M})}})(Wd);var Lh="iter insert remove copy getEditor constructor".split(" "),Yf;for(Yf in Je.prototype)Je.prototype.hasOwnProperty(Yf)&&0>W(Lh,Yf)&&(Wd.prototype[Yf]=function(b){return function(){return b.apply(this.doc,arguments)}}(Je.prototype[Yf]));
wa(Je);Wd.inputStyles={textarea:de,contenteditable:Dd};Wd.defineMode=function(b){Wd.defaults.mode||"null"==b||(Wd.defaults.mode=b);tb.apply(this,arguments)};Wd.defineMIME=function(b,e){zf[b]=e};Wd.defineMode("null",function(){return{token:function(b){return b.skipToEnd()}}});Wd.defineMIME("text/plain","null");Wd.defineExtension=function(b,e){Wd.prototype[b]=e};Wd.defineDocExtension=function(b,e){Je.prototype[b]=e};Wd.fromTextArea=function(b,e){function l(){b.value=P.getValue()}e=e?Q(e):{};e.value=
b.value;!e.tabindex&&b.tabIndex&&(e.tabindex=b.tabIndex);!e.placeholder&&b.placeholder&&(e.placeholder=b.placeholder);if(null==e.autofocus){var h=na();e.autofocus=h==b||null!=b.getAttribute("autofocus")&&h==document.body}if(b.form&&(Uc(b.form,"submit",l),!e.leaveSubmitMethodAlone)){var q=b.form;var A=q.submit;try{var M=q.submit=function(){l();q.submit=A;q.submit();q.submit=M}}catch(pa){}}e.finishInit=function(pa){pa.save=l;pa.getTextArea=function(){return b};pa.toTextArea=function(){pa.toTextArea=
isNaN;l();b.parentNode.removeChild(pa.getWrapperElement());b.style.display="";b.form&&(v(b.form,"submit",l),e.leaveSubmitMethodAlone||"function"!=typeof b.form.submit||(b.form.submit=A))}};b.style.display="none";var P=Wd(function(pa){return b.parentNode.insertBefore(pa,b.nextSibling)},e);return P};(function(b){b.off=v;b.on=Uc;b.wheelEventPixels=Te;b.Doc=Je;b.splitLines=Bg;b.countColumn=ba;b.findColumn=aa;b.isWordChar=E;b.Pass=gg;b.signal=y;b.Line=Cf;b.changeEnd=Od;b.scrollbarModel=Fg;b.Pos=U;b.cmpPos=
ma;b.modes=ng;b.mimeModes=zf;b.resolveMode=gb;b.getMode=qb;b.modeExtensions=Af;b.extendMode=nb;b.copyState=Ma;b.startState=oa;b.innerMode=fb;b.commands=Nf;b.keyMap=Mf;b.keyName=lf;b.isModifierKey=Ac;b.lookupKey=af;b.normalizeKeyMap=Be;b.StringStream=ge;b.SharedTextMarker=Lf;b.TextMarker=qf;b.LineWidget=Kf;b.e_preventDefault=ca;b.e_stopPropagation=fa;b.e_stop=Oa;b.addClass=Ca;b.contains=ha;b.rmClass=wf;b.keyNames=rf})(Wd);Wd.version="5.65.2";return Wd})}
goog.provide("module$node_modules$codemirror$lib$codemirror");
goog.global. module$node_modules$codemirror$lib$codemirror=shadow.js.require(1, {});
