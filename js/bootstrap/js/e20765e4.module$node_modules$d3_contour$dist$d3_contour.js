shadow$provide[31]=function(mc,Nb,Tb,Hb){(function(m,ka){"object"===typeof Hb&&"undefined"!==typeof Tb?ka(Hb,Nb(17)):"function"===typeof define&&define.amd?define(["exports","d3-array"],ka):ka(m.d3=m.d3||{},m.d3)})(this,function(m,ka){function Fa(aa,H){return aa-H}function u(aa){return function(){return aa}}function B(){}function ha(){function aa(X){var ra=Y(X);if(Array.isArray(ra))ra=ra.slice().sort(Fa);else{var ya=ka.extent(X),c=ya[0];ya=ya[1];ra=ka.tickStep(c,ya,ra);ra=ka.range(Math.floor(c/ra)*
ra,Math.floor(ya/ra)*ra,ra)}return ra.map(function(d){return H(X,d)})}function H(X,ra){var ya=[],c=[];R(X,ra,function(d){E(d,X,ra);for(var f=0,k=d.length,p=d[k-1][1]*d[0][0]-d[k-1][0]*d[0][1];++f<k;)p+=d[f-1][1]*d[f][0]-d[f-1][0]*d[f][1];0<p?ya.push([d]):c.push(d)});c.forEach(function(d){for(var f=0,k=ya.length,p;f<k;++f){a:{var v=(p=ya[f])[0];for(var y=d,x=-1,J=y.length;++x<J;){b:{var da=v;for(var wa=y[x],ca=wa[0],fa=wa[1],Ha=-1,Oa=0,Wa=da.length,tb=Wa-1;Oa<Wa;tb=Oa++){var gb=da[Oa],qb=gb[0],nb=
gb[1],Ma=da[tb];tb=Ma[0];var fb=Ma[1],oa,la=gb;gb=Ma;Ma=wa;if(oa=(gb[0]-la[0])*(Ma[1]-la[1])===(Ma[0]-la[0])*(gb[1]-la[1]))la=la[oa=+(la[0]===gb[0])],Ma=Ma[oa],gb=gb[oa],oa=la<=Ma&&Ma<=gb||gb<=Ma&&Ma<=la;if(oa){da=0;break b}nb>fa!==fb>fa&&ca<(tb-qb)*(fa-nb)/(fb-nb)+qb&&(Ha=-Ha)}da=Ha}if(da){v=da;break a}}v=0}if(-1!==v){p.push(d);break}}});return{type:"MultiPolygon",value:ra,coordinates:ya}}function R(X,ra,ya){function c(da){var wa=[da[0][0]+p,da[0][1]+k];da=[da[1][0]+p,da[1][1]+k];var ca=2*wa[0]+
wa[1]*(N+1)*4,fa=2*da[0]+da[1]*(N+1)*4,Ha,Oa;(Ha=f[ca])?(Oa=d[fa])?(delete f[Ha.end],delete d[Oa.start],Ha===Oa?(Ha.ring.push(da),ya(Ha.ring)):d[Ha.start]=f[Oa.end]={start:Ha.start,end:Oa.end,ring:Ha.ring.concat(Oa.ring)}):(delete f[Ha.end],Ha.ring.push(da),f[Ha.end=fa]=Ha):(Ha=d[fa])?(Oa=f[ca])?(delete d[Ha.start],delete f[Oa.end],Ha===Oa?(Ha.ring.push(da),ya(Ha.ring)):d[Oa.start]=f[Ha.end]={start:Oa.start,end:Ha.end,ring:Oa.ring.concat(Ha.ring)}):(delete d[Ha.start],Ha.ring.unshift(wa),d[Ha.start=
ca]=Ha):d[ca]=f[fa]={start:ca,end:fa,ring:[wa,da]}}var d=[],f=[],k;var p=k=-1;var v=X[0]>=ra;for(W[v<<1].forEach(c);++p<N-1;){var y=v;v=X[p+1]>=ra;W[y|v<<1].forEach(c)}for(W[v<<0].forEach(c);++k<O-1;){p=-1;v=X[k*N+N]>=ra;var x=X[k*N]>=ra;for(W[v<<1|x<<2].forEach(c);++p<N-1;){y=v;v=X[k*N+N+p+1]>=ra;var J=x;x=X[k*N+p+1]>=ra;W[y|v<<1|x<<2|J<<3].forEach(c)}W[v|x<<3].forEach(c)}p=-1;x=X[k*N]>=ra;for(W[x<<2].forEach(c);++p<N-1;)J=x,x=X[k*N+p+1]>=ra,W[x<<2|J<<3].forEach(c);W[x<<3].forEach(c)}function ja(X,
ra,ya){X.forEach(function(c){var d=c[0],f=c[1],k=d|0,p=f|0,v=ra[p*N+k];if(0<d&&d<N&&k===d){var y=ra[p*N+k-1];c[0]=d+(ya-y)/(v-y)-.5}0<f&&f<O&&p===f&&(y=ra[(p-1)*N+k],c[1]=f+(ya-y)/(v-y)-.5)})}var N=1,O=1,Y=ka.thresholdSturges,E=ja;aa.contour=H;aa.size=function(X){if(!arguments.length)return[N,O];var ra=Math.ceil(X[0]),ya=Math.ceil(X[1]);if(!(0<ra&&0<ya))throw Error("invalid size");return N=ra,O=ya,aa};aa.thresholds=function(X){return arguments.length?(Y="function"===typeof X?X:Array.isArray(X)?u(ba.call(X)):
u(X),aa):Y};aa.smooth=function(X){return arguments.length?(E=X?ja:B,aa):E===ja};return aa}function na(aa,H,R){for(var ja=aa.width,N=aa.height,O=(R<<1)+1,Y=0;Y<N;++Y)for(var E=0,X=0;E<ja+R;++E)E<ja&&(X+=aa.data[E+Y*ja]),E>=R&&(E>=O&&(X-=aa.data[E-O+Y*ja]),H.data[E-R+Y*ja]=X/Math.min(E+1,ja-1+O-E,O))}function Ca(aa,H,R){for(var ja=aa.width,N=aa.height,O=(R<<1)+1,Y=0;Y<ja;++Y)for(var E=0,X=0;E<N+R;++E)E<N&&(X+=aa.data[Y+E*ja]),E>=R&&(E>=O&&(X-=aa.data[Y+(E-O)*ja]),H.data[Y+(E-R)*ja]=X/Math.min(E+1,N-
1+O-E,O))}function La(aa){return aa[0]}function ea(aa){return aa[1]}function Q(){return 1}var ba=Array.prototype.slice,W=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];m.contours=ha;m.contourDensity=function(){function aa(y){var x=new Float32Array(k*
p),J=new Float32Array(k*p);y.forEach(function(da,wa,ca){var fa=+Y(da,wa,ca)+f>>d,Ha=+E(da,wa,ca)+f>>d;da=+X(da,wa,ca);0<=fa&&fa<k&&0<=Ha&&Ha<p&&(x[fa+Ha*k]+=da)});na({width:k,height:p,data:x},{width:k,height:p,data:J},c>>d);Ca({width:k,height:p,data:J},{width:k,height:p,data:x},c>>d);na({width:k,height:p,data:x},{width:k,height:p,data:J},c>>d);Ca({width:k,height:p,data:J},{width:k,height:p,data:x},c>>d);na({width:k,height:p,data:x},{width:k,height:p,data:J},c>>d);Ca({width:k,height:p,data:J},{width:k,
height:p,data:x},c>>d);y=v(x);Array.isArray(y)||(J=ka.max(x),y=ka.tickStep(0,J,y),y=ka.range(0,Math.floor(J/y)*y,y),y.shift());return ha().thresholds(y).size([k,p])(x).map(H)}function H(y){y.value*=Math.pow(2,-2*d);y.coordinates.forEach(R);return y}function R(y){y.forEach(ja)}function ja(y){y.forEach(N)}function N(y){y[0]=y[0]*Math.pow(2,d)-f;y[1]=y[1]*Math.pow(2,d)-f}function O(){f=3*c;k=ra+2*f>>d;p=ya+2*f>>d;return aa}var Y=La,E=ea,X=Q,ra=960,ya=500,c=20,d=2,f=3*c,k=ra+2*f>>d,p=ya+2*f>>d,v=u(20);
aa.x=function(y){return arguments.length?(Y="function"===typeof y?y:u(+y),aa):Y};aa.y=function(y){return arguments.length?(E="function"===typeof y?y:u(+y),aa):E};aa.weight=function(y){return arguments.length?(X="function"===typeof y?y:u(+y),aa):X};aa.size=function(y){if(!arguments.length)return[ra,ya];var x=Math.ceil(y[0]),J=Math.ceil(y[1]);if(!(0<=x||0<=x))throw Error("invalid size");return ra=x,ya=J,O()};aa.cellSize=function(y){if(!arguments.length)return 1<<d;if(!(1<=(y=+y)))throw Error("invalid cell size");
return d=Math.floor(Math.log(y)/Math.LN2),O()};aa.thresholds=function(y){return arguments.length?(v="function"===typeof y?y:Array.isArray(y)?u(ba.call(y)):u(y),aa):v};aa.bandwidth=function(y){if(!arguments.length)return Math.sqrt(c*(c+1));if(!(0<=(y=+y)))throw Error("invalid bandwidth");return c=Math.round((Math.sqrt(4*y*y+1)-1)/2),O()};return aa};Object.defineProperty(m,"__esModule",{value:!0})})}
goog.provide("module$node_modules$d3_contour$dist$d3_contour");
goog.global. module$node_modules$d3_contour$dist$d3_contour=shadow.js.require(31, {});
